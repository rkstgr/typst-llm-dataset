{
  "topic_metadata": {
    "id": 848,
    "title": "How do I write a function that displays a text in a box with a heading?",
    "slug": "how-do-i-write-a-function-that-displays-a-text-in-a-box-with-a-heading",
    "posts_count": 5,
    "created_at": "2024-10-01T19:20:04.635Z",
    "last_posted_at": "2024-10-02T06:30:21.975Z",
    "views": 599,
    "like_count": 2,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 5,
    "accepted_answer_username": "Andrew",
    "tags": [],
    "category_id": 5,
    "participant_count": 5,
    "word_count": 612
  },
  "posts": [
    {
      "id": 3125,
      "post_number": 1,
      "username": "Olaf",
      "name": "Olaf",
      "created_at": "2024-10-01T19:20:04.775Z",
      "updated_at": "2024-10-01T19:29:28.358Z",
      "cooked": "<p>I would like to have a function that displays any content in a box and provides it with a heading. The image shows an example (the text should not be painted over). The double border is not important to me. A single border is sufficient.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let my_box(title, content) = {\n    // ...\n}\n</code></pre>\n<p>And that’s how I wanted to use the function:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#my_box([This is a title]) [\n    - And here\n    - is the content\n]\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/1X/f5ef6ee4cbac17337da20e3878c392b7775675a6.png\" data-download-href=\"https://forum.typst.app/uploads/default/f5ef6ee4cbac17337da20e3878c392b7775675a6\" title=\"box-example\"><img src=\"https://forum.typst.app/uploads/default/optimized/1X/f5ef6ee4cbac17337da20e3878c392b7775675a6_2_690x227.png\" alt=\"box-example\" data-base62-sha1=\"z5DXJC7trEVapzpuuiBSMnHMfxs\" width=\"690\" height=\"227\" srcset=\"https://forum.typst.app/uploads/default/optimized/1X/f5ef6ee4cbac17337da20e3878c392b7775675a6_2_690x227.png, https://forum.typst.app/uploads/default/original/1X/f5ef6ee4cbac17337da20e3878c392b7775675a6.png 1.5x, https://forum.typst.app/uploads/default/original/1X/f5ef6ee4cbac17337da20e3878c392b7775675a6.png 2x\" data-dominant-color=\"D7DAD2\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">box-example</span><span class=\"informations\">716×236 38.2 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>",
      "raw": "I would like to have a function that displays any content in a box and provides it with a heading. The image shows an example (the text should not be painted over). The double border is not important to me. A single border is sufficient.  \n\n```typ\n#let my_box(title, content) = {\n    // ...\n}\n```\n\nAnd that's how I wanted to use the function:\n\n\n```typ\n#my_box([This is a title]) [\n    - And here\n    - is the content\n]\n```\n\n![box-example|690x227](upload://z5DXJC7trEVapzpuuiBSMnHMfxs.png)",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 52,
      "score": 2815.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 418
    },
    {
      "id": 3129,
      "post_number": 2,
      "username": "Adrian_Weitkemper",
      "name": "Adron",
      "created_at": "2024-10-01T19:37:59.446Z",
      "updated_at": "2024-10-01T19:41:52.128Z",
      "cooked": "<p>Is this good enough?:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\"> #let my_box(title, body) = {\n    box(stroke: 1pt, outset: 2pt, title)\n    linebreak()\n    v(-9pt)\n    box(stroke: 1pt, outset: 2pt, body)\n}\n\n#my_box([This is a title])[\n    - And here\n    - is the content\n]\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/1X/5556c85b5ae23b931c67b9b42bba296e0355a6e5.png\" alt=\"grafik\" data-base62-sha1=\"caWvZie3ERLR1E94Vii1e5xtxZj\" width=\"339\" height=\"181\"></p>\n<p>I wrote down the function call again, because it is important that there is no space between the closing round bracket and the opening “[” for Typst to understand that it should be the content of the function.<br>\nI think you could also add a slight offset to the title box and let the content begin a little bit lower if you want to mimic your example picture a bit more. If you need help with that, feel free to ask again :)</p>",
      "raw": "Is this good enough?: \n```typst\n #let my_box(title, body) = {\n    box(stroke: 1pt, outset: 2pt, title)\n    linebreak()\n    v(-9pt)\n    box(stroke: 1pt, outset: 2pt, body)\n}\n\n#my_box([This is a title])[\n    - And here\n    - is the content\n]\n```\n![grafik|339x181](upload://caWvZie3ERLR1E94Vii1e5xtxZj.png)\n\n\nI wrote down the function call again, because it is important that there is no space between the closing round bracket and the opening \"[\" for Typst to understand that it should be the content of the function.\nI think you could also add a slight offset to the title box and let the content begin a little bit lower if you want to mimic your example picture a bit more. If you need help with that, feel free to ask again :)",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 47,
      "score": 24.4,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 277
    },
    {
      "id": 3134,
      "post_number": 3,
      "username": "maucejo",
      "name": "Mathieu Aucejo",
      "created_at": "2024-10-01T20:51:34.381Z",
      "updated_at": "2024-10-01T20:51:42.098Z",
      "cooked": "<p><code>showybox</code> may fit your needs.</p>",
      "raw": "`showybox` may fit your needs.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 2,
      "reads": 43,
      "score": 83.6,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 125
    },
    {
      "id": 3142,
      "post_number": 4,
      "username": "Blaz",
      "name": "Blaz",
      "created_at": "2024-10-01T21:41:33.798Z",
      "updated_at": "2024-10-01T23:59:46.491Z",
      "cooked": "<p>Here’s my attempt:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let my-box(title, content) = {\n  block(stroke: .5pt, inset: (x: 8pt, top: 16pt, bottom: 8pt))[\n    #place(top+left, dx: -12pt, dy: -20pt)[\n      #block(stroke: .5pt, inset: 4pt, fill: white, title)\n    ]\n    #content\n  ]\n}\n\n#my-box([Some title])[\n  - Here is\n  - the content.\n]\n</code></pre>\n<details>\n<summary>\nOutput</summary>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/1X/6f54c06873d7bb98a67847ed5364387ad6fc4343.png\" data-download-href=\"https://forum.typst.app/uploads/default/6f54c06873d7bb98a67847ed5364387ad6fc4343\" title=\"my-box\"><img src=\"https://forum.typst.app/uploads/default/optimized/1X/6f54c06873d7bb98a67847ed5364387ad6fc4343_2_690x424.png\" alt=\"my-box\" data-base62-sha1=\"fSSzSpMmtbmUGpiju29aiYLXzYn\" width=\"690\" height=\"424\" srcset=\"https://forum.typst.app/uploads/default/optimized/1X/6f54c06873d7bb98a67847ed5364387ad6fc4343_2_690x424.png, https://forum.typst.app/uploads/default/original/1X/6f54c06873d7bb98a67847ed5364387ad6fc4343.png 1.5x, https://forum.typst.app/uploads/default/original/1X/6f54c06873d7bb98a67847ed5364387ad6fc4343.png 2x\" data-dominant-color=\"EBEBEB\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">my-box</span><span class=\"informations\">907×558 59.2 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n</details>\n<p>Edit: if the title is long and the content block is not wide enough, it will break and overlap the content block. One can combine <code>context</code> and <code>measure</code> to dynamically create the needed spacing:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let my-box(title, content) = {\n  let title-box = box(width: 60pt, stroke: .5pt, inset: 4pt, fill: white, title)\n  \n  context block(stroke: .5pt, inset: 8pt, breakable: false)[\n    #v(measure(title-box).height)\n    #place(top+left, dx: -12pt, dy: -12pt, title-box)\n    #content\n  ]\n}\n</code></pre>\n<p>The disadvantage of this is that the title box needs to have a fixed width, otherwise <code>measure</code> will assume infinite space and return 0.</p>",
      "raw": "Here's my attempt:\n\n```typ\n#let my-box(title, content) = {\n  block(stroke: .5pt, inset: (x: 8pt, top: 16pt, bottom: 8pt))[\n    #place(top+left, dx: -12pt, dy: -20pt)[\n      #block(stroke: .5pt, inset: 4pt, fill: white, title)\n    ]\n    #content\n  ]\n}\n\n#my-box([Some title])[\n  - Here is\n  - the content.\n]\n```\n[details=\"Output\"]\n![my-box|690x424](upload://fSSzSpMmtbmUGpiju29aiYLXzYn.png)\n[/details]\n\nEdit: if the title is long and the content block is not wide enough, it will break and overlap the content block. One can combine `context` and `measure` to dynamically create the needed spacing:\n```typ\n#let my-box(title, content) = {\n  let title-box = box(width: 60pt, stroke: .5pt, inset: 4pt, fill: white, title)\n  \n  context block(stroke: .5pt, inset: 8pt, breakable: false)[\n    #v(measure(title-box).height)\n    #place(top+left, dx: -12pt, dy: -12pt, title-box)\n    #content\n  ]\n}\n```\nThe disadvantage of this is that the title box needs to have a fixed width, otherwise `measure` will assume infinite space and return 0.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 43,
      "score": 58.6,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 98
    },
    {
      "id": 3162,
      "post_number": 5,
      "username": "Andrew",
      "name": "",
      "created_at": "2024-10-02T06:30:21.975Z",
      "updated_at": "2024-10-02T11:33:22.708Z",
      "cooked": "<p>Indeed, showybox is a great package for this, but unfortunately it slightly lacks configuration flexibility. You can use shadow for this, but for shadow you can only set <code>fill</code>, but not <code>stroke</code>. Here I modified it (don’t know how long will the link last, maybe you should <a href=\"https://github.com/Pablo-Gonzalez-Calderon/showybox-package/issues\" rel=\"noopener nofollow ugc\">pitch the feature</a> to the author so it can be included in the official package version):<br>\n<a href=\"https://github.com/user-attachments/files/17220540/showybox.2.0.1.zip\" rel=\"noopener nofollow ugc\">showybox:2.0.1.zip</a></p>\n<p>With this I can do:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#import \"@preview/showybox:2.0.1\": showybox\n#showybox(\n  width: 11cm,\n  frame: (title-color: white, radius: 0pt),\n  shadow: (color: black, offset: 0.2em),\n  title-style: (\n    color: black,\n    boxed-style: (\n      anchor: (x: start, y: top),\n      offset: (x: -1.4em, y: -0.4em),\n      radius: 0pt,\n    ),\n  ),\n  title: lorem(2),\n  lorem(25),\n)\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/1X/c8f1172d1b0faa9ce278dfd4035223e8215dd9eb.png\" alt=\"image\" data-base62-sha1=\"sFC1KigYWV0c3u8y5OkxlAp4ILF\" width=\"661\" height=\"180\"></p>\n<p>And here is my one-file solution:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let shadow-box(title, body, offset: 2pt, title-offset: 2pt) = {\n  let frame = block.with(\n    width: 11cm, // This probably should be removed.\n    inset: (top: 3em, rest: 0.7em),\n    fill: white,\n    stroke: black,\n  )\n  let title-frame = frame.with(width: auto, inset: 0.7em)\n  context {\n    let body-height = measure(frame(body)).height\n    place(dx: offset, dy: offset, frame(hide(body))) // shadow\n    frame(body)\n    place(dx: -offset, dy: -body-height - offset, title-frame(hide(title))) // shadow\n    let offset = title-offset + offset\n    place(dx: -offset, dy: -body-height - offset, title-frame(title))\n  }\n}\n\n#shadow-box(lorem(2), lorem(25))\n</code></pre>\n<details>\n<summary>\nOutput</summary>\n<p><img src=\"https://forum.typst.app/uploads/default/original/1X/8d1532714ff4419fdf760d21d54f180eeed545cd.png\" alt=\"image\" data-base62-sha1=\"k84JK2TuackGfoVd5fG9QeBM4G1\" width=\"666\" height=\"185\"></p>\n</details>",
      "raw": "Indeed, showybox is a great package for this, but unfortunately it slightly lacks configuration flexibility. You can use shadow for this, but for shadow you can only set `fill`, but not `stroke`. Here I modified it (don't know how long will the link last, maybe you should [pitch the feature](https://github.com/Pablo-Gonzalez-Calderon/showybox-package/issues) to the author so it can be included in the official package version):\n[showybox:2.0.1.zip](https://github.com/user-attachments/files/17220540/showybox.2.0.1.zip)\n\nWith this I can do:\n\n```typ\n#import \"@preview/showybox:2.0.1\": showybox\n#showybox(\n  width: 11cm,\n  frame: (title-color: white, radius: 0pt),\n  shadow: (color: black, offset: 0.2em),\n  title-style: (\n    color: black,\n    boxed-style: (\n      anchor: (x: start, y: top),\n      offset: (x: -1.4em, y: -0.4em),\n      radius: 0pt,\n    ),\n  ),\n  title: lorem(2),\n  lorem(25),\n)\n```\n\n![image|661x180](upload://sFC1KigYWV0c3u8y5OkxlAp4ILF.png)\n\nAnd here is my one-file solution:\n\n```typ\n#let shadow-box(title, body, offset: 2pt, title-offset: 2pt) = {\n  let frame = block.with(\n    width: 11cm, // This probably should be removed.\n    inset: (top: 3em, rest: 0.7em),\n    fill: white,\n    stroke: black,\n  )\n  let title-frame = frame.with(width: auto, inset: 0.7em)\n  context {\n    let body-height = measure(frame(body)).height\n    place(dx: offset, dy: offset, frame(hide(body))) // shadow\n    frame(body)\n    place(dx: -offset, dy: -body-height - offset, title-frame(hide(title))) // shadow\n    let offset = title-offset + offset\n    place(dx: -offset, dy: -body-height - offset, title-frame(title))\n  }\n}\n\n#shadow-box(lorem(2), lorem(25))\n```\n\n[details=Output]\n![image|666x185](upload://k84JK2TuackGfoVd5fG9QeBM4G1.png)\n[/details]",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 38,
      "score": 92.6,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 51
    }
  ],
  "scraped_at": "2025-06-10T09:57:37.274789"
}