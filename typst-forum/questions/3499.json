{
  "topic_metadata": {
    "id": 3499,
    "title": "How to cite in prose using only author's last name?",
    "slug": "how-to-cite-in-prose-using-only-authors-last-name",
    "posts_count": 10,
    "created_at": "2025-04-02T15:37:59.399Z",
    "last_posted_at": "2025-04-21T09:47:42.028Z",
    "views": 165,
    "like_count": 8,
    "reply_count": 6,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 9,
    "accepted_answer_username": "Andrew",
    "tags": [
      "citation",
      "referencing"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 626
  },
  "posts": [
    {
      "id": 10553,
      "post_number": 1,
      "username": "mezzogallium",
      "name": "André Santos",
      "created_at": "2025-04-02T15:37:59.578Z",
      "updated_at": "2025-04-02T15:37:59.578Z",
      "cooked": "<p>Hi,</p>\n<p>I’m writing my thesis, using the CSL file to get the correct citation style (IEEE with URLs). When citing with the “prose” option, I get the author’s initial and last name - e.g. “J. Smith [1]”.</p>\n<p>Is there a straigthforward way to output only the last name, without the initial?</p>\n<p>Thanks!</p>",
      "raw": "Hi,\n\nI'm writing my thesis, using the CSL file to get the correct citation style (IEEE with URLs). When citing with the \"prose\" option, I get the author's initial and last name - e.g. \"J. Smith [1]\". \n\nIs there a straigthforward way to output only the last name, without the initial?\n\nThanks!",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 41,
      "score": 193.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 372
    },
    {
      "id": 10574,
      "post_number": 2,
      "username": "Adrian_Weitkemper",
      "name": "Adron",
      "created_at": "2025-04-02T20:16:06.044Z",
      "updated_at": "2025-04-02T20:17:40.135Z",
      "cooked": "<p>Hi there!<br>\nIt should be possible to create a custom citation style or maybe there is one already, but I’m not aware of it. Creating a custom citation style is pretty complicated and might be overkill for your purpose.<br>\nSomething that seems to work though is the following:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#let my-cite(label) = {\n  show regex(\"[A-Z]. \"): none\n  cite(label, form: \"prose\")\n}\nA citation in the style you asked for: #my-cite(&lt;some-citation&gt;)\n#bibliography(\"bibliography.bib\")\n</code></pre>\n<p>My answer is inspired by <a href=\"https://forum.typst.app/t/how-can-i-remove-parens-around-specific-citations/818\">this post</a> about getting rid of other parts of the citation (in another citation style)</p>",
      "raw": "Hi there!\nIt should be possible to create a custom citation style or maybe there is one already, but I'm not aware of it. Creating a custom citation style is pretty complicated and might be overkill for your purpose. \nSomething that seems to work though is the following: \n```typst\n#let my-cite(label) = {\n  show regex(\"[A-Z]. \"): none\n  cite(label, form: \"prose\")\n}\nA citation in the style you asked for: #my-cite(<some-citation>)\n#bibliography(\"bibliography.bib\")\n```\nMy answer is inspired by [this post](https://forum.typst.app/t/how-can-i-remove-parens-around-specific-citations/818) about getting rid of other parts of the citation (in another citation style)",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 2,
      "reads": 39,
      "score": 72.8,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 277
    },
    {
      "id": 10578,
      "post_number": 3,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-02T20:48:20.815Z",
      "updated_at": "2025-04-02T20:50:40.778Z",
      "cooked": "<p>This is not how regex works. Here is an <a href=\"https://regex101.com/r/8iAltG/1\" rel=\"noopener nofollow ugc\">explanation</a>. For any language to work, <code>\"\\p{Lu}\\. \"</code> should be used, for only Latin letters: <code>\"[A-Z]\\. \"</code>.</p>\n<hr>\n<p>Indeed, the correct way would be to use a different CSL style, or copy the used one and patch it.</p>\n<p>Since the text is supposed to be very short, I think this is a pretty good solution, though I think it will also remove the middle name, if it does exist and shows. If it was a longer text, then it can easily remove some other parts of the citation, since the regex is very generic.</p>",
      "raw": "This is not how regex works. Here is an [explanation](https://regex101.com/r/8iAltG/1). For any language to work, `\"\\p{Lu}\\. \"` should be used, for only Latin letters: `\"[A-Z]\\. \"`.\n\n---\n\nIndeed, the correct way would be to use a different CSL style, or copy the used one and patch it.\n\nSince the text is supposed to be very short, I think this is a pretty good solution, though I think it will also remove the middle name, if it does exist and shows. If it was a longer text, then it can easily remove some other parts of the citation, since the regex is very generic.",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 2,
      "reads": 36,
      "score": 42.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 10581,
      "post_number": 4,
      "username": "Adrian_Weitkemper",
      "name": "Adron",
      "created_at": "2025-04-03T07:59:39.733Z",
      "updated_at": "2025-04-03T07:59:39.733Z",
      "cooked": "<p>Thank you for correcting me <img src=\"https://forum.typst.app/images/emoji/apple/blush.png?v=12\" title=\":blush:\" class=\"emoji\" alt=\":blush:\" loading=\"lazy\" width=\"20\" height=\"20\"> . I tend to forget the backslash…<br>\nAnd yes, you are correct, my expression is a little bit too specific.<br>\nI looked up the expression at <a href=\"https://docs.rs/regex/latest/regex/#syntax\" class=\"inline-onebox\" rel=\"noopener nofollow ugc\">regex - Rust</a>, but the website you referenced looks better , so thank you very much for the advice <img src=\"https://forum.typst.app/images/emoji/apple/+1.png?v=12\" title=\":+1:\" class=\"emoji\" alt=\":+1:\" loading=\"lazy\" width=\"20\" height=\"20\">.<br>\nRegarding editing the CSL style, I couldn’t find it in the <a href=\"https://github.com/citation-style-language/styles\" rel=\"noopener nofollow ugc\">github repo</a> (I searched the website for “ieee”) and to be honest it might be a little too complex for me anyways.</p>",
      "raw": "Thank you for correcting me :blush: . I tend to forget the backslash...\nAnd yes, you are correct, my expression is a little bit too specific. \nI looked up the expression at https://docs.rs/regex/latest/regex/#syntax, but the website you referenced looks better , so thank you very much for the advice :+1:. \nRegarding editing the CSL style, I couldn't find it in the [github repo](https://github.com/citation-style-language/styles) (I searched the website for \"ieee\") and to be honest it might be a little too complex for me anyways.",
      "reply_to_post_number": 3,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 29,
      "score": 25.8,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 277
    },
    {
      "id": 10582,
      "post_number": 5,
      "username": "mezzogallium",
      "name": "André Santos",
      "created_at": "2025-04-03T08:41:24.232Z",
      "updated_at": "2025-04-03T08:41:24.232Z",
      "cooked": "<p>Thank you for the responses, I’ll try editing the CSL file!</p>",
      "raw": "Thank you for the responses, I'll try editing the CSL file!",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 30,
      "score": 31.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 372
    },
    {
      "id": 10583,
      "post_number": 6,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-03T08:58:54.334Z",
      "updated_at": "2025-04-03T08:58:54.334Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"Adrian_Weitkemper\" data-post=\"4\" data-topic=\"3499\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/a/F7602B/48.png\" class=\"avatar\"> Adrian_Weitkemper:</div>\n<blockquote>\n<p>I couldn’t find it in the <a href=\"https://github.com/citation-style-language/styles\" rel=\"noopener nofollow ugc\">github repo</a></p>\n</blockquote>\n</aside>\n<p>I think it’s <a href=\"https://github.com/typst/hayagriva/blob/main/archive/styles/ieee.cbor\" class=\"inline-onebox\" rel=\"noopener nofollow ugc\">hayagriva/archive/styles/ieee.cbor at main · typst/hayagriva · GitHub</a>, but the up-to-date one is <a href=\"https://github.com/citation-style-language/styles/blob/master/ieee.csl\" class=\"inline-onebox\" rel=\"noopener nofollow ugc\">styles/ieee.csl at master · citation-style-language/styles · GitHub</a>.</p>",
      "raw": "[quote=\"Adrian_Weitkemper, post:4, topic:3499\"]\nI couldn’t find it in the [github repo](https://github.com/citation-style-language/styles)\n[/quote]\n\nI think it's https://github.com/typst/hayagriva/blob/main/archive/styles/ieee.cbor, but the up-to-date one is https://github.com/citation-style-language/styles/blob/master/ieee.csl.",
      "reply_to_post_number": 4,
      "reply_count": 0,
      "quote_count": 1,
      "like_count": 0,
      "reads": 30,
      "score": 11.0,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 10584,
      "post_number": 7,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-03T08:59:57.291Z",
      "updated_at": "2025-04-03T08:59:57.291Z",
      "cooked": "<p>The spec is here: <a href=\"https://docs.citationstyles.org/en/stable/specification.html\" class=\"inline-onebox\" rel=\"noopener nofollow ugc\">CSL 1.0.2 Specification — Citation Style Language 1.0.1-dev documentation</a>.</p>",
      "raw": "The spec is here: https://docs.citationstyles.org/en/stable/specification.html.",
      "reply_to_post_number": 5,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 29,
      "score": 5.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 10899,
      "post_number": 8,
      "username": "mezzogallium",
      "name": "André Santos",
      "created_at": "2025-04-10T17:36:37.065Z",
      "updated_at": "2025-04-10T17:36:37.065Z",
      "cooked": "<p>I’ve tried going down the CSL editing path, but I believe the behavior of the “prose” setting for the <code>#cite</code> function is not necessarily dictated by the CSL style. I’m using IEEE and its inline citation is just numeric (e. g. [1]), but “prose” produces “J. Doe [1]”. So Typst adds the author from the bibliography entry.</p>\n<p>Is there a way to manipulate this output to get rid of initials (just for this type of citation)? I haven’t found a way to access a string containing the author name while writing a show rule.</p>",
      "raw": "I've tried going down the CSL editing path, but I believe the behavior of the \"prose\" setting for the `#cite` function is not necessarily dictated by the CSL style. I'm using IEEE and its inline citation is just numeric (e. g. [1]), but \"prose\" produces \"J. Doe [1]\". So Typst adds the author from the bibliography entry.\n\nIs there a way to manipulate this output to get rid of initials (just for this type of citation)? I haven't found a way to access a string containing the author name while writing a show rule.",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 24,
      "score": 9.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 372
    },
    {
      "id": 11164,
      "post_number": 9,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-16T14:28:11.543Z",
      "updated_at": "2025-04-16T14:28:11.543Z",
      "cooked": "<p>This type is generated here:</p>\n<aside class=\"onebox githubblob\" data-onebox-src=\"https://github.com/typst/hayagriva/blob/0b32dca41966f267cbd4efbfe42fbf8da3e5e7a3/src/csl/mod.rs?plain=1#L1342-L1379\">\n  <header class=\"source\">\n\n      <a href=\"https://github.com/typst/hayagriva/blob/0b32dca41966f267cbd4efbfe42fbf8da3e5e7a3/src/csl/mod.rs?plain=1#L1342-L1379\" target=\"_blank\" rel=\"noopener nofollow ugc\">github.com</a>\n  </header>\n\n  <article class=\"onebox-body\">\n    <h4><a href=\"https://github.com/typst/hayagriva/blob/0b32dca41966f267cbd4efbfe42fbf8da3e5e7a3/src/csl/mod.rs?plain=1#L1342-L1379\" target=\"_blank\" rel=\"noopener nofollow ugc\">typst/hayagriva/blob/0b32dca41966f267cbd4efbfe42fbf8da3e5e7a3/src/csl/mod.rs?plain=1#L1342-L1379</a></h4>\n\n\n\n    <pre class=\"onebox\"><code class=\"lang-rs?plain=1\">\n      <ol class=\"start lines\" start=\"1342\" style=\"counter-reset: li-counter 1341 ;\">\n          <li>(Some(CitePurpose::Prose), _) =&gt; {</li>\n          <li>    do_author(&amp;mut ctx);</li>\n          <li>    if !self.csl.citation.layout.prefix.as_ref().map_or(false, |f| {</li>\n          <li>        f.chars().next().map_or(false, char::is_whitespace)</li>\n          <li>    }) {</li>\n          <li>        ctx.ensure_space();</li>\n          <li>    }</li>\n          <li></li>\n          <li>    if self.csl.info.category.iter().any(|c| {</li>\n          <li>        matches!(</li>\n          <li>            c,</li>\n          <li>            StyleCategory::CitationFormat {</li>\n          <li>                format: CitationFormat::Label | CitationFormat::Numeric</li>\n          <li>            }</li>\n          <li>        )</li>\n          <li>    }) {</li>\n          <li>        // Print the label.</li>\n          <li>        if let Some(prefix) = self.csl.citation.layout.prefix.as_ref() {</li>\n          <li>            ctx.push_str(prefix);</li>\n          <li>        }</li>\n      </ol>\n    </code></pre>\n\n\n  This file has been truncated. <a href=\"https://github.com/typst/hayagriva/blob/0b32dca41966f267cbd4efbfe42fbf8da3e5e7a3/src/csl/mod.rs?plain=1#L1342-L1379\" target=\"_blank\" rel=\"noopener nofollow ugc\">show original</a>\n\n  </article>\n\n  <div class=\"onebox-metadata\">\n    \n    \n  </div>\n\n  <div style=\"clear: both\"></div>\n</aside>\n\n<p>If you just want to apply the same workaround just for this form:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show cite.where(form: \"prose\"): it =&gt; {\n  show regex(\"[A-Z]\\. \"): none\n  it\n}\n\n#let bib = ```yaml\na:\n  type: book\n  title: title\n  author: Doe, John\n```.text\n\n#cite(form: \"prose\", &lt;a&gt;)\n\n@a\n\n#bibliography(bytes(bib))\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/5/512af07ad4e50f7fa075ea292d983ff0a0ae0d7d.png\" alt=\"image\" data-base62-sha1=\"bA2FGhSfjIkV4M0LvqhsxhzQUc5\" width=\"157\" height=\"129\"></p>",
      "raw": "This type is generated here:\n\nhttps://github.com/typst/hayagriva/blob/0b32dca41966f267cbd4efbfe42fbf8da3e5e7a3/src/csl/mod.rs?plain=1#L1342-L1379\n\nIf you just want to apply the same workaround just for this form:\n\n```typ\n#show cite.where(form: \"prose\"): it => {\n  show regex(\"[A-Z]\\. \"): none\n  it\n}\n\n#let bib = ```yaml\na:\n  type: book\n  title: title\n  author: Doe, John\n```.text\n\n#cite(form: \"prose\", <a>)\n\n@a\n\n#bibliography(bytes(bib))\n```\n\n![image|210x173, 75%](upload://bA2FGhSfjIkV4M0LvqhsxhzQUc5.png)",
      "reply_to_post_number": 8,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 23,
      "score": 44.6,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 11382,
      "post_number": 10,
      "username": "mezzogallium",
      "name": "André Santos",
      "created_at": "2025-04-21T09:47:42.028Z",
      "updated_at": "2025-04-21T09:47:42.028Z",
      "cooked": "<p>Thanks a lot, that’s what I needed! :)</p>",
      "raw": "Thanks a lot, that's what I needed! :)",
      "reply_to_post_number": 9,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 17,
      "score": 18.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 372
    }
  ],
  "scraped_at": "2025-06-10T09:49:45.598443"
}