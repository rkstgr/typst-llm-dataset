{
  "topic_metadata": {
    "id": 370,
    "title": "How to use a pattern image as the page background?",
    "slug": "how-to-use-a-pattern-image-as-the-page-background",
    "posts_count": 10,
    "created_at": "2024-09-16T17:57:07.770Z",
    "last_posted_at": "2024-09-16T23:34:20.229Z",
    "views": 1510,
    "like_count": 13,
    "reply_count": 7,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 6,
    "accepted_answer_username": "Andrew",
    "tags": [
      "graphics",
      "page"
    ],
    "category_id": 5,
    "participant_count": 5,
    "word_count": 736
  },
  "posts": [
    {
      "id": 1410,
      "post_number": 1,
      "username": "Mathemensch",
      "name": "Alexander Schulz",
      "created_at": "2024-09-16T17:57:07.898Z",
      "updated_at": "2024-09-16T21:19:57.552Z",
      "cooked": "<p>I am currently creating some worksheets for exciting, context-orientated lessons.</p>\n<p>I have an image that I would like to use as the background for these documents. The image is a seamless pattern, so I would like to repeat it in the background instead of stretching it across the entire width. Is there a good way to repeat a background like a cache?</p>\n<p>So far I am stretching the background to the full height and width of the document. However, as the document gets longer, the quality gets worse and worse.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set page(background: image(\"assets/paper.jpg\", width: 100%, height: 100%))\n</code></pre>\n<p>The result so far looks like this<br>\n<div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/1X/0505ed94dbfa1a19f7def6d16d692d918dcd0d43.jpeg\" data-download-href=\"https://forum.typst.app/uploads/default/0505ed94dbfa1a19f7def6d16d692d918dcd0d43\" title=\"SCR-20240916-rits\"><img src=\"https://forum.typst.app/uploads/default/optimized/1X/0505ed94dbfa1a19f7def6d16d692d918dcd0d43_2_325x500.jpeg\" alt=\"SCR-20240916-rits\" data-base62-sha1=\"Ir5sPMhPYBvvoFsb49Q9dzFWIH\" width=\"325\" height=\"500\" srcset=\"https://forum.typst.app/uploads/default/optimized/1X/0505ed94dbfa1a19f7def6d16d692d918dcd0d43_2_325x500.jpeg, https://forum.typst.app/uploads/default/optimized/1X/0505ed94dbfa1a19f7def6d16d692d918dcd0d43_2_487x750.jpeg 1.5x, https://forum.typst.app/uploads/default/optimized/1X/0505ed94dbfa1a19f7def6d16d692d918dcd0d43_2_650x1000.jpeg 2x\" data-dominant-color=\"E5DDD4\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">SCR-20240916-rits</span><span class=\"informations\">1408√ó2160 298 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>Thanks for your help.</p>",
      "raw": "I am currently creating some worksheets for exciting, context-orientated lessons.\n\nI have an image that I would like to use as the background for these documents. The image is a seamless pattern, so I would like to repeat it in the background instead of stretching it across the entire width. Is there a good way to repeat a background like a cache?\n\nSo far I am stretching the background to the full height and width of the document. However, as the document gets longer, the quality gets worse and worse.\n\n```typ\n#set page(background: image(\"assets/paper.jpg\", width: 100%, height: 100%))\n```\n\nThe result so far looks like this\n![SCR-20240916-rits|325x500](upload://Ir5sPMhPYBvvoFsb49Q9dzFWIH.jpeg)\n\nThanks for your help.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 103,
      "score": 7580.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 307
    },
    {
      "id": 1413,
      "post_number": 2,
      "username": "Enivex",
      "name": "Enivex",
      "created_at": "2024-09-16T18:11:55.724Z",
      "updated_at": "2024-09-16T18:11:55.724Z",
      "cooked": "<p>You may be interested in this function</p>\n<aside class=\"onebox allowlistedgeneric\" data-onebox-src=\"https://typst.app/docs/reference/visualize/pattern/\">\n  <header class=\"source\">\n      <img src=\"https://forum.typst.app/uploads/default/original/1X/098187a593d51c4db99324614e2baeeb1bb355cc.png\" class=\"site-icon\" data-dominant-color=\"3CA8B6\" width=\"32\" height=\"32\">\n\n      <a href=\"https://typst.app/docs/reference/visualize/pattern/\" target=\"_blank\" rel=\"noopener\">Typst</a>\n  </header>\n\n  <article class=\"onebox-body\">\n    <div class=\"aspect-image\" style=\"--aspect-ratio:690/361;\"><img src=\"https://forum.typst.app/uploads/default/optimized/1X/db1c18ed802fe6841bee62606931f352da10ed09_2_690x362.png\" class=\"thumbnail\" data-dominant-color=\"7CC2C5\" width=\"690\" height=\"362\"></div>\n\n<h3><a href=\"https://typst.app/docs/reference/visualize/pattern/\" target=\"_blank\" rel=\"noopener\">Pattern Type ‚Äì Typst Documentation</a></h3>\n\n  <p>Documentation for the Pattern type.</p>\n\n\n  </article>\n\n  <div class=\"onebox-metadata\">\n    \n    \n  </div>\n\n  <div style=\"clear: both\"></div>\n</aside>\n",
      "raw": "You may be interested in this function\n\nhttps://typst.app/docs/reference/visualize/pattern/",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 2,
      "reads": 95,
      "score": 103.8,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 5
    },
    {
      "id": 1422,
      "post_number": 3,
      "username": "afiaith",
      "name": "Maja Abramski-Kronenberg",
      "created_at": "2024-09-16T18:36:45.467Z",
      "updated_at": "2024-09-16T18:36:45.467Z",
      "cooked": "<p>Here you go <img src=\"https://forum.typst.app/images/emoji/apple/slightly_smiling_face.png?v=12\" title=\":slightly_smiling_face:\" class=\"emoji\" alt=\":slightly_smiling_face:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set page(\n  background: {\n    let pat = pattern(\n      size: (30pt, 30pt),\n      place(circle(radius: 15pt, fill: luma(240))) // replace the `#circle` command with your `#image`\n    )\n    rect(fill: pat, width: 100%, height: 100%)\n  }\n)\n\n#lorem(300)\n\n#lorem(100)\n\n#lorem(200)\n</code></pre>",
      "raw": "Here you go üôÇ\n\n```typ\n#set page(\n  background: {\n    let pat = pattern(\n      size: (30pt, 30pt),\n      place(circle(radius: 15pt, fill: luma(240))) // replace the `#circle` command with your `#image`\n    )\n    rect(fill: pat, width: 100%, height: 100%)\n  }\n)\n\n#lorem(300)\n\n#lorem(100)\n\n#lorem(200)\n```",
      "reply_to_post_number": null,
      "reply_count": 2,
      "quote_count": 0,
      "like_count": 1,
      "reads": 92,
      "score": 98.2,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 91
    },
    {
      "id": 1423,
      "post_number": 4,
      "username": "Mathemensch",
      "name": "Alexander Schulz",
      "created_at": "2024-09-16T18:44:21.802Z",
      "updated_at": "2024-09-16T18:44:21.802Z",
      "cooked": "<p>Thank you very much!<br>\nThat‚Äôs a clever solution.</p>",
      "raw": "Thank you very much!\nThat's a clever solution.",
      "reply_to_post_number": 3,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 86,
      "score": 62.0,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 307
    },
    {
      "id": 1425,
      "post_number": 5,
      "username": "afiaith",
      "name": "Maja Abramski-Kronenberg",
      "created_at": "2024-09-16T18:52:20.874Z",
      "updated_at": "2024-09-16T18:52:20.874Z",
      "cooked": "<p>I‚Äôm glad it helps you <img src=\"https://forum.typst.app/images/emoji/apple/slightly_smiling_face.png?v=12\" title=\":slightly_smiling_face:\" class=\"emoji\" alt=\":slightly_smiling_face:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>\n<p>This is a clear case of the <a href=\"https://github.com/typst/typst#design-principles\" rel=\"noopener nofollow ugc\">power through composability</a> design principle.</p>",
      "raw": "I‚Äôm glad it helps you üôÇ\n\nThis is a clear case of the [power through composability](https://github.com/typst/typst#design-principles) design principle.",
      "reply_to_post_number": 4,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 82,
      "score": 41.2,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 91
    },
    {
      "id": 1447,
      "post_number": 6,
      "username": "Andrew",
      "name": "",
      "created_at": "2024-09-16T21:53:57.178Z",
      "updated_at": "2024-09-17T14:04:48.317Z",
      "cooked": "<p>I would like to simplify <a href=\"https://forum.typst.app/t/how-to-use-a-pattern-image-as-the-page-background/370/3\">the answer</a> by providing some ‚Äúalternatives‚Äù:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let img = circle(radius: 15pt, fill: green.transparentize(70%))\n\n// Option 1\n#set page(fill: pattern(img))\n\n// Option2\n// #set page(background: box(\n//   width: 100%,\n//   height: 100%,\n//   fill: pattern(img)\n// ))\n\n#lorem(300)\n\n#lorem(100)\n\n#lorem(200)\n</code></pre>\n<details>\n<summary>\nOutput</summary>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/1X/a2f79aef6a97ac90a2a01ca2e581ab796ec1c016.png\" data-download-href=\"https://forum.typst.app/uploads/default/a2f79aef6a97ac90a2a01ca2e581ab796ec1c016\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/1X/a2f79aef6a97ac90a2a01ca2e581ab796ec1c016_2_352x500.png\" alt=\"image\" data-base62-sha1=\"nfFQcq411KS1DHvuInt2ttHEjMq\" width=\"352\" height=\"500\" srcset=\"https://forum.typst.app/uploads/default/optimized/1X/a2f79aef6a97ac90a2a01ca2e581ab796ec1c016_2_352x500.png, https://forum.typst.app/uploads/default/optimized/1X/a2f79aef6a97ac90a2a01ca2e581ab796ec1c016_2_528x750.png 1.5x, https://forum.typst.app/uploads/default/optimized/1X/a2f79aef6a97ac90a2a01ca2e581ab796ec1c016_2_704x1000.png 2x\" data-dominant-color=\"1C3E20\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">717√ó1016 344 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n</details>\n<p>Note that semantically, you would choose <code>box()</code> over <code>rect()</code> in this case. And by default, <code>rect()</code> is visually visible (draw a rectangle), while <code>box()</code> is not.</p>\n<p>If you want to add, for example, a monotone background color, then for the image pattern you would have to use <code>background: box(fill: pattern(img))</code> approach. But if the default white background color is fine (<code>background</code> is drawn on top of the <code>fill</code>, BTW), then you can use a more compact <code>fill: pattern(img)</code> approach.</p>\n<p>You can see that the additional <code>box</code> wrapping is just a ‚Äúworkaround‚Äù to use <code>fill: pattern()</code> when the <code>page.fill</code> is busy/not available.</p>\n<p>Additionally, you might find useful the <a href=\"https://typst.app/docs/reference/visualize/image/#parameters-fit\"><code>image.fit</code></a> parameter.</p>",
      "raw": "I would like to simplify [the answer](https://forum.typst.app/t/how-to-use-a-pattern-image-as-the-page-background/370/3) by providing some \"alternatives\":\n\n```typ\n#let img = circle(radius: 15pt, fill: green.transparentize(70%))\n\n// Option 1\n#set page(fill: pattern(img))\n\n// Option2\n// #set page(background: box(\n//   width: 100%,\n//   height: 100%,\n//   fill: pattern(img)\n// ))\n\n#lorem(300)\n\n#lorem(100)\n\n#lorem(200)\n```\n\n[details=\"Output\"]\n![image|352x500](upload://nfFQcq411KS1DHvuInt2ttHEjMq.png)\n[/details]\n\nNote that semantically, you would choose `box()` over `rect()` in this case. And by default, `rect()` is visually visible (draw a rectangle), while `box()` is not.\n\nIf you want to add, for example, a monotone background color, then for the image pattern you would have to use `background: box(fill: pattern(img))` approach. But if the default white background color is fine (`background` is drawn on top of the `fill`, BTW), then you can use a more compact `fill: pattern(img)` approach.\n\nYou can see that the additional `box` wrapping is just a \"workaround\" to use `fill: pattern()` when the `page.fill` is busy/not available.\n\nAdditionally, you might find useful the [`image.fit`](https://typst.app/docs/reference/visualize/image/#parameters-fit) parameter.",
      "reply_to_post_number": 3,
      "reply_count": 2,
      "quote_count": 0,
      "like_count": 2,
      "reads": 75,
      "score": 499.8,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 1449,
      "post_number": 7,
      "username": "afiaith",
      "name": "Maja Abramski-Kronenberg",
      "created_at": "2024-09-16T22:30:05.536Z",
      "updated_at": "2024-09-16T22:30:05.536Z",
      "cooked": "<p>Cool! I didn‚Äôt notice the <code>fill</code> parameter of <code>page</code>, so I made a workaround using <code>background</code>. Your solution is more elegant.</p>\n<p>BTW, we don‚Äôt need the <code>size: (30pt, 30pt)</code> part at all. This works:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set page(\n  fill: pattern(\n    circle(radius: 15pt, fill: luma(240))\n  )\n)\n\n#lorem(300)\n\n#lorem(100)\n\n#lorem(200)\n</code></pre>",
      "raw": "Cool! I didn‚Äôt notice the `fill` parameter of `page`, so I made a workaround using `background`. Your solution is more elegant.\n\nBTW, we don‚Äôt need the `size: (30pt, 30pt)` part at all. This works:\n\n```typ\n#set page(\n  fill: pattern(\n    circle(radius: 15pt, fill: luma(240))\n  )\n)\n\n#lorem(300)\n\n#lorem(100)\n\n#lorem(200)\n```",
      "reply_to_post_number": 6,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 66,
      "score": 33.0,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 91
    },
    {
      "id": 1450,
      "post_number": 8,
      "username": "Andrew",
      "name": "",
      "created_at": "2024-09-16T22:46:46.249Z",
      "updated_at": "2024-09-16T22:46:46.249Z",
      "cooked": "<p>That‚Äôs great! I didn‚Äôt touch this because I‚Äôve used the <code>pattern()</code> only a few times and trusted your solution (so I blindly copied that part). The less code, the better.</p>",
      "raw": "That's great! I didn't touch this because I've used the `pattern()` only a few times and trusted your solution (so I blindly copied that part). The less code, the better.",
      "reply_to_post_number": 7,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 2,
      "reads": 63,
      "score": 57.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 1454,
      "post_number": 9,
      "username": "afiaith",
      "name": "Maja Abramski-Kronenberg",
      "created_at": "2024-09-16T23:09:31.759Z",
      "updated_at": "2024-09-16T23:09:31.759Z",
      "cooked": "<p>Yeah, I don‚Äôt think it‚Äôs possible to make it more minimal than that‚Ä¶</p>\n<p>The <code>size</code> part was needed, but only because of <code>place</code>¬π, which was indeed superfluous.</p>\n<hr>\n<p>¬π If you have <code>place</code> without <code>size</code> there, you get this error message:</p>\n<pre><code class=\"lang-plaintext\">error: pattern tile size must be non-zero\n[‚Ä¶]\n  = hint: try setting the size manually\n</code></pre>",
      "raw": "Yeah, I don‚Äôt think it‚Äôs possible to make it more minimal than that‚Ä¶\n\nThe `size` part was needed, but only because of `place`¬π, which was indeed superfluous.\n\n---\n\n¬π If you have `place` without `size` there, you get this error message:\n\n```text\nerror: pattern tile size must be non-zero\n[‚Ä¶]\n  = hint: try setting the size manually\n```",
      "reply_to_post_number": 8,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 61,
      "score": 22.0,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 91
    },
    {
      "id": 1458,
      "post_number": 10,
      "username": "PgBiel",
      "name": "",
      "created_at": "2024-09-16T23:34:20.229Z",
      "updated_at": "2024-09-16T23:34:20.229Z",
      "cooked": "<blockquote>\n<p>Note that semantically, you would choose <code>box()</code> over <code>rect()</code> in this case. And by default, <code>rect()</code> is visually visible (draw a rectangle), while <code>box()</code> is not.</p>\n</blockquote>\n<p>Just wanted to make a small addition: technically, a <code>block()</code> would be closer to a ‚Äúbrother‚Äù of <code>rect()</code> than <code>box()</code>. While both are similar, a <code>box()</code> is always inline and often used to insert otherwise block-level elements (such as <code>image()</code>, <code>circle()</code> and so on) within a text line without breaking the paragraph. That is useful to insert things like icons into text, for instance, since images are normally block-level and thus interrupt the paragraph. Meanwhile, a <code>block()</code> is always block-level (just like <code>rect</code>) and has several useful parameters to customize its appearance and layout behavior, so it‚Äôs generally preferable when inserting in a paragraph isn‚Äôt important. Otherwise, your remark is correct.</p>\n<p>Though one could also argue that it might make more sense to use <code>rect()</code> rather than <code>block()</code> in this particular example for the reason you mention (it‚Äôd be visible, and is only there to display a fill). It doesn‚Äôt really matter in the end though <img src=\"https://forum.typst.app/images/emoji/apple/slight_smile.png?v=12\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>",
      "raw": "> Note that semantically, you would choose `box()` over `rect()` in this case. And by default, `rect()` is visually visible (draw a rectangle), while `box()` is not.\n\nJust wanted to make a small addition: technically, a `block()` would be closer to a \"brother\" of `rect()` than `box()`. While both are similar, a `box()` is always inline and often used to insert otherwise block-level elements (such as `image()`, `circle()` and so on) within a text line without breaking the paragraph. That is useful to insert things like icons into text, for instance, since images are normally block-level and thus interrupt the paragraph. Meanwhile, a `block()` is always block-level (just like `rect`) and has several useful parameters to customize its appearance and layout behavior, so it's generally preferable when inserting in a paragraph isn't important. Otherwise, your remark is correct.\n\nThough one could also argue that it might make more sense to use `rect()` rather than `block()` in this particular example for the reason you mention (it'd be visible, and is only there to display a fill). It doesn't really matter in the end though :slight_smile:",
      "reply_to_post_number": 6,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 3,
      "reads": 63,
      "score": 102.6,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 3
    }
  ],
  "scraped_at": "2025-06-10T09:58:51.236386"
}