{
  "topic_metadata": {
    "id": 3777,
    "title": "How to remove certain level 3 headings from outline?",
    "slug": "how-to-remove-certain-level-3-headings-from-outline",
    "posts_count": 9,
    "created_at": "2025-04-23T14:59:34.116Z",
    "last_posted_at": "2025-04-23T15:14:39.234Z",
    "views": 67,
    "like_count": 11,
    "reply_count": 6,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "quachpas",
    "tags": [
      "scripting",
      "outline"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 516
  },
  "posts": [
    {
      "id": 11496,
      "post_number": 1,
      "username": "Regodin",
      "name": "",
      "created_at": "2025-04-23T14:59:34.443Z",
      "updated_at": "2025-04-26T20:03:48.843Z",
      "cooked": "<p>I’m having difficulty finding the right syntax for this. I have some sections of my document that I want to suppress certain heading levels from the outline, and I thought the <code>outlined</code> parameter would be the one to use.</p>\n<p>Basically, my intent is something like <code>set heading(outlined: false).where(level: 3)</code>. I know this isn’t valid, but just an example.</p>\n<p>For example, I have a block that I want everything inside to suppress level 3 heading:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#let suppress_lvl_3(doc) = {\n    // Insert suppression logic here\n    doc\n}\n</code></pre>\n<p>I thought this would work:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#let suppress_lvl_3(doc) = {\n    show heading.where(level: 3):it =&gt; {\n        set heading(outlined: false)\n        it\n    }\n    doc\n}\n</code></pre>\n<p>But it doesn’t seem to have an effect.</p>\n<p>I know there is a way to set conditionally using a syntax that looks like <code>#set heading(outlined: false) if CONDITION HERE</code>, but I don’t know what condition would work for this. Any idea on the simplest way to do this?</p>",
      "raw": "I'm having difficulty finding the right syntax for this. I have some sections of my document that I want to suppress certain heading levels from the outline, and I thought the `outlined` parameter would be the one to use.\n\nBasically, my intent is something like `set heading(outlined: false).where(level: 3)`. I know this isn't valid, but just an example. \n\nFor example, I have a block that I want everything inside to suppress level 3 heading:\n```typst\n#let suppress_lvl_3(doc) = {\n    // Insert suppression logic here\n    doc\n}\n```\n\nI thought this would work:\n```typst\n#let suppress_lvl_3(doc) = {\n    show heading.where(level: 3):it => {\n        set heading(outlined: false)\n        it\n    }\n    doc\n}\n```\nBut it doesn't seem to have an effect.\n\nI know there is a way to set conditionally using a syntax that looks like `#set heading(outlined: false) if CONDITION HERE`, but I don't know what condition would work for this. Any idea on the simplest way to do this?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 25,
      "score": 105.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1161
    },
    {
      "id": 11497,
      "post_number": 2,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2025-04-23T15:03:28.812Z",
      "updated_at": "2025-04-23T15:10:45.902Z",
      "cooked": "<p>Hello! I suppose you are using your function like this: <code>show: suppress_lvl_3</code>? or <code>suppress_lvl_3[content]</code>? <s>Without knowing more about your document, it’s difficult to tell why it’s not working.</s></p>\n<p>Alternatively, just write a <code>show-set</code> rule!</p>\n<pre data-code-wrap=\"typc\"><code class=\"lang-typc\">show heading.where(level: 3): set heading(outlined: false) // turn it off\n[suppressed section]\nshow heading.where(level: 3): set heading(outlined: true) // turn it on\n</code></pre>",
      "raw": "Hello! I suppose you are using your function like this: `show: suppress_lvl_3`? or `suppress_lvl_3[content]`? ~~Without knowing more about your document, it's difficult to tell why it's not working.~~\n\nAlternatively, just write a `show-set` rule! \n```typc\nshow heading.where(level: 3): set heading(outlined: false) // turn it off\n[suppressed section]\nshow heading.where(level: 3): set heading(outlined: true) // turn it on\n```",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 2,
      "reads": 25,
      "score": 50.0,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 11498,
      "post_number": 3,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-23T15:07:35.918Z",
      "updated_at": "2025-04-23T15:07:35.918Z",
      "cooked": "<p>Depending on your structure, you might want to select the headings that should be excluded:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show &lt;not-outlined&gt;: set heading(outlined: false)\n\n#outline()\n\n= Level 1\n== Level 2\n=== Level 3 &lt;not-outlined&gt;\n= Level 1\n== Level 2\n=== Level 3 &lt;not-outlined&gt;\n</code></pre>",
      "raw": "Depending on your structure, you might want to select the headings that should be excluded:\n\n```typ\n#show <not-outlined>: set heading(outlined: false)\n\n#outline()\n\n= Level 1\n== Level 2\n=== Level 3 <not-outlined>\n= Level 1\n== Level 2\n=== Level 3 <not-outlined>\n```",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 3,
      "reads": 24,
      "score": 54.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 11499,
      "post_number": 4,
      "username": "Regodin",
      "name": "",
      "created_at": "2025-04-23T15:07:36.763Z",
      "updated_at": "2025-04-23T15:07:36.763Z",
      "cooked": "<p>Wow, I can’t believe it was that simple! Thanks a lot!</p>\n<p>But why wasn’t this working:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#show heading.where(level: 3):it =&gt; {\n        set heading(outlined: false)\n        it\n}\n</code></pre>\n<p>Your solution looks quite similar, so I’m struggling to see how they differ at a fundamental level, but I’m not fully familiar with the syntax. Could you explain a bit of the differences between this and your solution in terms on why mine was not working?</p>",
      "raw": "Wow, I can't believe it was that simple! Thanks a lot!\n\nBut why wasn't this working:\n```typst\n#show heading.where(level: 3):it => {\n        set heading(outlined: false)\n        it\n}\n```\nYour solution looks quite similar, so I'm struggling to see how they differ at a fundamental level, but I'm not fully familiar with the syntax. Could you explain a bit of the differences between this and your solution in terms on why mine was not working?",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 24,
      "score": 9.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1161
    },
    {
      "id": 11500,
      "post_number": 5,
      "username": "Regodin",
      "name": "",
      "created_at": "2025-04-23T15:08:51.688Z",
      "updated_at": "2025-04-23T15:08:51.688Z",
      "cooked": "<p>Ahh interesting! I didn’t know labels could be used like this. Thanks for the tip!</p>",
      "raw": "Ahh interesting! I didn't know labels could be used like this. Thanks for the tip!",
      "reply_to_post_number": 3,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 24,
      "score": 24.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1161
    },
    {
      "id": 11501,
      "post_number": 6,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2025-04-23T15:09:57.447Z",
      "updated_at": "2025-04-23T15:09:57.447Z",
      "cooked": "<p>I have to correct myself. The reason why your <code>set</code> instruction is not working is because it is <em>inside</em> your heading already.</p>\n<p>As we cannot modify elements yet, but assume it is possible, the “correct” way would be</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show heading.where(level: 3): it =&gt; {\n    it.outlined = false\n    it\n}\n</code></pre>\n<p>The heading already exists at the point the show rule is in place, so your rule is essentially ignored.</p>",
      "raw": "I have to correct myself. The reason why your `set` instruction is not working is because it is *inside* your heading already. \n\nAs we cannot modify elements yet, but assume it is possible, the \"correct\" way would be \n```typ\n#show heading.where(level: 3): it => {\n    it.outlined = false\n    it\n}\n```\nThe heading already exists at the point the show rule is in place, so your rule is essentially ignored.",
      "reply_to_post_number": 4,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 24,
      "score": 24.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 11502,
      "post_number": 7,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-23T15:11:18.774Z",
      "updated_at": "2025-04-23T15:11:18.774Z",
      "cooked": "<p>Or you can just define a custom heading function:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let heading3 = heading.with(outlined: false)\n\n#outline()\n\n= Level 1\n== Level 2\n#heading3[Level 3]\n= Level 1\n== Level 2\n#heading3[Level 3]\n</code></pre>",
      "raw": "Or you can just define a custom heading function:\n\n\n```typ\n#let heading3 = heading.with(outlined: false)\n\n#outline()\n\n= Level 1\n== Level 2\n#heading3[Level 3]\n= Level 1\n== Level 2\n#heading3[Level 3]\n```",
      "reply_to_post_number": 5,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 2,
      "reads": 22,
      "score": 34.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 11503,
      "post_number": 8,
      "username": "Regodin",
      "name": "",
      "created_at": "2025-04-23T15:11:40.790Z",
      "updated_at": "2025-04-23T15:11:40.790Z",
      "cooked": "<p>You say “yet”, does it mean that this is in the pipeline to be implemented in the future?</p>",
      "raw": "You say \"yet\", does it mean that this is in the pipeline to be implemented in the future?",
      "reply_to_post_number": 6,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 22,
      "score": 9.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1161
    },
    {
      "id": 11504,
      "post_number": 9,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-23T15:14:39.234Z",
      "updated_at": "2025-04-23T15:14:39.234Z",
      "cooked": "<p>A lot of stuff now is immutable. I don’t know if there will be a possibility to edit elements in-place, but there are a ton of things to do now, so maybe one day, but not anywhere soon.</p>",
      "raw": "A lot of stuff now is immutable. I don't know if there will be a possibility to edit elements in-place, but there are a ton of things to do now, so maybe one day, but not anywhere soon.",
      "reply_to_post_number": 8,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 2,
      "reads": 22,
      "score": 39.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    }
  ],
  "scraped_at": "2025-06-10T09:48:47.376542"
}