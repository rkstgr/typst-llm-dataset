{
  "topic_metadata": {
    "id": 1506,
    "title": "How to remove numbering from outline?",
    "slug": "how-to-remove-numbering-from-outline",
    "posts_count": 3,
    "created_at": "2024-11-02T23:39:08.444Z",
    "last_posted_at": "2024-11-03T07:22:24.833Z",
    "views": 713,
    "like_count": 1,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "sjfhsjfh",
    "tags": [
      "outline"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 645
  },
  "posts": [
    {
      "id": 5056,
      "post_number": 1,
      "username": "Akshay_Raj_Gollahall",
      "name": "Akshay Raj Gollahalli",
      "created_at": "2024-11-02T23:39:08.594Z",
      "updated_at": "2024-11-02T23:39:08.594Z",
      "cooked": "<p>I am trying to remove the Appendix numbering at the starting in the outline, and here is what I have</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show outline.entry.where(level: 1): it =&gt; {\n  v(12pt, weak: true)\n  strong(it)\n}\n\n#outline(title: [Table of Contents #v(1.5em)], depth: 4, indent: auto)\n\n#show heading.where(level: 1): it =&gt; {\n\n  if it.at(\"label\", default: none) != &lt;bibliography&gt; {\n    counter(heading).display(it =&gt; text(1em, weight: 700, block([Chapter #it])))\n  }\n\n  text(1em, weight: 700, block([#it.body]))\n}\n\n#set heading(numbering: \"1.1\")\n\n= Introduction\n\n== Introduction\n\nThis is the introduction.\n\n= Background\n\n== Background\n\nThis is the background.\n\n#show heading.where(level: 1): it =&gt; {\n    // Create the heading numbering.\n    let number = if it.numbering != none {\n      counter(heading).display(it.numbering)\n      h(7pt, weak: true)\n    }\n    text(block([Appendix #number]))\n  }\n\n#set heading(numbering: \"A.1\")\n\n= Apendix A: Code Snippets\n\n== Code Snippet 1: some Code\n\n/```py\nprint(\"Hello World\")\n/```\n\n= Appendix B: Additional Information\n\n== Additional Information 1: some Information\n\nThis is some additional information.\n</code></pre>\n<p>Which renders as</p>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/3/32ca980b778480b3a868f2616011eb845516be6c.png\" data-download-href=\"https://forum.typst.app/uploads/default/32ca980b778480b3a868f2616011eb845516be6c\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/3/32ca980b778480b3a868f2616011eb845516be6c_2_451x499.png\" alt=\"image\" data-base62-sha1=\"7fjVB5RWSmP9nxtAiDA9KhvkAnq\" width=\"451\" height=\"499\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/3/32ca980b778480b3a868f2616011eb845516be6c_2_451x499.png, https://forum.typst.app/uploads/default/optimized/2X/3/32ca980b778480b3a868f2616011eb845516be6c_2_676x748.png 1.5x, https://forum.typst.app/uploads/default/original/2X/3/32ca980b778480b3a868f2616011eb845516be6c.png 2x\" data-dominant-color=\"F8F8F8\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">749×829 86.4 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>How should I change the <code>C Appendix A: Code Snippets</code> to <code>Appendix A: Code Snippets</code>? I want to remove the appendix numbering in the outline.</p>",
      "raw": "I am trying to remove the Appendix numbering at the starting in the outline, and here is what I have\n\n```typ\n#show outline.entry.where(level: 1): it => {\n  v(12pt, weak: true)\n  strong(it)\n}\n\n#outline(title: [Table of Contents #v(1.5em)], depth: 4, indent: auto)\n\n#show heading.where(level: 1): it => {\n\n  if it.at(\"label\", default: none) != <bibliography> {\n    counter(heading).display(it => text(1em, weight: 700, block([Chapter #it])))\n  }\n\n  text(1em, weight: 700, block([#it.body]))\n}\n\n#set heading(numbering: \"1.1\")\n\n= Introduction\n\n== Introduction\n\nThis is the introduction.\n\n= Background\n\n== Background\n\nThis is the background.\n\n#show heading.where(level: 1): it => {\n    // Create the heading numbering.\n    let number = if it.numbering != none {\n      counter(heading).display(it.numbering)\n      h(7pt, weak: true)\n    }\n    text(block([Appendix #number]))\n  }\n\n#set heading(numbering: \"A.1\")\n\n= Apendix A: Code Snippets\n\n== Code Snippet 1: some Code\n\n/```py\nprint(\"Hello World\")\n/```\n\n= Appendix B: Additional Information\n\n== Additional Information 1: some Information\n\nThis is some additional information.\n```\n\nWhich renders as\n\n![image|451x499](upload://7fjVB5RWSmP9nxtAiDA9KhvkAnq.png)\n\nHow should I change the `C Appendix A: Code Snippets` to `Appendix A: Code Snippets`? I want to remove the appendix numbering in the outline.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 58,
      "score": 4006.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 106
    },
    {
      "id": 5059,
      "post_number": 2,
      "username": "sjfhsjfh",
      "name": "sjfhsjfh",
      "created_at": "2024-11-03T05:07:13.395Z",
      "updated_at": "2024-11-03T07:20:52.183Z",
      "cooked": "<h2><a name=\"p-5059-problems-1\" class=\"anchor\" href=\"#p-5059-problems-1\"></a>Problems</h2>\n<p>There are several problems in the code you provided:</p>\n<ol>\n<li>The numbering function is ambigous: The <code>level: 1</code> numbering is set to <code>\"A.1.\"</code> but it seems that <code>\"Chapter 1.\"</code> or <code>\"Appendix\"</code> is expected here.</li>\n<li>The numbering part <code>Appendix A</code> should not appear in the title content</li>\n</ol>\n<h2><a name=\"p-5059-solutions-2\" class=\"anchor\" href=\"#p-5059-solutions-2\"></a>Solutions</h2>\n<h3><a name=\"p-5059-step-1-setup-heading-numbering-properly-3\" class=\"anchor\" href=\"#p-5059-step-1-setup-heading-numbering-properly-3\"></a>Step 1. Setup heading numbering properly</h3>\n<p>First of all, I recommend using the <a href=\"https://typst.app/universe/package/numbly\"><code>numbly</code></a> package to construct numbering functions in a convenient way. Here we can still construct it manually:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set heading(numbering: (..ns) =&gt; {\n  let ns = ns.pos()\n  if ns.len() == 1 {\n    return \"Chapter \" + numbering(\"1.\", ..ns)\n  }\n  return numbering(\"1.\", ..ns)\n})\n</code></pre>\n<p>Put this code at the begining, and replace <code>\"Chapter \" + numbering(\"1.\", ..ns)</code> with <code>\"Appendix \" + numbering(\"A.\", ..ns)</code> and <code>return numbering(\"1.\", ..ns) </code> with <code>return numbering(\"A.1.\", ..ns) </code> and place it before the appendix. Then remove all the former <code>#set heading(numbering: \"x.x\")</code>. Now you can remove the <code>Appendix A</code> from your appendix heading.</p>\n<h3><a name=\"p-5059-step-2-fix-the-counter-4\" class=\"anchor\" href=\"#p-5059-step-2-fix-the-counter-4\"></a>Step 2. Fix the counter</h3>\n<p>You will notice that the Appendix now starts from <code>C</code> in the example document. You can reset the heading counter by adding the following row before the appendix:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#counter(heading).update(0)\n</code></pre>\n<h3><a name=\"p-5059-step-3-misc-5\" class=\"anchor\" href=\"#p-5059-step-3-misc-5\"></a>Step 3. Misc.</h3>\n<p>The custom heading <code>counter(heading).display(it =&gt; text(1em, weight: 700, block([Chapter #it]))) </code> can be replaved with a simple <code>counter(heading).display()</code>. If the font weight or size setting is not working properly, I recommend using <code>set text</code> instead of <code>text(...)</code></p>\n<p>Setting <code>outline.indent</code> to <code>auto</code> would make the next level heading align to the end of the numbering, which might be a bit annoying, so you may set it to <code>1em</code> or some other value you like.</p>\n<h3><a name=\"p-5059-modified-example-6\" class=\"anchor\" href=\"#p-5059-modified-example-6\"></a>Modified Example</h3>\n<p>In case that you wish to use it just by doing copy-paste <img src=\"https://forum.typst.app/images/emoji/apple/slight_smile.png?v=12\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show outline.entry.where(level: 1): it =&gt; {\n  v(12pt, weak: true)\n  strong(it)\n}\n\n#outline(title: [Table of Contents #v(1.5em)], depth: 4, indent: 1em)\n\n\n#show heading.where(level: 1): it =&gt; {\n\n  if it.at(\"label\", default: none) != &lt;bibliography&gt; {\n    context counter(heading).display()\n    h(7pt, weak: true)\n  }\n\n  text(1em, weight: 700, block([#it.body]))\n}\n\n#set heading(numbering: (..ns) =&gt; {\n  let ns = ns.pos()\n  if ns.len() == 1 {\n    return \"Chapter \" + numbering(\"A.\", ..ns)\n  }\n  return numbering(\"1.\", ..ns)\n})\n\n= Introduction\n\n== Introduction\n\nThis is the introduction.\n\n= Background\n\n== Background\n\nThis is the background.\n\n#counter(heading).update(0)\n#set heading(numbering: (..ns) =&gt; {\n  let ns = ns.pos()\n  if ns.len() == 1 {\n    return \"Appendix \" + numbering(\"A.\", ..ns)\n  }\n  return numbering(\"A.1.\", ..ns)\n})\n\n= Code Snippets\n\n== Code Snippet 1: some Code\n\n```py\nprint(\"Hello World\")\n```\n\n= Additional Information\n\n== Additional Information 1: some Information\n\nThis is some additional information.\n</code></pre>",
      "raw": "## Problems\n\nThere are several problems in the code you provided:\n\n1. The numbering function is ambigous: The `level: 1` numbering is set to `\"A.1.\"` but it seems that `\"Chapter 1.\"` or `\"Appendix\"` is expected here.\n2. The numbering part `Appendix A` should not appear in the title content\n\n## Solutions\n\n### Step 1. Setup heading numbering properly\n\nFirst of all, I recommend using the [`numbly`](https://typst.app/universe/package/numbly) package to construct numbering functions in a convenient way. Here we can still construct it manually:\n\n```typ\n#set heading(numbering: (..ns) => {\n  let ns = ns.pos()\n  if ns.len() == 1 {\n    return \"Chapter \" + numbering(\"1.\", ..ns)\n  }\n  return numbering(\"1.\", ..ns)\n})\n```\n\nPut this code at the begining, and replace `\"Chapter \" + numbering(\"1.\", ..ns)` with `\"Appendix \" + numbering(\"A.\", ..ns)` and `return numbering(\"1.\", ..ns)\n` with `return numbering(\"A.1.\", ..ns)\n` and place it before the appendix. Then remove all the former `#set heading(numbering: \"x.x\")`. Now you can remove the `Appendix A` from your appendix heading.\n\n### Step 2. Fix the counter\n\nYou will notice that the Appendix now starts from `C` in the example document. You can reset the heading counter by adding the following row before the appendix:\n\n```typ\n#counter(heading).update(0)\n```\n\n### Step 3. Misc.\n\nThe custom heading `counter(heading).display(it => text(1em, weight: 700, block([Chapter #it])))\n` can be replaved with a simple `counter(heading).display()`. If the font weight or size setting is not working properly, I recommend using `set text` instead of `text(...)`\n\nSetting `outline.indent` to `auto` would make the next level heading align to the end of the numbering, which might be a bit annoying, so you may set it to `1em` or some other value you like.\n\n### Modified Example\n\nIn case that you wish to use it just by doing copy-paste :slight_smile: \n\n````typ\n#show outline.entry.where(level: 1): it => {\n  v(12pt, weak: true)\n  strong(it)\n}\n\n#outline(title: [Table of Contents #v(1.5em)], depth: 4, indent: 1em)\n\n\n#show heading.where(level: 1): it => {\n\n  if it.at(\"label\", default: none) != <bibliography> {\n    context counter(heading).display()\n    h(7pt, weak: true)\n  }\n\n  text(1em, weight: 700, block([#it.body]))\n}\n\n#set heading(numbering: (..ns) => {\n  let ns = ns.pos()\n  if ns.len() == 1 {\n    return \"Chapter \" + numbering(\"A.\", ..ns)\n  }\n  return numbering(\"1.\", ..ns)\n})\n\n= Introduction\n\n== Introduction\n\nThis is the introduction.\n\n= Background\n\n== Background\n\nThis is the background.\n\n#counter(heading).update(0)\n#set heading(numbering: (..ns) => {\n  let ns = ns.pos()\n  if ns.len() == 1 {\n    return \"Appendix \" + numbering(\"A.\", ..ns)\n  }\n  return numbering(\"A.1.\", ..ns)\n})\n\n= Code Snippets\n\n== Code Snippet 1: some Code\n\n```py\nprint(\"Hello World\")\n```\n\n= Additional Information\n\n== Additional Information 1: some Information\n\nThis is some additional information.\n````",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 47,
      "score": 99.2,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 120
    },
    {
      "id": 5060,
      "post_number": 3,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2024-11-03T07:22:24.833Z",
      "updated_at": "2024-11-03T07:22:24.833Z",
      "cooked": "<p>I’ve gone ahead and fixed the formatting you mentioned in your edit, you can see how I’m the edit history :)</p>",
      "raw": "I've gone ahead and fixed the formatting you mentioned in your edit, you can see how I'm the edit history :)",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 41,
      "score": 8.0,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 32
    }
  ],
  "scraped_at": "2025-06-10T09:55:36.113084"
}