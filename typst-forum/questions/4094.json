{
  "topic_metadata": {
    "id": 4094,
    "title": "How would I limit ticks to integer values in lilaq?",
    "slug": "how-would-i-limit-ticks-to-integer-values-in-lilaq",
    "posts_count": 4,
    "created_at": "2025-05-14T22:34:39.136Z",
    "last_posted_at": "2025-05-15T10:18:53.848Z",
    "views": 51,
    "like_count": 3,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 4,
    "accepted_answer_username": "Mc-Zen",
    "tags": [
      "lilaq"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 341
  },
  "posts": [
    {
      "id": 12477,
      "post_number": 1,
      "username": "Gaweringo",
      "name": "Gaweringo",
      "created_at": "2025-05-14T22:34:39.534Z",
      "updated_at": "2025-05-14T22:34:39.534Z",
      "cooked": "<p>I would like to have the smallest step of my diagrams <code>xaxis</code> be <code>1</code>. Meaning that if the <code>xaxis</code> goes from 0 to 1, lilaq does not insert ticks at 0.2, 0.4, 0.6, …</p>\n<p>What I currently have:<br>\n<img src=\"https://forum.typst.app/uploads/default/original/2X/b/b80977bfb895fd3df4bfa884439f23acb703e51f.png\" alt=\"X-axis with ticks at decimal values\" data-base62-sha1=\"qg48CWO3ZnXlljw32yC64bmggCH\" width=\"438\" height=\"102\"></p>\n<p>What I want to have:<br>\n<img src=\"https://forum.typst.app/uploads/default/original/2X/1/1d965bec863a581cf7a5f0006d16a47ad4b29dd0.png\" alt=\"Desired x-axis with only ticks at integer values\" data-base62-sha1=\"4dJZlz9VyqxtrFiJhw065gyorrW\" width=\"441\" height=\"101\"></p>\n<p>I tried setting <code>subticks</code> to <code>none</code>.<br>\n<code>tick-distance: 1</code>, which is what I did for the desired image, but if the values get larger, a tick for every integer value is too much.</p>\n<p>Any ideas on how this can be achieved?</p>",
      "raw": "I would like to have the smallest step of my diagrams `xaxis` be `1`. Meaning that if the `xaxis` goes from 0 to 1, lilaq does not insert ticks at 0.2, 0.4, 0.6, ...\n\nWhat I currently have:\n![X-axis with ticks at decimal values|438x102](upload://qg48CWO3ZnXlljw32yC64bmggCH.png)\n\nWhat I want to have:\n![Desired x-axis with only ticks at integer values|441x101](upload://4dJZlz9VyqxtrFiJhw065gyorrW.png)\n\nI tried setting `subticks` to `none`.  \n`tick-distance: 1`, which is what I did for the desired image, but if the values get larger, a tick for every integer value is too much.\n\nAny ideas on how this can be achieved?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 26,
      "score": 45.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 770
    },
    {
      "id": 12478,
      "post_number": 2,
      "username": "vmartel08",
      "name": "Vincent Martel",
      "created_at": "2025-05-14T22:56:58.792Z",
      "updated_at": "2025-05-14T23:39:28.193Z",
      "cooked": "<p>Hi there <a class=\"mention\" href=\"/u/gaweringo\">@Gaweringo</a>,</p>\n<p>Yes it is possible. For the x axis only you can try:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#import \"@preview/lilaq:0.3.0\" as lq\n\n#lq.diagram(\n  xaxis: (\n    lim: (0,1), \n    tick-distance: 1, \n    subticks: 0\n  ),\n) \n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/d/dfc6579444e8410f7fba9fd72c001507ee41163d.png\" data-download-href=\"https://forum.typst.app/uploads/default/dfc6579444e8410f7fba9fd72c001507ee41163d\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/d/dfc6579444e8410f7fba9fd72c001507ee41163d_2_690x473.png\" alt=\"image\" data-base62-sha1=\"vVBq9PCADhVqJLB2cKZBGd4sNvT\" width=\"690\" height=\"473\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/d/dfc6579444e8410f7fba9fd72c001507ee41163d_2_690x473.png, https://forum.typst.app/uploads/default/original/2X/d/dfc6579444e8410f7fba9fd72c001507ee41163d.png 1.5x, https://forum.typst.app/uploads/default/original/2X/d/dfc6579444e8410f7fba9fd72c001507ee41163d.png 2x\" data-dominant-color=\"040404\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">777×533 25.6 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>",
      "raw": "Hi there @Gaweringo,\n\nYes it is possible. For the x axis only you can try:\n```typ\n#import \"@preview/lilaq:0.3.0\" as lq\n\n#lq.diagram(\n  xaxis: (\n    lim: (0,1), \n    tick-distance: 1, \n    subticks: 0\n  ),\n) \n```\n![image|690x473](upload://vVBq9PCADhVqJLB2cKZBGd4sNvT.png)",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 25,
      "score": 30.0,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 936
    },
    {
      "id": 12480,
      "post_number": 3,
      "username": "Gaweringo",
      "name": "Gaweringo",
      "created_at": "2025-05-15T06:46:12.394Z",
      "updated_at": "2025-05-15T06:46:59.873Z",
      "cooked": "<p>Yeah, but it becomes a problem, if the limit gets bigger:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#import \"@preview/lilaq:0.3.0\" as lq\n\n#lq.diagram(\n  xaxis: (\n    lim: (0,150), \n    tick-distance: 1, \n    subticks: 0\n  ),\n)\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/8/8239f4070f46d643db7e610c12d560dd70fcbdf3.png\" alt=\"Diagram with tick distance 1 and limit 150\" data-base62-sha1=\"iA2eAPh6ClKQjA3qSAFfR4yg5cn\" width=\"562\" height=\"371\"></p>\n<p>I have now made the <code>tick-distance</code> dependent on the maximum x value of my data:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let xtick-distance = calc.max(1, calc.round(calc.max(..x)/5))\n</code></pre>\n<p>And lilaq seems to still automatically make the ticks be nice values (which is exactly what I want in this case, but is not what I expected), as for the data in the image below, the max value is 144, thus <code>xtick-distance</code> would be 29, and not 30:</p>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/7/79407a43a2ba457717d7a5ef4f79375c3116667e.png\" alt=\"tick-distance for xaxis based on max x value\" data-base62-sha1=\"hiDUP9BlkY1bHN8ETfDFrGF3APs\" width=\"428\" height=\"110\"></p>",
      "raw": "Yeah, but it becomes a problem, if the limit gets bigger:\n\n```typ\n#import \"@preview/lilaq:0.3.0\" as lq\n\n#lq.diagram(\n  xaxis: (\n    lim: (0,150), \n    tick-distance: 1, \n    subticks: 0\n  ),\n)\n```\n\n![Diagram with tick distance 1 and limit 150|562x371](upload://iA2eAPh6ClKQjA3qSAFfR4yg5cn.png)\n\nI have now made the `tick-distance` dependent on the maximum x value of my data:\n```typ\n#let xtick-distance = calc.max(1, calc.round(calc.max(..x)/5))\n```\nAnd lilaq seems to still automatically make the ticks be nice values (which is exactly what I want in this case, but is not what I expected), as for the data in the image below, the max value is 144, thus `xtick-distance` would be 29, and not 30:\n\n![tick-distance for xaxis based on max x value|428x110](upload://hiDUP9BlkY1bHN8ETfDFrGF3APs.png)",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 21,
      "score": 14.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 770
    },
    {
      "id": 12490,
      "post_number": 4,
      "username": "Mc-Zen",
      "name": "Mc-Zen",
      "created_at": "2025-05-15T10:18:53.848Z",
      "updated_at": "2025-05-15T10:18:53.848Z",
      "cooked": "<p>Hi <a class=\"mention\" href=\"/u/gaweringo\">@Gaweringo</a> ,</p>\n<p>You can either let Lilaq decide on the tick-distance or pass it manually. There is no in-between.</p>\n<p>What you could try is to compute the range of the axis (<code>max - min</code>) and only set the tick-distance to <code>1</code> for small ranges but leave it at <code>auto</code> if the range is sufficiently large.</p>",
      "raw": "Hi @Gaweringo ,\n\nYou can either let Lilaq decide on the tick-distance or pass it manually. There is no in-between. \n\nWhat you could try is to compute the range of the axis (`max - min`) and only set the tick-distance to `1` for small ranges but leave it at `auto` if the range is sufficiently large.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 2,
      "reads": 18,
      "score": 33.6,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 9
    }
  ],
  "scraped_at": "2025-06-10T09:47:49.705214"
}