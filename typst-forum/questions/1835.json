{
  "topic_metadata": {
    "id": 1835,
    "title": "How do I repeat a table’s header every page, but not the content?",
    "slug": "how-do-i-repeat-a-table-s-header-every-page-but-not-the-content",
    "posts_count": 5,
    "created_at": "2024-11-21T20:54:59.583Z",
    "last_posted_at": "2024-11-22T19:04:51.607Z",
    "views": 197,
    "like_count": 2,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 5,
    "accepted_answer_username": "flokl",
    "tags": [
      "scripting",
      "templates"
    ],
    "category_id": 5,
    "participant_count": 4,
    "word_count": 716
  },
  "posts": [
    {
      "id": 5977,
      "post_number": 1,
      "username": "Sam1",
      "name": "Sam",
      "created_at": "2024-11-21T20:54:59.718Z",
      "updated_at": "2024-11-22T10:53:43.070Z",
      "cooked": "<p>Hello I am currently writing a templet for my lab report and have come across an issue, the content that I enter shouldn’t repeat every page but the header should.<br>\nThe part of the code that currently displays the content is:´</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">grid.cell(colspan: 6, align(left+top)[\\ #table(\n              stroke: none,\n              columns: (1cm, 16cm, 1cm),\n              rows: 22.2cm,\n              [],[#content],[]\n            )])\n</code></pre>\n<p>I would be extremely grateful if someone could help me.</p>\n<p><code>This is the header Picture</code><br>\n<div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/e/ebb60e430954d83ac35335fc1cdebaecf4f94ab0.png\" data-download-href=\"https://forum.typst.app/uploads/default/ebb60e430954d83ac35335fc1cdebaecf4f94ab0\" title=\"wst1\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/e/ebb60e430954d83ac35335fc1cdebaecf4f94ab0_2_517x97.png\" alt=\"wst1\" data-base62-sha1=\"xDcg0ciTA8RHziWW48unuj6aU0w\" width=\"517\" height=\"97\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/e/ebb60e430954d83ac35335fc1cdebaecf4f94ab0_2_517x97.png, https://forum.typst.app/uploads/default/optimized/2X/e/ebb60e430954d83ac35335fc1cdebaecf4f94ab0_2_775x145.png 1.5x, https://forum.typst.app/uploads/default/optimized/2X/e/ebb60e430954d83ac35335fc1cdebaecf4f94ab0_2_1034x194.png 2x\" data-dominant-color=\"4FBC84\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">wst1</span><span class=\"informations\">1623×306 36.8 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div><br>\n<code>and this is how the templet should look like</code><br>\n<div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/2/2e08cd06c0ad127430341b4388477b55b1330d74.png\" data-download-href=\"https://forum.typst.app/uploads/default/2e08cd06c0ad127430341b4388477b55b1330d74\" title=\"wst_protokoll_header\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/2/2e08cd06c0ad127430341b4388477b55b1330d74_2_352x500.png\" alt=\"wst_protokoll_header\" data-base62-sha1=\"6zeONXt70Nkv9R4av5RlxXbzzow\" width=\"352\" height=\"500\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/2/2e08cd06c0ad127430341b4388477b55b1330d74_2_352x500.png, https://forum.typst.app/uploads/default/optimized/2X/2/2e08cd06c0ad127430341b4388477b55b1330d74_2_528x750.png 1.5x, https://forum.typst.app/uploads/default/original/2X/2/2e08cd06c0ad127430341b4388477b55b1330d74.png 2x\" data-dominant-color=\"EDF6F1\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">wst_protokoll_header</span><span class=\"informations\">541×767 17.9 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p><code>My code</code></p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set page(width: 21cm, height: 29.7cm)\n#set text(size: 12pt)\n\n#let wst_vorlage(\n    kompetenz: \"\",\n    name: \"Samuel Findenig\",\n    klasse: \"2AHEL\",\n    werkstatt: \"\",\n    fachlehrer: \"\",\n    seitenanzahl: 1,\n    datum: \"00.00.0000\",\n    content: ()\n      ) = {\n  \n        let margin = (\n          top: 20pt,\n          bottom: 20pt,\n          right: 20pt,\n          left: 10pt\n        )\n\n        let n = 1\n        while n &lt; seitenanzahl {\n        \n          set page(margin: margin)\n          set align(horizon + center)\n\n          grid(\n        \n            columns: (4cm, 2.8cm, 2.8cm, 2.8cm, 2.8cm, 2.8cm),\n            rows: (auto, 0.49cm, 0.49cm, 0.49cm, 23cm),\n            gutter: 0pt,\n            align: (center, horizon), \n            \n            stroke:  1pt,\n            grid.cell(colspan: 6, [#image(\"wst1.png\")]),\n          \n                align(left)[#tab *Name*],[*Klasse*], [*Werkstatt*], [*Fachlehrer*], [*Datum*],[*Seite*],\n                align(left)[#tab #name], [#klasse], [#werkstatt], [#fachlehrer],[#datum],[#context [#here().page() von #seitenanzahl]],\n              \n            \n\n            grid.cell(colspan: 6, align(left)[#tab *Übung/Kompetenz *#kompetenz]),\n            grid.cell(colspan: 6, align(left+top)[\\ #table(\n              stroke: none,\n              columns: (1cm, 16cm, 1cm),\n              rows: 22.2cm,\n              [],[#content],[]\n            )])\n\n          )\n          set text(stroke: black) \n          n = n + 1\n        }\n      }\n\n\n#wst_vorlage(datum: \"20.11.2024\", seitenanzahl: 10, content: (\n[\n  #lorem(100)\n]\n\n))\n\n´´´</code></pre>",
      "raw": "Hello I am currently writing a templet for my lab report and have come across an issue, the content that I enter shouldn’t repeat every page but the header should.\nThe part of the code that currently displays the content is:´\n````typ\ngrid.cell(colspan: 6, align(left+top)[\\ #table(\n              stroke: none,\n              columns: (1cm, 16cm, 1cm),\n              rows: 22.2cm,\n              [],[#content],[]\n            )])\n````\n\nI would be extremely grateful if someone could help me.\n\n`This is the header Picture`  \n![wst1|690x130, 75%](upload://xDcg0ciTA8RHziWW48unuj6aU0w.png)\n`and this is how the templet should look like`\n![wst_protokoll_header|352x500](upload://6zeONXt70Nkv9R4av5RlxXbzzow.png)\n\n\n`My code`\n```typ\n#set page(width: 21cm, height: 29.7cm)\n#set text(size: 12pt)\n\n#let wst_vorlage(\n    kompetenz: \"\",\n    name: \"Samuel Findenig\",\n    klasse: \"2AHEL\",\n    werkstatt: \"\",\n    fachlehrer: \"\",\n    seitenanzahl: 1,\n    datum: \"00.00.0000\",\n    content: ()\n      ) = {\n  \n        let margin = (\n          top: 20pt,\n          bottom: 20pt,\n          right: 20pt,\n          left: 10pt\n        )\n\n        let n = 1\n        while n < seitenanzahl {\n        \n          set page(margin: margin)\n          set align(horizon + center)\n\n          grid(\n        \n            columns: (4cm, 2.8cm, 2.8cm, 2.8cm, 2.8cm, 2.8cm),\n            rows: (auto, 0.49cm, 0.49cm, 0.49cm, 23cm),\n            gutter: 0pt,\n            align: (center, horizon), \n            \n            stroke:  1pt,\n            grid.cell(colspan: 6, [#image(\"wst1.png\")]),\n          \n                align(left)[#tab *Name*],[*Klasse*], [*Werkstatt*], [*Fachlehrer*], [*Datum*],[*Seite*],\n                align(left)[#tab #name], [#klasse], [#werkstatt], [#fachlehrer],[#datum],[#context [#here().page() von #seitenanzahl]],\n              \n            \n\n            grid.cell(colspan: 6, align(left)[#tab *Übung/Kompetenz *#kompetenz]),\n            grid.cell(colspan: 6, align(left+top)[\\ #table(\n              stroke: none,\n              columns: (1cm, 16cm, 1cm),\n              rows: 22.2cm,\n              [],[#content],[]\n            )])\n\n          )\n          set text(stroke: black) \n          n = n + 1\n        }\n      }\n\n\n#wst_vorlage(datum: \"20.11.2024\", seitenanzahl: 10, content: (\n[\n  #lorem(100)\n]\n\n))\n\n´´´",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 42,
      "score": 593.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 841
    },
    {
      "id": 5979,
      "post_number": 2,
      "username": "jbirnick",
      "name": "Johann Birnick",
      "created_at": "2024-11-22T04:16:20.737Z",
      "updated_at": "2024-11-22T04:16:20.737Z",
      "cooked": "<ul>\n<li>First, note that you don’t need to set the page width and height manually. It’s automatically at A4. For other standardized page sizes you can do e.g. <code>set page(\"us-letter\")</code>.</li>\n<li>Your grid should also not be sized manually, but fraction lengths like <code>1fr</code>, and <code>auto</code>.</li>\n<li>Using <code>table</code> instead of <code>grid</code> gives you some saner defaults for tables, like some default <code>inset</code> and <code>stroke</code>.</li>\n<li>Instead of wrapping your whole content into <code>wst_vorlage</code>, you can use <code>show: wst_vorlage</code>.</li>\n<li>What you call <code>content</code> is usually called <code>body</code>. It should be a <em>positionial</em> argument (i.e. don’t provide a default value) if you want to use the method with the <code>show</code> rule. Also you would need to use <code>wst_vorlage.with(...)</code>.</li>\n<li>Don’t provide the total page count manually, you can use the <code>final()</code> method of the page counter. Even better, the <code>display()</code> method supports numbering patterns that involve the total page counter! (see below)</li>\n<li>What you are looking for is the <code>header</code> property of <code>page</code>.</li>\n</ul>\n<p>Here is a basic fix:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let wst_vorlage(\n  kompetenz: \"\",\n  name: \"Samuel Findenig\",\n  klasse: \"2AHEL\",\n  werkstatt: \"\",\n  fachlehrer: \"\",\n  seitenanzahl: 1,\n  datum: \"00.00.0000\",\n  body\n) = {\n  set text(size: 12pt)\n        \n  set page(header: table(\n    columns: (3fr, 2fr, 2fr, 3fr, 2fr, 2fr),\n    stroke: 1pt,\n    [*Name*], [*Klasse*], [*Werkstatt*], [*Fachlehrer*], [*Datum*], [*Seite*],\n    [#name], [#klasse], [#werkstatt], [#fachlehrer], [#datum], [#context counter(page).display(\"1 / 1\", both: true)]\n  ))\n\n  body\n}\n\n#show: wst_vorlage.with(datum: \"20.11.2024\")\n\n#lorem(1000)\n</code></pre>",
      "raw": "- First, note that you don't need to set the page width and height manually. It's automatically at A4. For other standardized page sizes you can do e.g. `set page(\"us-letter\")`.\n- Your grid should also not be sized manually, but fraction lengths like `1fr`, and `auto`.\n- Using `table` instead of `grid` gives you some saner defaults for tables, like some default `inset` and `stroke`.\n- Instead of wrapping your whole content into `wst_vorlage`, you can use `show: wst_vorlage`.\n- What you call `content` is usually called `body`. It should be a _positionial_ argument (i.e. don't provide a default value) if you want to use the method with the `show` rule. Also you would need to use `wst_vorlage.with(...)`.\n- Don't provide the total page count manually, you can use the `final()` method of the page counter. Even better, the `display()` method supports numbering patterns that involve the total page counter! (see below)\n- What you are looking for is the `header` property of `page`.\n\nHere is a basic fix:\n\n```typ\n#let wst_vorlage(\n  kompetenz: \"\",\n  name: \"Samuel Findenig\",\n  klasse: \"2AHEL\",\n  werkstatt: \"\",\n  fachlehrer: \"\",\n  seitenanzahl: 1,\n  datum: \"00.00.0000\",\n  body\n) = {\n  set text(size: 12pt)\n        \n  set page(header: table(\n    columns: (3fr, 2fr, 2fr, 3fr, 2fr, 2fr),\n    stroke: 1pt,\n    [*Name*], [*Klasse*], [*Werkstatt*], [*Fachlehrer*], [*Datum*], [*Seite*],\n    [#name], [#klasse], [#werkstatt], [#fachlehrer], [#datum], [#context counter(page).display(\"1 / 1\", both: true)]\n  ))\n\n  body\n}\n\n#show: wst_vorlage.with(datum: \"20.11.2024\")\n\n#lorem(1000)\n```",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 39,
      "score": 27.8,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 218
    },
    {
      "id": 5983,
      "post_number": 3,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2024-11-22T08:38:37.208Z",
      "updated_at": "2024-11-22T08:38:37.208Z",
      "cooked": "<p>Hello Sam and welcome! A good post is a post with a good title, don’t hesitate to rename it with a question, as recommended in <a href=\"https://forum.typst.app/t/how-to-post-in-the-questions-category/11\" class=\"inline-onebox\">How to post in the Questions category</a>.<br>\nI can suggest the following title “How do I repeat a table’s header every page, but not the content?”</p>",
      "raw": "Hello Sam and welcome! A good post is a post with a good title, don't hesitate to rename it with a question, as recommended in https://forum.typst.app/t/how-to-post-in-the-questions-category/11.\nI can suggest the following title \"How do I repeat a table's header every page, but not the content?\"",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 31,
      "score": 11.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 5987,
      "post_number": 4,
      "username": "Sam1",
      "name": "Sam",
      "created_at": "2024-11-22T11:13:12.634Z",
      "updated_at": "2024-11-22T11:13:12.634Z",
      "cooked": "<p><a class=\"mention\" href=\"/u/jbirnick\">@jbirnick</a> Thank you for your quick response and recommendations. If I add the header picture like this</p>\n<pre><code class=\"lang-auto\">\ntable.cell(colspan: 6, [#image(\"wst1.png)]),\n\n</code></pre>\n<p>the image always gets really small and the text in the grid is on top of it.</p>\n<p>Furthermore my school requires there to be a frame around the body</p>",
      "raw": "@jbirnick Thank you for your quick response and recommendations. If I add the header picture like this\n\n```\n\ntable.cell(colspan: 6, [#image(\"wst1.png)]),\n\n````\n\nthe image always gets really small and the text in the grid is on top of it.\n\nFurthermore my school requires there to be a frame around the body",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 31,
      "score": 11.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 841
    },
    {
      "id": 5994,
      "post_number": 5,
      "username": "flokl",
      "name": "",
      "created_at": "2024-11-22T19:04:51.607Z",
      "updated_at": "2024-11-22T19:11:31.165Z",
      "cooked": "<p>Hello <a class=\"mention\" href=\"/u/sam1\">@Sam1</a>,</p>\n<p>I used your approach and the improvement suggestions by <a class=\"mention\" href=\"/u/jbirnick\">@jbirnick</a> and came up with the following. I hope it helps.</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#let wst_vorlage(\n  kompetenz: \"\",\n  name: \"Samuel Findenig\",\n  klasse: \"2AHEL\",\n  werkstatt: \"\",\n  fachlehrer: \"\",\n  seitenanzahl: 1,\n  datum: \"00.00.0000\",\n  body\n) = {\n  table(\n    columns:6,\n    stroke: 1pt,\n    table.header(\n      table.cell(\n        inset: 0.5pt,\n        colspan: 6, \n        image(\"wst1.png\")\n      ),\n      [*Name*], [*Klasse*], [*Werkstatt*], [*Fachlehrer*], [*Datum*], [*Seitenanzahl*],\n      [#name], [#klasse], [#werkstatt], [#fachlehrer], [#datum], \n      [#context counter(page).display((current, total) =&gt; [Seite #current von #total], both: true)],\n      table.cell(colspan: 6, align(left)[*Übung/Kompetenz *#kompetenz]),\n    ),\n    table.cell(\n      colspan: 6, \n        align(start, pad(1em, body))\n    )\n  )\n}\n\n#show: wst_vorlage.with(\n  datum: \"20. Nov. 2024\",\n)\n\n#lorem(1000)\n</code></pre>\n<details>\n<summary>\nResult</summary>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/f/f4f6d1d705280007ecd963d8ebc88f2a8fe77dfc.png\" data-download-href=\"https://forum.typst.app/uploads/default/f4f6d1d705280007ecd963d8ebc88f2a8fe77dfc\" title=\"a\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/f/f4f6d1d705280007ecd963d8ebc88f2a8fe77dfc_2_353x500.png\" alt=\"a\" data-base62-sha1=\"yX3jjws3PDSpyU6jFbiTqUiqNg8\" width=\"353\" height=\"500\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/f/f4f6d1d705280007ecd963d8ebc88f2a8fe77dfc_2_353x500.png, https://forum.typst.app/uploads/default/optimized/2X/f/f4f6d1d705280007ecd963d8ebc88f2a8fe77dfc_2_529x750.png 1.5x, https://forum.typst.app/uploads/default/original/2X/f/f4f6d1d705280007ecd963d8ebc88f2a8fe77dfc.png 2x\" data-dominant-color=\"E1E9E5\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">a</span><span class=\"informations\">595×842 430 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n</details>",
      "raw": "Hello @Sam1,\n\nI used your approach and the improvement suggestions by @jbirnick and came up with the following. I hope it helps.\n```typst\n#let wst_vorlage(\n  kompetenz: \"\",\n  name: \"Samuel Findenig\",\n  klasse: \"2AHEL\",\n  werkstatt: \"\",\n  fachlehrer: \"\",\n  seitenanzahl: 1,\n  datum: \"00.00.0000\",\n  body\n) = {\n  table(\n    columns:6,\n    stroke: 1pt,\n    table.header(\n      table.cell(\n        inset: 0.5pt,\n        colspan: 6, \n        image(\"wst1.png\")\n      ),\n      [*Name*], [*Klasse*], [*Werkstatt*], [*Fachlehrer*], [*Datum*], [*Seitenanzahl*],\n      [#name], [#klasse], [#werkstatt], [#fachlehrer], [#datum], \n      [#context counter(page).display((current, total) => [Seite #current von #total], both: true)],\n      table.cell(colspan: 6, align(left)[*Übung/Kompetenz *#kompetenz]),\n    ),\n    table.cell(\n      colspan: 6, \n        align(start, pad(1em, body))\n    )\n  )\n}\n\n#show: wst_vorlage.with(\n  datum: \"20. Nov. 2024\",\n)\n\n#lorem(1000)\n```\n\n[details=\"Result\"]\n![a|353x500](upload://yX3jjws3PDSpyU6jFbiTqUiqNg8.png)\n[/details]",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 24,
      "score": 9.8,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 8
    }
  ],
  "scraped_at": "2025-06-10T09:54:33.031141"
}