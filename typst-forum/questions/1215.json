{
  "topic_metadata": {
    "id": 1215,
    "title": "Why is a line number only shown for the first line of my multi-layout content?",
    "slug": "why-is-a-line-number-only-shown-for-the-first-line-of-my-multi-layout-content",
    "posts_count": 4,
    "created_at": "2024-10-19T16:01:22.143Z",
    "last_posted_at": "2024-10-23T13:25:37.280Z",
    "views": 351,
    "like_count": 6,
    "reply_count": 2,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "xkevio",
    "tags": [
      "layout-containers",
      "line-numbering"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 384
  },
  "posts": [
    {
      "id": 4261,
      "post_number": 1,
      "username": "maucejo",
      "name": "Mathieu Aucejo",
      "created_at": "2024-10-19T16:01:22.245Z",
      "updated_at": "2025-03-18T17:24:09.518Z",
      "cooked": "<p>First of all, a big thank you to the Typst devs for enabling line numbering of paragraphs.</p>\n<p>While playing around with it, I noticed that the line numbering seemed to refer to the page and not to the paragraphs. Let me explain with an example. If you use the following code:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set page(columns: 2)\n#set par.line(numbering: \"1\")\n\n= Introduction\n\n#lorem(500)\n</code></pre>\n<p>Line numbering works as expected.</p>\n<p>But with the following code:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set par.line(numbering: \"1\")\n#let body = [\n  = Introduction\n\n  #lorem(500)\n]\n#show: columns(2, body)\n</code></pre>\n<p>The line numbering is only active for the first column of the page.</p>\n<p>Is this a bug or the intended behavior?</p>\n<p>This somewhat prevents the use of single columns (e.g. for title and abstract) and double columns (the body) on the same page, because <code>#set page()</code> implies a page break, which is perfectly understandable.</p>\n<p>Do you have any advice on how to combine single and double columns on the same page with line numbering?</p>\n<p>I am sure it is possible, given the Youtube video posted by <a class=\"mention\" href=\"/u/reknih\">@reknih</a> to announce Typst v0.12 <img src=\"https://forum.typst.app/images/emoji/apple/smiley.png?v=12\" title=\":smiley:\" class=\"emoji\" alt=\":smiley:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>",
      "raw": "First of all, a big thank you to the Typst devs for enabling line numbering of paragraphs.\n\nWhile playing around with it, I noticed that the line numbering seemed to refer to the page and not to the paragraphs. Let me explain with an example. If you use the following code:\n\n```typ\n#set page(columns: 2)\n#set par.line(numbering: \"1\")\n\n= Introduction\n\n#lorem(500)\n```\n\nLine numbering works as expected.\n\nBut with the following code:\n```typ\n#set par.line(numbering: \"1\")\n#let body = [\n  = Introduction\n\n  #lorem(500)\n]\n#show: columns(2, body)\n```\nThe line numbering is only active for the first column of the page.\n\nIs this a bug or the intended behavior?\n\nThis somewhat prevents the use of single columns (e.g. for title and abstract) and double columns (the body) on the same page, because `#set page()` implies a page break, which is perfectly understandable.\n\nDo you have any advice on how to combine single and double columns on the same page with line numbering?\n\nI am sure it is possible, given the Youtube video posted by @reknih to announce Typst v0.12 :smiley:",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 48,
      "score": 1354.6,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 125
    },
    {
      "id": 4265,
      "post_number": 2,
      "username": "xkevio",
      "name": "Kevio",
      "created_at": "2024-10-19T16:46:13.751Z",
      "updated_at": "2024-10-19T16:46:13.751Z",
      "cooked": "<p>The usage of <code>show: columns(2, ...)</code> is discouraged now with 0.12 and probably the root cause of the issue. To combine single column and double column on the same page, you would enable two-column layout in your initial <code>set page</code> rule with <code>set page(columns: 2)</code> and then use the new <code>scope</code> argument of <code>place</code> to place the title or abstract in a single column fashion by setting it to <code>\"parent\"</code>, see: <a href=\"https://typst.app/docs/guides/page-setup-guide/#columns\" class=\"inline-onebox\">Page setup guide â€“ Typst Documentation</a>.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set page(columns: 2, height: 10cm, width: 12cm)\n#set par(justify: true)\n#set par.line(numbering: \"1\")\n\n#place(\n  top + center,\n  float: true,\n  scope: \"parent\",\n  text(1.4em, weight: \"bold\")[\n    Impacts of Odobenidae\n  ],\n)\n\n== About seals in the wild\n#lorem(80)\n\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/1X/1076cda0450aba847b34b43ce5bd270a15dd8933.png\" alt=\"image\" data-base62-sha1=\"2lEaNSCrqIqH3YbWtFPiKfgHPBF\" width=\"529\" height=\"445\"></p>",
      "raw": "The usage of `show: columns(2, ...)` is discouraged now with 0.12 and probably the root cause of the issue. To combine single column and double column on the same page, you would enable two-column layout in your initial `set page` rule with `set page(columns: 2)` and then use the new `scope` argument of `place` to place the title or abstract in a single column fashion by setting it to `\"parent\"`, see: https://typst.app/docs/guides/page-setup-guide/#columns.\n\n```typ\n#set page(columns: 2, height: 10cm, width: 12cm)\n#set par(justify: true)\n#set par.line(numbering: \"1\")\n\n#place(\n  top + center,\n  float: true,\n  scope: \"parent\",\n  text(1.4em, weight: \"bold\")[\n    Impacts of Odobenidae\n  ],\n)\n\n== About seals in the wild\n#lorem(80)\n\n```\n\n![image|529x445](upload://2lEaNSCrqIqH3YbWtFPiKfgHPBF.png)",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 5,
      "reads": 46,
      "score": 204.2,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 21
    },
    {
      "id": 4274,
      "post_number": 3,
      "username": "maucejo",
      "name": "Mathieu Aucejo",
      "created_at": "2024-10-19T18:05:05.979Z",
      "updated_at": "2024-10-19T18:05:05.979Z",
      "cooked": "<p><a class=\"mention\" href=\"/u/xkevio\">@xkevio</a> Thank you ! It is the answer I was lookgin for.</p>",
      "raw": "@xkevio Thank you ! It is the answer I was lookgin for.",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 42,
      "score": 28.4,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 125
    },
    {
      "id": 4555,
      "post_number": 4,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2024-10-23T13:25:37.280Z",
      "updated_at": "2024-10-23T13:25:37.280Z",
      "cooked": "<p>Hi <a class=\"mention\" href=\"/u/maucejo\">@maucejo</a>, I have moved your question to the <a class=\"hashtag-cooked\" href=\"/c/questions/5\" data-type=\"category\" data-slug=\"questions\" data-id=\"5\"><span class=\"hashtag-icon-placeholder\"><svg class=\"fa d-icon d-icon-square-full svg-icon svg-node\"><use href=\"#square-full\"></use></svg></span><span>Questions</span></a> category, please make sure to check the category when creating a topic <img src=\"https://forum.typst.app/images/emoji/apple/slight_smile.png?v=12\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"> that also means that you can select an answer. If you feel the response you got has sufficiently answered your question, be sure to give it a checkmark. This will help others find the solution in the future. Thanks!</p>",
      "raw": "Hi @maucejo, I have moved your question to the #questions category, please make sure to check the category when creating a topic :slight_smile: that also means that you can select an answer. If you feel the response you got has sufficiently answered your question, be sure to give it a checkmark. This will help others find the solution in the future. Thanks!",
      "reply_to_post_number": 3,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 29,
      "score": 25.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 32
    }
  ],
  "scraped_at": "2025-06-10T09:56:23.863071"
}