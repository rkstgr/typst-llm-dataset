{
  "topic_metadata": {
    "id": 3371,
    "title": "How to rotate axis labels in lilaq?",
    "slug": "how-to-rotate-axis-labels-in-lilaq",
    "posts_count": 5,
    "created_at": "2025-03-22T20:31:44.679Z",
    "last_posted_at": "2025-03-23T12:16:05.684Z",
    "views": 122,
    "like_count": 5,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 3,
    "accepted_answer_username": "janekfleper",
    "tags": [
      "lilaq"
    ],
    "category_id": 5,
    "participant_count": 4,
    "word_count": 631
  },
  "posts": [
    {
      "id": 10117,
      "post_number": 1,
      "username": "Mathemensch",
      "name": "Alexander Schulz",
      "created_at": "2025-03-22T20:31:44.814Z",
      "updated_at": "2025-03-22T20:31:44.814Z",
      "cooked": "<p>Hi everyone,</p>\n<p>I’m currently experimenting with switching my plots from cetz-plot to lilaq, and I have to say—I’m already quite impressed! The design flexibility is great, and I’ve managed to recreate most of my custom layout using the documentation and examples.</p>\n<p>One thing I’m still trying to figure out, though, is how to <strong>rotate and fine-tune the position of the axis labels</strong> (xlabel and ylabel). I’d like to rotate them slightly and adjust their placement to better match my preferred layout style (which I used in cetz-plot before).</p>\n<p>Here’s a minimal working example of what I have so far:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#import \"@preview/lilaq:0.1.0\" as lq\n#import \"@preview/zero:0.3.3\": * \n#import \"@preview/tiptoe:0.3.0\"\n\n#let schoolbook-style = it =&gt; {\n  let filter(value, distance) = value != 0 and distance &gt;= 5pt\n  let axis-args = (position: 0, filter: filter)\n  \n  show: lq.set-tick(inset: 2pt, outset: 2pt, pad: 0.4em)\n  show: lq.set-spine(tip: tiptoe.triangle)\n  show: lq.set-diagram(xaxis: axis-args, yaxis: axis-args)\n  show lq.selector(lq.label): set align(top + right)\n  it\n}\n\n#set-num(decimal-separator: \",\")\n\n#show: schoolbook-style\n\n#let x = lq.linspace(0, 10, num:200) \n\n#lq.diagram(\n  xlabel: $x$, \n  ylabel: $y$,\n  lq.plot(\n    mark: none,\n    stroke: 1.5pt,\n    x,\n    x.map(x =&gt; \n      calc.pow(x,2)  \n    )\n  ),\n)\n</code></pre>\n<p>Any tips on how to manually rotate or reposition the axis labels (xlabel, ylabel)? Is there a clean way to apply a rotate or offset to them in the current lilaq API?</p>\n<p>Thanks in advance, and also big kudos to everyone working on these awesome libraries!</p>\n<p>CeTZ plot:<br>\n<div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/6/60e1795e7fd02d09feb19e8983f7b6e26709caa1.png\" data-download-href=\"https://forum.typst.app/uploads/default/60e1795e7fd02d09feb19e8983f7b6e26709caa1\" title=\"SCR-20250322-sobo\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/6/60e1795e7fd02d09feb19e8983f7b6e26709caa1_2_543x500.png\" alt=\"SCR-20250322-sobo\" data-base62-sha1=\"dP2UCiSF8EL5gNFq5kKyg3j0aaZ\" width=\"543\" height=\"500\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/6/60e1795e7fd02d09feb19e8983f7b6e26709caa1_2_543x500.png, https://forum.typst.app/uploads/default/optimized/2X/6/60e1795e7fd02d09feb19e8983f7b6e26709caa1_2_814x750.png 1.5x, https://forum.typst.app/uploads/default/original/2X/6/60e1795e7fd02d09feb19e8983f7b6e26709caa1.png 2x\" data-dominant-color=\"F7F8F9\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">SCR-20250322-sobo</span><span class=\"informations\">844×776 43.5 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>Current lilaq plot:<br>\n<div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/9/95dd0efff16d8d74778beff659d29c2a49508909.png\" data-download-href=\"https://forum.typst.app/uploads/default/95dd0efff16d8d74778beff659d29c2a49508909\" title=\"SCR-20250322-soch\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/9/95dd0efff16d8d74778beff659d29c2a49508909_2_690x486.png\" alt=\"SCR-20250322-soch\" data-base62-sha1=\"lnKL3owEra713BPZOPaZ3Tu2eeZ\" width=\"690\" height=\"486\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/9/95dd0efff16d8d74778beff659d29c2a49508909_2_690x486.png, https://forum.typst.app/uploads/default/original/2X/9/95dd0efff16d8d74778beff659d29c2a49508909.png 1.5x, https://forum.typst.app/uploads/default/original/2X/9/95dd0efff16d8d74778beff659d29c2a49508909.png 2x\" data-dominant-color=\"F8F9FA\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">SCR-20250322-soch</span><span class=\"informations\">874×616 38.1 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>",
      "raw": "Hi everyone,\n\nI’m currently experimenting with switching my plots from cetz-plot to lilaq, and I have to say—I’m already quite impressed! The design flexibility is great, and I’ve managed to recreate most of my custom layout using the documentation and examples.\n\nOne thing I’m still trying to figure out, though, is how to **rotate and fine-tune the position of the axis labels** (xlabel and ylabel). I’d like to rotate them slightly and adjust their placement to better match my preferred layout style (which I used in cetz-plot before).\n\nHere’s a minimal working example of what I have so far:\n```typ\n#import \"@preview/lilaq:0.1.0\" as lq\n#import \"@preview/zero:0.3.3\": * \n#import \"@preview/tiptoe:0.3.0\"\n\n#let schoolbook-style = it => {\n  let filter(value, distance) = value != 0 and distance >= 5pt\n  let axis-args = (position: 0, filter: filter)\n  \n  show: lq.set-tick(inset: 2pt, outset: 2pt, pad: 0.4em)\n  show: lq.set-spine(tip: tiptoe.triangle)\n  show: lq.set-diagram(xaxis: axis-args, yaxis: axis-args)\n  show lq.selector(lq.label): set align(top + right)\n  it\n}\n\n#set-num(decimal-separator: \",\")\n\n#show: schoolbook-style\n\n#let x = lq.linspace(0, 10, num:200) \n\n#lq.diagram(\n  xlabel: $x$, \n  ylabel: $y$,\n  lq.plot(\n    mark: none,\n    stroke: 1.5pt,\n    x,\n    x.map(x => \n      calc.pow(x,2)  \n    )\n  ),\n)\n```\nAny tips on how to manually rotate or reposition the axis labels (xlabel, ylabel)? Is there a clean way to apply a rotate or offset to them in the current lilaq API?\n\nThanks in advance, and also big kudos to everyone working on these awesome libraries!\n\nCeTZ plot:\n![SCR-20250322-sobo|543x500](upload://dP2UCiSF8EL5gNFq5kKyg3j0aaZ.png)\n\nCurrent lilaq plot:\n![SCR-20250322-soch|690x486](upload://lnKL3owEra713BPZOPaZ3Tu2eeZ.png)",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 45,
      "score": 89.0,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 307
    },
    {
      "id": 10123,
      "post_number": 2,
      "username": "vmartel08",
      "name": "Vincent Martel",
      "created_at": "2025-03-22T22:32:07.177Z",
      "updated_at": "2025-03-22T22:33:11.539Z",
      "cooked": "<p>Hi there, have you tried setting “angle:-90deg”?</p>\n<p>The Lilaq doc mentions:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">lq.label(body, dx=0pt, dy=0pt, pad=0.75em, angle=0deg)\n</code></pre>\n<h4><a name=\"p-10123-angle-angle-default-0deg-1\" class=\"anchor\" href=\"#p-10123-angle-angle-default-0deg-1\"></a>angle : <code>angle</code> <em>default:</em> <code>0deg</code></h4>\n<p>Angle at which the label is drawn. The label of a <code>y</code> axis is often drawn at <code>-90deg</code>.</p>\n<aside class=\"onebox allowlistedgeneric\" data-onebox-src=\"https://lilaq.org/docs/reference/label\">\n  <header class=\"source\">\n      <img src=\"https://forum.typst.app/uploads/default/original/2X/8/819b1f818c46b8a56fc178bcef886895139c2e5a.png\" class=\"site-icon\" data-dominant-color=\"724A93\" width=\"16\" height=\"16\">\n\n      <a href=\"https://lilaq.org/docs/reference/label\" target=\"_blank\" rel=\"noopener nofollow ugc\">lilaq.org</a>\n  </header>\n\n  <article class=\"onebox-body\">\n    <div class=\"aspect-image\" style=\"--aspect-ratio:690/388;\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/0/0a180e3a2c5896dc676770ee7ae28dd1810115e4_2_690x388.jpeg\" class=\"thumbnail\" data-dominant-color=\"6055BC\" width=\"690\" height=\"388\"></div>\n\n<h3><a href=\"https://lilaq.org/docs/reference/label\" target=\"_blank\" rel=\"noopener nofollow ugc\">label − Lilaq</a></h3>\n\n  <p>A label for a diagram axis.</p>\n\n\n  </article>\n\n  <div class=\"onebox-metadata\">\n    \n    \n  </div>\n\n  <div style=\"clear: both\"></div>\n</aside>\n",
      "raw": "Hi there, have you tried setting “angle:-90deg”?\n\nThe Lilaq doc mentions:\n\n```typ\nlq.label(body, dx=0pt, dy=0pt, pad=0.75em, angle=0deg)\n```\n#### angle : `angle` *default:* `0deg`\n\nAngle at which the label is drawn. The label of a `y` axis is often drawn at `-90deg`.\n\nhttps://lilaq.org/docs/reference/label",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 45,
      "score": 24.0,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 936
    },
    {
      "id": 10124,
      "post_number": 3,
      "username": "janekfleper",
      "name": "Janek Fleper",
      "created_at": "2025-03-22T22:33:10.139Z",
      "updated_at": "2025-03-22T22:35:33.572Z",
      "cooked": "<p>You can pass a <a href=\"https://lilaq.org/docs/reference/label\"><code>label</code></a> to the parameters <code>xlabel</code> and <code>ylabel</code> to adjust the angle and the position.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#lq.diagram(\n  xlabel: lq.xlabel($x$, dx: 0.3cm, dy: -0.7cm, angle: 0deg),\n  ylabel: lq.ylabel($y$, dx: 0.9cm, dy: -0.4cm, angle: 0deg),\n  lq.plot(\n    mark: none,\n    stroke: 1.5pt,\n    x,\n    x.map(x =&gt; \n      calc.pow(x,2)  \n    )\n  ),\n)\n</code></pre>\n<p>I’m not sure if there is also a way to do this with a show rule? But since the position probably needs to be customized for every plot anyway, I think it is fine to create the elements here manually.</p>",
      "raw": "You can pass a [`label`](https://lilaq.org/docs/reference/label) to the parameters `xlabel` and `ylabel` to adjust the angle and the position.\n\n```typ\n#lq.diagram(\n  xlabel: lq.xlabel($x$, dx: 0.3cm, dy: -0.7cm, angle: 0deg),\n  ylabel: lq.ylabel($y$, dx: 0.9cm, dy: -0.4cm, angle: 0deg),\n  lq.plot(\n    mark: none,\n    stroke: 1.5pt,\n    x,\n    x.map(x => \n      calc.pow(x,2)  \n    )\n  ),\n)\n```\n\nI'm not sure if there is also a way to do this with a show rule? But since the position probably needs to be customized for every plot anyway, I think it is fine to create the elements here manually.",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 2,
      "reads": 44,
      "score": 43.8,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 69
    },
    {
      "id": 10125,
      "post_number": 4,
      "username": "Mathemensch",
      "name": "Alexander Schulz",
      "created_at": "2025-03-22T22:45:07.649Z",
      "updated_at": "2025-03-22T22:45:31.346Z",
      "cooked": "<p>Thank you very much for your code snippet!<br>\nIt results in the exact intended layout.</p>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/a/a16295fcd60aa2209dde842128ff924de5c8aa8b.png\" data-download-href=\"https://forum.typst.app/uploads/default/a16295fcd60aa2209dde842128ff924de5c8aa8b\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/a/a16295fcd60aa2209dde842128ff924de5c8aa8b_2_335x250.png\" alt=\"image\" data-base62-sha1=\"n1G5HMIgjn4zO5wT0cFn2skJ1G3\" width=\"335\" height=\"250\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/a/a16295fcd60aa2209dde842128ff924de5c8aa8b_2_335x250.png, https://forum.typst.app/uploads/default/optimized/2X/a/a16295fcd60aa2209dde842128ff924de5c8aa8b_2_502x375.png 1.5x, https://forum.typst.app/uploads/default/optimized/2X/a/a16295fcd60aa2209dde842128ff924de5c8aa8b_2_670x500.png 2x\" data-dominant-color=\"F7F8F9\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">802×598 36.6 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p><a href=\"https://typst.app/project/rMJq47dMdXyKz9LuqiLvsQ\" class=\"onebox\" target=\"_blank\" rel=\"noopener\">https://typst.app/project/rMJq47dMdXyKz9LuqiLvsQ</a></p>",
      "raw": "Thank you very much for your code snippet!\nIt results in the exact intended layout.\n\n![image|670x500, 50%](upload://n1G5HMIgjn4zO5wT0cFn2skJ1G3.png)\n\nhttps://typst.app/project/rMJq47dMdXyKz9LuqiLvsQ",
      "reply_to_post_number": 3,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 43,
      "score": 13.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 307
    },
    {
      "id": 10128,
      "post_number": 5,
      "username": "Mc-Zen",
      "name": "Mc-Zen",
      "created_at": "2025-03-23T12:16:05.684Z",
      "updated_at": "2025-03-23T12:16:05.684Z",
      "cooked": "<p>Yes, using <code>lq.label</code> is indeed the way to go.</p>\n<p>Ideally you would want to write</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show lq.label.where(kind: \"y\"): set lq.label(angle: 0deg)\n</code></pre>\n<p>but it’s currently not possible due to a limitation of the package <em>elembic</em> which provides the “user-defined types/elements” in Lilaq. It will become possible though, when types are properly introduced in the Typst compiler.</p>\n<p>Regarding the preset: you can also add the label (if it always has the same text) to the <code>lq.diagram</code> set rule.</p>\n<pre data-code-wrap=\"typc\"><code class=\"lang-typc\">show: lq.set-diagram(\n  xaxis: axis-args + (\n    label: lq.xlabel($x$, dx: 0.3cm, dy: -0.7cm)\n  ), \n  yaxis: axis-args + (\n    label: lq.ylabel($y$, dx: 0.9cm, dy: -0.4cm, angle: 0deg)\n  ), \n)\n</code></pre>\n<p>This way you can avoid a good deal of repetition.</p>\n<p>I will think about how to improve positioning of the labels so that it does not need to be tuned each time the label text changes.</p>",
      "raw": "Yes, using `lq.label` is indeed the way to go. \n\nIdeally you would want to write\n```typ\n#show lq.label.where(kind: \"y\"): set lq.label(angle: 0deg)\n```\nbut it's currently not possible due to a limitation of the package *elembic* which provides the \"user-defined types/elements\" in Lilaq. It will become possible though, when types are properly introduced in the Typst compiler.\n\nRegarding the preset: you can also add the label (if it always has the same text) to the `lq.diagram` set rule. \n\n```typc\nshow: lq.set-diagram(\n  xaxis: axis-args + (\n    label: lq.xlabel($x$, dx: 0.3cm, dy: -0.7cm)\n  ), \n  yaxis: axis-args + (\n    label: lq.ylabel($y$, dx: 0.9cm, dy: -0.4cm, angle: 0deg)\n  ), \n)\n``` \nThis way you can avoid a good deal of repetition. \n\n\nI will think about how to improve positioning of the labels so that it does not need to be tuned each time the label text changes.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 2,
      "reads": 31,
      "score": 36.2,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 9
    }
  ],
  "scraped_at": "2025-06-10T09:50:06.847618"
}