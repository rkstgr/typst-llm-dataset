{
  "topic_metadata": {
    "id": 4214,
    "title": "Can a set or show rule be used to style the text content in a figure from outside of the figure?",
    "slug": "can-a-set-or-show-rule-be-used-to-style-the-text-content-in-a-figure-from-outside-of-the-figure",
    "posts_count": 10,
    "created_at": "2025-05-21T16:24:17.030Z",
    "last_posted_at": "2025-05-22T17:42:30.545Z",
    "views": 61,
    "like_count": 2,
    "reply_count": 4,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 7,
    "accepted_answer_username": "Andrew",
    "tags": [
      "scripting",
      "figures"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 1140
  },
  "posts": [
    {
      "id": 12892,
      "post_number": 1,
      "username": "Haden",
      "name": "",
      "created_at": "2025-05-21T16:24:17.164Z",
      "updated_at": "2025-05-22T19:08:50.560Z",
      "cooked": "<p>Good day!</p>\n<p>My employer uses Quarto for automated reporting, and I’m currently working on a typst template that will be applied to our reports as a custom format. All of our figures (images and tables) include several text annotations at the bottom of the figure, which need to be styled. I can achieve the desired result in typst by including <code>align</code> and <code>text</code> in the <code>figure</code> call:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set figure.caption(position: top)\n#show figure.caption: set align(left)\n\n#figure(\n  {\n    // an image\n    rect(fill: red)\n    // annotations\n    align(\n        left,\n        text(size: 10pt)[\n            Program Path: mypath/file.csv \\\n            Abbreviations: DV = dependent variable \\\n        ]\n    )\n  },\n  caption: [My Caption]\n)\n</code></pre>\n<p>My question is, can I apply the same styling using a show/set rule outside of the figure, so that I can keep the styling and “artifact” creation steps separate?</p>\n<p>I can almost get the desired result by simply using:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show figure: it =&gt; {\n  set align(left)\n  set text(size: 10pt)\n  it\n}\n\n#figure(\n  {\n    rect(fill: red)\n    [\n        Program Path: mypath/file.csv \\\n        Abbreviations: DV = dependent variable \\\n    ]\n  },\n  caption: [My Caption]\n)\n</code></pre>\n<p>Except that the code above also shifts the image (which should be centered), to the left.</p>\n<p>Any guidance would be appreciated!</p>",
      "raw": "Good day!\n\nMy employer uses Quarto for automated reporting, and I'm currently working on a typst template that will be applied to our reports as a custom format. All of our figures (images and tables) include several text annotations at the bottom of the figure, which need to be styled. I can achieve the desired result in typst by including `align` and `text` in the `figure` call:\n\n```typ\n#set figure.caption(position: top)\n#show figure.caption: set align(left)\n\n#figure(\n  {\n    // an image\n    rect(fill: red)\n    // annotations\n    align(\n        left,\n        text(size: 10pt)[\n            Program Path: mypath/file.csv \\\n            Abbreviations: DV = dependent variable \\\n        ]\n    )\n  },\n  caption: [My Caption]\n)\n```\n\nMy question is, can I apply the same styling using a show/set rule outside of the figure, so that I can keep the styling and \"artifact\" creation steps separate?\n\nI can almost get the desired result by simply using: \n\n```typ \n#show figure: it => {\n  set align(left)\n  set text(size: 10pt)\n  it\n}\n\n#figure(\n  {\n    rect(fill: red)\n    [\n        Program Path: mypath/file.csv \\\n        Abbreviations: DV = dependent variable \\\n    ]\n  },\n  caption: [My Caption]\n)\n```\nExcept that the code above also shifts the image (which should be centered), to the left.\n\nAny guidance would be appreciated!",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 19,
      "score": 13.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1635
    },
    {
      "id": 12898,
      "post_number": 2,
      "username": "bluss",
      "name": "Ulrik",
      "created_at": "2025-05-21T17:00:00.955Z",
      "updated_at": "2025-05-21T17:00:00.955Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"Haden\" data-post=\"1\" data-topic=\"4214\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/h/F64C96/48.png\" class=\"avatar\"> Haden:</div>\n<blockquote>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">    [\n      Program Path: mypath/file.csv \\\n      Abbreviations: DV = dependent variable \\\n    ]\n</code></pre>\n</blockquote>\n</aside>\n<p>I think you can introduce your own function here, making it</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#annotation[\n   Program Path: mypath/file.csv \\\n   Abbreviations: DV = dependent variable \\\n]\n</code></pre>\n<p>Then you have separated style from markup by only just a function call, but that’s enough. The function itself can either contain the styling, or mark up the content so that it’s recognizable somehow and leave style for a show rule.</p>",
      "raw": "[quote=\"Haden, post:1, topic:4214\"]\n```\n    [\n      Program Path: mypath/file.csv \\\n      Abbreviations: DV = dependent variable \\\n    ]\n```\n[/quote]\n\nI think you can introduce your own function here, making it\n\n```typst\n#annotation[\n   Program Path: mypath/file.csv \\\n   Abbreviations: DV = dependent variable \\\n]\n```\n\nThen you have separated style from markup by only just a function call, but that's enough. The function itself can either contain the styling, or mark up the content so that it's recognizable somehow and leave style for a show rule.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 1,
      "like_count": 0,
      "reads": 18,
      "score": 3.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 1272
    },
    {
      "id": 12906,
      "post_number": 3,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-05-21T19:22:34.584Z",
      "updated_at": "2025-05-21T19:22:34.584Z",
      "cooked": "<p>Hello. Do you actually want the caption to be not centered (above the image)? If not, then a separate function indeed would be the cleanest solution:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set figure.caption(position: top)\n\n#let annotations(body) = align(center, block({\n  set align(left)\n  set text(size: 10pt)\n  body\n}))\n\n#figure(rect(), caption: [My Caption])\n#annotations[\n  Program Path: mypath/file.csv \\\n  Abbreviations: DV = dependent variable\n]\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/f/f8365a49a6a82314f3fa3d99b82147f5809d36b3.png\" alt=\"image\" data-base62-sha1=\"zpMRusZTZwNSORXDnlcozDELKNR\" width=\"330\" height=\"180\"></p>",
      "raw": "Hello. Do you actually want the caption to be not centered (above the image)? If not, then a separate function indeed would be the cleanest solution:\n\n```typ\n#set figure.caption(position: top)\n\n#let annotations(body) = align(center, block({\n  set align(left)\n  set text(size: 10pt)\n  body\n}))\n\n#figure(rect(), caption: [My Caption])\n#annotations[\n  Program Path: mypath/file.csv \\\n  Abbreviations: DV = dependent variable\n]\n```\n\n![image|441x240, 75%](upload://zpMRusZTZwNSORXDnlcozDELKNR.png)",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 18,
      "score": 3.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 12913,
      "post_number": 4,
      "username": "Haden",
      "name": "",
      "created_at": "2025-05-21T21:48:58.668Z",
      "updated_at": "2025-05-21T21:48:58.668Z",
      "cooked": "<p>Thank you both for your replies. Yes, <a class=\"mention\" href=\"/u/andrew\">@Andrew</a>, the caption should be left-aligned as well. Based on your response, would the simplest solution be to add a show rule to your suggestion, or did you have something else in mind?</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show figure.caption: set align(left)\n</code></pre>",
      "raw": "Thank you both for your replies. Yes, @Andrew, the caption should be left-aligned as well. Based on your response, would the simplest solution be to add a show rule to your suggestion, or did you have something else in mind? \n\n```typ\n#show figure.caption: set align(left)\n```",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 17,
      "score": 8.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1635
    },
    {
      "id": 12915,
      "post_number": 5,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-05-21T21:57:52.397Z",
      "updated_at": "2025-05-21T21:57:52.397Z",
      "cooked": "<p>How caption should behave if it’s longer than annotations or image?</p>",
      "raw": "How caption should behave if it's longer than annotations or image?",
      "reply_to_post_number": 4,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 17,
      "score": 3.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 12917,
      "post_number": 6,
      "username": "Haden",
      "name": "",
      "created_at": "2025-05-21T22:06:48.027Z",
      "updated_at": "2025-05-21T22:06:48.027Z",
      "cooked": "<p>It should wrap with a hanging indent.</p>\n<p>I’ll include the actual test case from my template below. If it muddies the water, let me know and I’ll edit the post to remove it.</p>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/8/87d3d2e0b5d6b79cbab770b3b382611d383a19b2.png\" data-download-href=\"https://forum.typst.app/uploads/default/87d3d2e0b5d6b79cbab770b3b382611d383a19b2\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/8/87d3d2e0b5d6b79cbab770b3b382611d383a19b2_2_407x375.png\" alt=\"image\" data-base62-sha1=\"jnAhU59vXVkWSuW4hibKI6K3F06\" width=\"407\" height=\"375\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/8/87d3d2e0b5d6b79cbab770b3b382611d383a19b2_2_407x375.png, https://forum.typst.app/uploads/default/optimized/2X/8/87d3d2e0b5d6b79cbab770b3b382611d383a19b2_2_610x562.png 1.5x, https://forum.typst.app/uploads/default/optimized/2X/8/87d3d2e0b5d6b79cbab770b3b382611d383a19b2_2_814x750.png 2x\" data-dominant-color=\"F6F6F6\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">1032×950 101 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>The relevant template code is:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">// FIGURES\n    #show figure: set block(sticky: true, breakable: true)\n    #set figure.caption(position: top)\n    #show figure.caption: it =&gt; context {\n        set text(font: \"Amaranth\", weight: \"bold\")\n        set align(left)\n        let n = if it.kind == image {\n            counter(figure.where(kind: image)).display()\n        } else if it.kind == table {\n            counter(figure.where(kind: table)).display()\n        } else {\n            none\n        }\n        // hanging indent only works if included inside the block\n        // block is needed so that sticky figures don't widow their titles \n        block(\n            par(\n                hanging-indent: 1in,\n                box(width: 1in, it.supplement + [ ] + n + [:]) + it.body\n            )\n        )\n    }\n}\n</code></pre>\n<p>And the call:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#figure(\n    {\n        image(\"pathtofile.png\")\n        align(\n            left,\n            text(size: 10pt)[\n                Program Path: artifacts/create-data.jl \\\n                Legend: #lorem(60) \\ \n                Abbreviations: CL = clearance, \\\n            ]\n        )\n    },\n    placement: none,\n    caption: [Schematic Representation of Proposed PK Model],\n    kind: image,\n    supplement: [Figure]\n)\n\n\n</code></pre>",
      "raw": "It should wrap with a hanging indent. \n\nI'll include the actual test case from my template below. If it muddies the water, let me know and I'll edit the post to remove it.\n\n![image|543x500, 75%](upload://jnAhU59vXVkWSuW4hibKI6K3F06.png)\n\nThe relevant template code is: \n\n```typ\n// FIGURES\n    #show figure: set block(sticky: true, breakable: true)\n    #set figure.caption(position: top)\n    #show figure.caption: it => context {\n        set text(font: \"Amaranth\", weight: \"bold\")\n        set align(left)\n        let n = if it.kind == image {\n            counter(figure.where(kind: image)).display()\n        } else if it.kind == table {\n            counter(figure.where(kind: table)).display()\n        } else {\n            none\n        }\n        // hanging indent only works if included inside the block\n        // block is needed so that sticky figures don't widow their titles \n        block(\n            par(\n                hanging-indent: 1in,\n                box(width: 1in, it.supplement + [ ] + n + [:]) + it.body\n            )\n        )\n    }\n}\n```\n\nAnd the call:\n\n```typ\n#figure(\n    {\n        image(\"pathtofile.png\")\n        align(\n            left,\n            text(size: 10pt)[\n                Program Path: artifacts/create-data.jl \\\n                Legend: #lorem(60) \\ \n                Abbreviations: CL = clearance, \\\n            ]\n        )\n    },\n    placement: none,\n    caption: [Schematic Representation of Proposed PK Model],\n    kind: image,\n    supplement: [Figure]\n)\n\n\n```",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 17,
      "score": 8.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1635
    },
    {
      "id": 12939,
      "post_number": 7,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-05-22T12:23:22.160Z",
      "updated_at": "2025-05-22T12:25:58.042Z",
      "cooked": "<p>There are a lot of explicit things that are default anyway, so they basically just don’t give anything other than more code. I also noticed that basically the width of everything is the max width of caption/annotations/body. If this is what you want, then all three do have to be inside the same block, i.e., inside the figure. I think a basic wrapper with additional argument is the way.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set figure.caption(position: top)\n#show figure: set block(sticky: true, breakable: true)\n#show figure.caption: it =&gt; context {\n  let numbering = if it.kind == image {\n    [~] + counter(figure.where(kind: image)).display()\n  } else if it.kind == table {\n    [~] + counter(figure.where(kind: table)).display()\n  } // kind: raw is excluded\n  set text(font: \"Amaranth\", weight: \"bold\")\n  set align(left)\n  grid(\n    columns: (1in, auto),\n    [#it.supplement#numbering#it.separator], it.body,\n  )\n}\n\n#let figure(annotations: none, body, ..args) = std.figure(..args, {\n  body\n  set align(left)\n  set text(10pt)\n  annotations\n})\n\n#figure(\n  rect(width: 15cm, height: 9cm),\n  caption: lorem(15),\n  annotations: [\n    Program Path: artifacts/create-data.jl \\\n    Legend: #lorem(60) \\\n    Abbreviations:\n    CL = clearance, \\\n  ],\n)\n\n#v(5em)\n\n#figure(\n  table(columns: 2)[][][],\n  caption: lorem(15),\n  annotations: [\n    Program Path: artifacts/create-data.jl \\\n    Legend: #lorem(10) \\\n    Abbreviations:\n    CL = clearance, \\\n  ],\n)\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/e/e666dd40596fb24834e8005bbbccff36436f1867.png\" data-download-href=\"https://forum.typst.app/uploads/default/e666dd40596fb24834e8005bbbccff36436f1867\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/e/e666dd40596fb24834e8005bbbccff36436f1867_2_426x500.png\" alt=\"image\" data-base62-sha1=\"wSecDG5m7U3M7PwlBpXCLH2BfjV\" width=\"426\" height=\"500\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/e/e666dd40596fb24834e8005bbbccff36436f1867_2_426x500.png, https://forum.typst.app/uploads/default/original/2X/e/e666dd40596fb24834e8005bbbccff36436f1867.png 1.5x, https://forum.typst.app/uploads/default/original/2X/e/e666dd40596fb24834e8005bbbccff36436f1867.png 2x\" data-dominant-color=\"151515\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">607×712 49.6 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>",
      "raw": "There are a lot of explicit things that are default anyway, so they basically just don't give anything other than more code. I also noticed that basically the width of everything is the max width of caption/annotations/body. If this is what you want, then all three do have to be inside the same block, i.e., inside the figure. I think a basic wrapper with additional argument is the way.\n\n```typ\n#set figure.caption(position: top)\n#show figure: set block(sticky: true, breakable: true)\n#show figure.caption: it => context {\n  let numbering = if it.kind == image {\n    [~] + counter(figure.where(kind: image)).display()\n  } else if it.kind == table {\n    [~] + counter(figure.where(kind: table)).display()\n  } // kind: raw is excluded\n  set text(font: \"Amaranth\", weight: \"bold\")\n  set align(left)\n  grid(\n    columns: (1in, auto),\n    [#it.supplement#numbering#it.separator], it.body,\n  )\n}\n\n#let figure(annotations: none, body, ..args) = std.figure(..args, {\n  body\n  set align(left)\n  set text(10pt)\n  annotations\n})\n\n#figure(\n  rect(width: 15cm, height: 9cm),\n  caption: lorem(15),\n  annotations: [\n    Program Path: artifacts/create-data.jl \\\n    Legend: #lorem(60) \\\n    Abbreviations:\n    CL = clearance, \\\n  ],\n)\n\n#v(5em)\n\n#figure(\n  table(columns: 2)[][][],\n  caption: lorem(15),\n  annotations: [\n    Program Path: artifacts/create-data.jl \\\n    Legend: #lorem(10) \\\n    Abbreviations:\n    CL = clearance, \\\n  ],\n)\n```\n\n![image|426x500](upload://wSecDG5m7U3M7PwlBpXCLH2BfjV.png)",
      "reply_to_post_number": 6,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 13,
      "score": 7.6,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 12953,
      "post_number": 8,
      "username": "Haden",
      "name": "",
      "created_at": "2025-05-22T15:30:33.380Z",
      "updated_at": "2025-05-22T17:36:49.591Z",
      "cooked": "<p>Thanks, Andrew.</p>\n<aside class=\"quote no-group\" data-username=\"Andrew\" data-post=\"7\" data-topic=\"4214\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/andrew/48/62_2.png\" class=\"avatar\"> Andrew:</div>\n<blockquote>\n<p>There are a lot of explicit things that are default anyway</p>\n</blockquote>\n</aside>\n<p>Can you elaborate here? Also, is there a reason for using <code>grid</code> over a <code>box</code>?</p>\n<p>The solution you proposed works if the code is in the same document as the content; however, if I remove it to a template I get an error, <code>unexpected argument: annotations</code></p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">//temp.typ\n#let report(doc) = {\n  //solution code\n  doc\n} \n\n// test.typ\n#import \"temp.typ\": *\n#show: report.with()\n\n#figure(\n  rect(width: 15cm, height: 9cm),\n  caption: lorem(15),\n  annotations: [\n    Program Path: artifacts/create-data.jl \\\n    Legend: #lorem(60) \\\n    Abbreviations:\n    CL = clearance, \\\n  ],\n)\n\n#outline(\n  title: \"List of Figures\",\n  target: figure.where(kind: image)\n)\n</code></pre>\n<p>There’s also an error with the subsequent <code>#outline</code> that, <code>where() can only be called on element functions </code>.</p>",
      "raw": "Thanks, Andrew.\n\n[quote=\"Andrew, post:7, topic:4214\"]\nThere are a lot of explicit things that are default anyway\n[/quote]\n\nCan you elaborate here? Also, is there a reason for using `grid` over a `box`?\n\nThe solution you proposed works if the code is in the same document as the content; however, if I remove it to a template I get an error, `unexpected argument: annotations`\n\n```typ\n//temp.typ\n#let report(doc) = {\n  //solution code\n  doc\n} \n\n// test.typ\n#import \"temp.typ\": *\n#show: report.with()\n\n#figure(\n  rect(width: 15cm, height: 9cm),\n  caption: lorem(15),\n  annotations: [\n    Program Path: artifacts/create-data.jl \\\n    Legend: #lorem(60) \\\n    Abbreviations:\n    CL = clearance, \\\n  ],\n)\n\n#outline(\n  title: \"List of Figures\",\n  target: figure.where(kind: image)\n)\n```\n\nThere's also an error with the subsequent `#outline` that, `where() can only be called on element functions `.",
      "reply_to_post_number": 7,
      "reply_count": 1,
      "quote_count": 1,
      "like_count": 1,
      "reads": 13,
      "score": 22.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1635
    },
    {
      "id": 12964,
      "post_number": 9,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-05-22T17:02:03.887Z",
      "updated_at": "2025-05-22T17:02:03.887Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"Haden\" data-post=\"8\" data-topic=\"4214\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/h/F64C96/48.png\" class=\"avatar\"> Haden:</div>\n<blockquote>\n<p>Can you elaborate here?</p>\n</blockquote>\n</aside>\n<p>The <a href=\"https://typst.app/docs/reference/model/figure/#parameters-placement\"><code>figure.placement</code></a> is <code>none</code> by default. The <a href=\"https://typst.app/docs/reference/model/figure/#parameters-kind\"><code>figure.kind</code></a> is determined by the content automatically. Even with the wrapper, it works as expected, so also no reason to set it. The same goes to <a href=\"https://typst.app/docs/reference/model/figure/#parameters-supplement\"><code>figure.supplement</code></a>.</p>\n<aside class=\"quote no-group\" data-username=\"Haden\" data-post=\"8\" data-topic=\"4214\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/h/F64C96/48.png\" class=\"avatar\"> Haden:</div>\n<blockquote>\n<p>Also, is there a reason for using <code>grid</code> over a <code>box</code>?</p>\n</blockquote>\n</aside>\n<p>The <code>grid</code> is used instead of <code>box</code> and <code>par</code> (and <code>block</code>). It’s just better suited for this. See <a href=\"https://github.com/typst/typst/issues/2422\" class=\"inline-onebox\">Horizontal `stack` does not correctly resize its children · Issue #2422 · typst/typst · GitHub</a>.</p>\n<aside class=\"quote no-group\" data-username=\"Haden\" data-post=\"8\" data-topic=\"4214\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/h/F64C96/48.png\" class=\"avatar\"> Haden:</div>\n<blockquote>\n<p>I remove it to a template I get an error, <code>unexpected argument: annotations</code></p>\n</blockquote>\n</aside>\n<p>The things defined in the template function are scoped to that function and not accessible from outside, i.e., define it outside.</p>\n<aside class=\"quote no-group\" data-username=\"Haden\" data-post=\"8\" data-topic=\"4214\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/h/F64C96/48.png\" class=\"avatar\"> Haden:</div>\n<blockquote>\n<p>There’s also an error with the subsequent <code>#outline</code> that, <code>where() can only be called on element functions </code>.</p>\n</blockquote>\n</aside>\n<p>You don’t have a comma after <code>  title: \"List of Figures\"</code>. The <code>  target: figure.where(kind: image)</code> uses custom wrapper function, so either use <code>std.figure</code> or rename the function.</p>",
      "raw": "[quote=\"Haden, post:8, topic:4214\"]\nCan you elaborate here?\n[/quote]\n\nThe [`figure.placement`](https://typst.app/docs/reference/model/figure/#parameters-placement) is `none` by default. The [`figure.kind`](https://typst.app/docs/reference/model/figure/#parameters-kind) is determined by the content automatically. Even with the wrapper, it works as expected, so also no reason to set it. The same goes to [`figure.supplement`](https://typst.app/docs/reference/model/figure/#parameters-supplement).\n\n[quote=\"Haden, post:8, topic:4214\"]\nAlso, is there a reason for using `grid` over a `box`?\n[/quote]\n\nThe `grid` is used instead of `box` and `par` (and `block`). It's just better suited for this. See https://github.com/typst/typst/issues/2422.\n\n[quote=\"Haden, post:8, topic:4214\"]\nI remove it to a template I get an error, `unexpected argument: annotations`\n[/quote]\n\nThe things defined in the template function are scoped to that function and not accessible from outside, i.e., define it outside.\n\n[quote=\"Haden, post:8, topic:4214\"]\nThere’s also an error with the subsequent `#outline` that, `where() can only be called on element functions `.\n[/quote]\n\nYou don't have a comma after `  title: \"List of Figures\"`. The `  target: figure.where(kind: image)` uses custom wrapper function, so either use `std.figure` or rename the function.",
      "reply_to_post_number": 8,
      "reply_count": 0,
      "quote_count": 1,
      "like_count": 0,
      "reads": 11,
      "score": 2.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 12971,
      "post_number": 10,
      "username": "Haden",
      "name": "",
      "created_at": "2025-05-22T17:42:30.545Z",
      "updated_at": "2025-05-22T17:42:30.545Z",
      "cooked": "<p>Thank you for your help and the additional clarification, <a class=\"mention\" href=\"/u/andrew\">@Andrew</a>. Everything is working.</p>",
      "raw": "Thank you for your help and the additional clarification, @Andrew. Everything is working.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 12,
      "score": 17.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1635
    }
  ],
  "scraped_at": "2025-06-10T09:47:29.255510"
}