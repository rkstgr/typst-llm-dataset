{
  "topic_metadata": {
    "id": 609,
    "title": "How to customize figure reference with panel letter?",
    "slug": "how-to-customize-figure-reference-with-panel-letter",
    "posts_count": 4,
    "created_at": "2024-09-23T09:00:23.951Z",
    "last_posted_at": "2024-09-23T11:09:55.486Z",
    "views": 224,
    "like_count": 3,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 3,
    "accepted_answer_username": "flokl",
    "tags": [
      "figures"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 344
  },
  "posts": [
    {
      "id": 2345,
      "post_number": 1,
      "username": "Rene_Skuk",
      "name": "René",
      "created_at": "2024-09-23T09:00:24.120Z",
      "updated_at": "2024-09-23T09:00:50.291Z",
      "cooked": "<p>I have a figure with multiple panels A-D. In text I would like to reference single panels of this figure. I am aware, that typst won’t be able to reference the panels by itself, so I was wondering if there is a way to add the panel label to the figure reference. Something like: <code>typ #ref(&lt;Figure1&gt;, panel = \"A\") </code>, which would then result in Figure 1.A</p>\n<p>The cases I tried so far are:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">@Figure1 // The normal case\n@Figure1 .A // This results into a space between the ref and .A\n#link(&lt;Figure1&gt;)[Figure 1.A] // This has the desired result, however, the downside is that the label number would not get updated if I add another figure\n</code></pre>\n<p>Anyone has an idea? I would appreciate the help.</p>",
      "raw": "I have a figure with multiple panels A-D. In text I would like to reference single panels of this figure. I am aware, that typst won't be able to reference the panels by itself, so I was wondering if there is a way to add the panel label to the figure reference. Something like: ```typ #ref(<Figure1>, panel = \"A\") ```, which would then result in Figure 1.A\n\nThe cases I tried so far are:\n```typ\n@Figure1 // The normal case\n@Figure1 .A // This results into a space between the ref and .A\n#link(<Figure1>)[Figure 1.A] // This has the desired result, however, the downside is that the label number would not get updated if I add another figure\n```\n\nAnyone has an idea? I would appreciate the help.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 37,
      "score": 982.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 447
    },
    {
      "id": 2349,
      "post_number": 2,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2024-09-23T09:37:20.915Z",
      "updated_at": "2024-09-23T10:00:02.140Z",
      "cooked": "<p>You might be interested in this package <a href=\"https://typst.app/universe/package/subpar\" class=\"inline-onebox\">subpar – Typst Universe</a> (shoutout to <a class=\"mention\" href=\"/u/tinger\">@Tinger</a>!).</p>\n<p>If your figure contains a single image with no referenceable content, I am afraid your only solution remains manually writing the panels. If your issue was with how to reference the figure’s number, it is solved by calling the function <a href=\"https://typst.app/docs/reference/model/ref/\"><code>ref</code></a>.</p>\n<p>EDIT: thanks <a class=\"mention\" href=\"/u/flokl\">@flokl</a>, your <a href=\"https://forum.typst.app/t/how-to-customize-figure-reference-with-panel-letter/609/3\">solution</a> is much better.</p>\n<div class=\"spoiler\">\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let lk(lab, suffix) = {\n  return {\n    link(lab)[#ref(lab).#suffix]\n  }\n}\n#lk(&lt;full&gt;, \"A\")\n</code></pre>\n</div>\n<p>See below for subfigures with subpar’s package.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#import \"@preview/subpar:0.1.1\"\n\n#subpar.grid(\n  figure(rect(fill: red), caption: [\n    red block\n  ]), &lt;a&gt;,\n  figure(rect(fill: blue), caption: [\n    blue block\n  ]), &lt;b&gt;,\n  columns: (1fr, 1fr),\n  caption: [A figure composed of two sub figures.],\n  label: &lt;full&gt;,\n)\n\nAbove in @full, we see a figure which is composed of two other figures, namely @a and @b.\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/1X/b280215928936ec5117845aeda2fd97f902c6a13.png\" data-download-href=\"https://forum.typst.app/uploads/default/b280215928936ec5117845aeda2fd97f902c6a13\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/1X/b280215928936ec5117845aeda2fd97f902c6a13_2_690x185.png\" alt=\"image\" data-base62-sha1=\"pt5vt6cVyUsaV3TddGLajiqkLZh\" width=\"690\" height=\"185\" srcset=\"https://forum.typst.app/uploads/default/optimized/1X/b280215928936ec5117845aeda2fd97f902c6a13_2_690x185.png, https://forum.typst.app/uploads/default/optimized/1X/b280215928936ec5117845aeda2fd97f902c6a13_2_1035x277.png 1.5x, https://forum.typst.app/uploads/default/optimized/1X/b280215928936ec5117845aeda2fd97f902c6a13_2_1380x370.png 2x\" data-dominant-color=\"F1EFF1\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">2834×762 94.2 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>",
      "raw": "You might be interested in this package https://typst.app/universe/package/subpar (shoutout to @Tinger!).\n\nIf your figure contains a single image with no referenceable content, I am afraid your only solution remains manually writing the panels. If your issue was with how to reference the figure's number, it is solved by calling the function [`ref`](https://typst.app/docs/reference/model/ref/).\n\nEDIT: thanks @flokl, your [solution](https://forum.typst.app/t/how-to-customize-figure-reference-with-panel-letter/609/3?u=quachpas) is much better.\n[spoiler]\n```typ\n#let lk(lab, suffix) = {\n  return {\n    link(lab)[#ref(lab).#suffix]\n  }\n}\n#lk(<full>, \"A\")\n```\n[/spoiler]\n\nSee below for subfigures with subpar's package.\n\n```typ\n#import \"@preview/subpar:0.1.1\"\n\n#subpar.grid(\n  figure(rect(fill: red), caption: [\n    red block\n  ]), <a>,\n  figure(rect(fill: blue), caption: [\n    blue block\n  ]), <b>,\n  columns: (1fr, 1fr),\n  caption: [A figure composed of two sub figures.],\n  label: <full>,\n)\n\nAbove in @full, we see a figure which is composed of two other figures, namely @a and @b.\n```\n![image|690x185](upload://pt5vt6cVyUsaV3TddGLajiqkLZh.png)",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 34,
      "score": 36.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 2350,
      "post_number": 3,
      "username": "flokl",
      "name": "",
      "created_at": "2024-09-23T09:53:15.177Z",
      "updated_at": "2024-09-23T10:05:55.413Z",
      "cooked": "<p>I think <a class=\"mention\" href=\"/u/rene_skuk\">@Rene_Skuk</a> has a single picture with A-D. You can escape the <code>.A</code> part with a backslash like this: <code>@figure-label\\.A</code>, which results in <code>Figure 1.A</code></p>",
      "raw": "I think @Rene_Skuk has a single picture with A-D. You can escape the `.A` part with a backslash like this: `@figure-label\\.A`, which results in `Figure 1.A`",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 2,
      "reads": 30,
      "score": 56.0,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 8
    },
    {
      "id": 2360,
      "post_number": 4,
      "username": "Rene_Skuk",
      "name": "René",
      "created_at": "2024-09-23T11:09:55.486Z",
      "updated_at": "2024-09-23T11:09:55.486Z",
      "cooked": "<p>Yes, that’s what I was looking for. Thanks <a class=\"mention\" href=\"/u/flokl\">@flokl</a></p>",
      "raw": "Yes, that's what I was looking for. Thanks @flokl",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 26,
      "score": 10.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 447
    }
  ],
  "scraped_at": "2025-06-10T09:58:16.514980"
}