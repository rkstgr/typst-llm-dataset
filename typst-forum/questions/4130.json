{
  "topic_metadata": {
    "id": 4130,
    "title": "How can I switch from Roman to Arabic page numbers without breaking the total page count?",
    "slug": "how-can-i-switch-from-roman-to-arabic-page-numbers-without-breaking-the-total-page-count",
    "posts_count": 4,
    "created_at": "2025-05-16T21:01:22.243Z",
    "last_posted_at": "2025-05-16T23:22:43.937Z",
    "views": 41,
    "like_count": 4,
    "reply_count": 2,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "janekfleper",
    "tags": [
      "numbering"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 513
  },
  "posts": [
    {
      "id": 12637,
      "post_number": 1,
      "username": "Rifling",
      "name": "",
      "created_at": "2025-05-16T21:01:22.353Z",
      "updated_at": "2025-05-17T01:46:27.952Z",
      "cooked": "<p>Hi, for my report I need to number the first pages in Roman numerals, and the following ones in Arabic numerals. I’ve tried the following model, but when I switch to Arabic numbering, the total number of pages in the Roman section is incorrect (for example, III/II instead of II/II).</p>\n<p>Here is my snippet:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set page(width: 6cm, height: 3cm, footer-descent: 0pt, margin: 4mm)\n#set pagebreak(weak: true)\n\n#set page(numbering: \"I/I\")\n\n= I First Roman section\n\n#pagebreak()\n= II Second Roman section\n\n#pagebreak()\n= III Last Roman section\n\n#pagebreak()\n#counter(page).update(1)\n#set page(numbering: \"1/1\")\n= 1 First Arabic section\n\n#pagebreak()\n= 2 Second Arabic section\n</code></pre>",
      "raw": "Hi, for my report I need to number the first pages in Roman numerals, and the following ones in Arabic numerals. I've tried the following model, but when I switch to Arabic numbering, the total number of pages in the Roman section is incorrect (for example, III/II instead of II/II).\n\nHere is my snippet:\n```typ\n#set page(width: 6cm, height: 3cm, footer-descent: 0pt, margin: 4mm)\n#set pagebreak(weak: true)\n\n#set page(numbering: \"I/I\")\n\n= I First Roman section\n\n#pagebreak()\n= II Second Roman section\n\n#pagebreak()\n= III Last Roman section\n\n#pagebreak()\n#counter(page).update(1)\n#set page(numbering: \"1/1\")\n= 1 First Arabic section\n\n#pagebreak()\n= 2 Second Arabic section\n```",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 17,
      "score": 8.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1609
    },
    {
      "id": 12641,
      "post_number": 2,
      "username": "janekfleper",
      "name": "Janek Fleper",
      "created_at": "2025-05-16T22:34:05.648Z",
      "updated_at": "2025-05-16T22:34:05.648Z",
      "cooked": "<p>The total number of pages seems to use the final value of the page counter in the document. By default you would therefore share the total page number between the Roman-numbered pages and the Arabic-numbered pages.</p>\n<p>You can use a label at the end of the Roman-numbered pages as a reference point. The page counter at the label location will then give you the total number of pages.</p>\n<p>In the rule for the Arabic numbers you are using the format <code>\"1/2\"</code> which will always use two as total number of pages. I’m not sure whether that is intentional? In any case the “2” in the numbering was not related to the Roman number 2 for the total page count. This was simply caused by the two pages with Arabic numbers at the end of your document.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set page(width: 6cm, height: 3cm, footer-descent: 0pt, margin: 4mm)\n#set pagebreak(weak: true)\n\n#let roman-numbering(..n) = context {\n  numbering(\"I/I\", n.at(0), counter(page).at(&lt;last-roman-page&gt;).at(0))\n  \n}\n#set page(numbering: roman-numbering)\n\n= I First Roman section\n\n#pagebreak()\n= II Second Roman section\n\n#pagebreak()\n= III Last Roman section\n\n#metadata(\"last-roman-page\") &lt;last-roman-page&gt;\n\n#pagebreak()\n#counter(page).update(1)\n#set page(numbering: \"1/1\")\n= 1 First Arabic section\n\n#pagebreak()\n= 2 Second Arabic section\n</code></pre>",
      "raw": "The total number of pages seems to use the final value of the page counter in the document. By default you would therefore share the total page number between the Roman-numbered pages and the Arabic-numbered pages.\n\nYou can use a label at the end of the Roman-numbered pages as a reference point. The page counter at the label location will then give you the total number of pages.\n\nIn the rule for the Arabic numbers you are using the format `\"1/2\"` which will always use two as total number of pages. I'm not sure whether that is intentional? In any case the \"2\" in the numbering was not related to the Roman number 2 for the total page count. This was simply caused by the two pages with Arabic numbers at the end of your document.\n\n```\n#set page(width: 6cm, height: 3cm, footer-descent: 0pt, margin: 4mm)\n#set pagebreak(weak: true)\n\n#let roman-numbering(..n) = context {\n  numbering(\"I/I\", n.at(0), counter(page).at(<last-roman-page>).at(0))\n  \n}\n#set page(numbering: roman-numbering)\n\n= I First Roman section\n\n#pagebreak()\n= II Second Roman section\n\n#pagebreak()\n= III Last Roman section\n\n#metadata(\"last-roman-page\") <last-roman-page>\n\n#pagebreak()\n#counter(page).update(1)\n#set page(numbering: \"1/1\")\n= 1 First Arabic section\n\n#pagebreak()\n= 2 Second Arabic section\n```",
      "reply_to_post_number": null,
      "reply_count": 2,
      "quote_count": 0,
      "like_count": 3,
      "reads": 15,
      "score": 58.0,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 69
    },
    {
      "id": 12642,
      "post_number": 3,
      "username": "Rifling",
      "name": "",
      "created_at": "2025-05-16T22:48:53.363Z",
      "updated_at": "2025-05-16T22:48:53.363Z",
      "cooked": "<p>Thanks for the answer, I didn’t know about the “metadata” function, it seems very useful and powerful.</p>\n<p>This is exactly what I want to do, and yes the “1/2” format was not intentional.</p>",
      "raw": "Thanks for the answer, I didn't know about the “metadata” function, it seems very useful and powerful.\n\nThis is exactly what I want to do, and yes the “1/2” format was not intentional.",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 14,
      "score": 2.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1609
    },
    {
      "id": 12643,
      "post_number": 4,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-05-16T23:22:43.937Z",
      "updated_at": "2025-05-16T23:22:43.937Z",
      "cooked": "<p>Slightly shorter:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set page(width: 6cm, height: 3cm, footer-descent: 0pt, margin: 4mm)\n#set pagebreak(weak: true)\n\n#set page(numbering: (..n) =&gt; context {\n  numbering(\"I/I\", n.at(0), ..counter(page).at(&lt;last-roman-page&gt;))\n})\n\n= I First Roman section\n#pagebreak()\n\n= II Second Roman section\n#pagebreak()\n\n= III Last Roman section\n\n#metadata(\"last-roman-page\") &lt;last-roman-page&gt;\n#pagebreak()\n#counter(page).update(1)\n#set page(numbering: \"1/1\")\n\n= 1 First Arabic section\n#pagebreak()\n\n= 2 Second Arabic section\n</code></pre>\n<p>P.S. I’ve looked at the 2 posts and was confused why I see what I’ve written just a moment ago, but don’t see my post. I thought it got removed or something. But apparently it’s a completely new topic and the one I was thinking about is <a href=\"https://forum.typst.app/t/how-to-use-arabic-and-roman-page-numbers-in-one-document/4118/5\" class=\"inline-onebox\">How to use Arabic and Roman page numbers in one document? - #5 by Andrew</a>.</p>",
      "raw": "Slightly shorter:\n\n```typ\n#set page(width: 6cm, height: 3cm, footer-descent: 0pt, margin: 4mm)\n#set pagebreak(weak: true)\n\n#set page(numbering: (..n) => context {\n  numbering(\"I/I\", n.at(0), ..counter(page).at(<last-roman-page>))\n})\n\n= I First Roman section\n#pagebreak()\n\n= II Second Roman section\n#pagebreak()\n\n= III Last Roman section\n\n#metadata(\"last-roman-page\") <last-roman-page>\n#pagebreak()\n#counter(page).update(1)\n#set page(numbering: \"1/1\")\n\n= 1 First Arabic section\n#pagebreak()\n\n= 2 Second Arabic section\n```\n\nP.S. I've looked at the 2 posts and was confused why I see what I've written just a moment ago, but don't see my post. I thought it got removed or something. But apparently it's a completely new topic and the one I was thinking about is https://forum.typst.app/t/how-to-use-arabic-and-roman-page-numbers-in-one-document/4118/5?u=andrew.",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 14,
      "score": 17.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    }
  ],
  "scraped_at": "2025-06-10T09:47:44.646214"
}