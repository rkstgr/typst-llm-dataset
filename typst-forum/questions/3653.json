{
  "topic_metadata": {
    "id": 3653,
    "title": "Make bottom/top stroke invisible on block break?",
    "slug": "make-bottom-top-stroke-invisible-on-block-break",
    "posts_count": 5,
    "created_at": "2025-04-14T21:02:05.884Z",
    "last_posted_at": "2025-04-18T19:26:58.916Z",
    "views": 68,
    "like_count": 5,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "Eric",
    "tags": [
      "layout"
    ],
    "category_id": 5,
    "participant_count": 4,
    "word_count": 303
  },
  "posts": [
    {
      "id": 11085,
      "post_number": 1,
      "username": "Regodin",
      "name": "",
      "created_at": "2025-04-14T21:02:05.983Z",
      "updated_at": "2025-04-15T00:32:30.076Z",
      "cooked": "<p>Is there a way to have a the stroke of a breakable block change based on the breaking point? A bit like so:<br>\n<div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/f/f9536f905f9a5d23e1bea7bd3cc5d2d668ceb94a.png\" data-download-href=\"https://forum.typst.app/uploads/default/f9536f905f9a5d23e1bea7bd3cc5d2d668ceb94a\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/f/f9536f905f9a5d23e1bea7bd3cc5d2d668ceb94a_2_690x414.png\" alt=\"image\" data-base62-sha1=\"zzDEkzbwaWsx2lwOt0Z6ATQoVIu\" width=\"690\" height=\"414\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/f/f9536f905f9a5d23e1bea7bd3cc5d2d668ceb94a_2_690x414.png, https://forum.typst.app/uploads/default/original/2X/f/f9536f905f9a5d23e1bea7bd3cc5d2d668ceb94a.png 1.5x, https://forum.typst.app/uploads/default/original/2X/f/f9536f905f9a5d23e1bea7bd3cc5d2d668ceb94a.png 2x\" data-dominant-color=\"DCE6EF\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">877×527 131 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div><br>\nFor reference, I manually split the block and set the strokes here to show an example of what I meant.</p>",
      "raw": "Is there a way to have a the stroke of a breakable block change based on the breaking point? A bit like so:\n![image|690x414](upload://zzDEkzbwaWsx2lwOt0Z6ATQoVIu.png)\nFor reference, I manually split the block and set the strokes here to show an example of what I meant.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 21,
      "score": 69.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1161
    },
    {
      "id": 11088,
      "post_number": 2,
      "username": "Eric",
      "name": "Eric Biedert",
      "created_at": "2025-04-14T21:46:28.740Z",
      "updated_at": "2025-04-14T21:47:25.184Z",
      "cooked": "<p>There is no standard inbuilt way to configure strokes on block breaks, but you can work around it by only applying the stroke on the left and right side of the block, and placing the top and bottom strokes as separate elements. This of course has limitations, especially when using rounded corners, but it should work in simple cases:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let broken-block(..args) = layout(bounds =&gt; {\n  let stroke = stroke(args.at(\"stroke\", default: 0pt))\n  let width = measure(..bounds, block(..args)).width\n\n  // I'm using a block here instead of a line so that a\n  // possible `show line: set block(spacing: ..)` rule\n  // doesn't interfere with the spacing set to this block.\n  let line = block.with(\n    outset: (x: stroke.thickness / 2),\n    width: width,\n    stroke: stroke,\n  )\n\n  line(below: stroke.thickness / 2)\n  block(..args, stroke: (x: stroke))\n  line(above: stroke.thickness / 2)\n})\n\n// Use it just like a regular block.\n#broken-block(\n  fill: blue.lighten(80%),\n  stroke: 1pt,\n  inset: 1em,\n  lorem(35)\n)\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/d/db1771df2034d3d68b9a40602a2e038a006c1977.png\" alt=\"image\" data-base62-sha1=\"vgaNmZxlRQ6MsMV8naNrKwEUKJp\" width=\"324\" height=\"339\"></p>\n<hr>\n<p>Also, please try to keep questions in the <a class=\"hashtag-cooked\" href=\"/c/questions/5\" data-type=\"category\" data-slug=\"questions\" data-id=\"5\"><span class=\"hashtag-icon-placeholder\"><svg class=\"fa d-icon d-icon-square-full svg-icon svg-node\"><use href=\"#square-full\"></use></svg></span><span>Questions</span></a> category, so they are easier to find for other users!</p>",
      "raw": "There is no standard inbuilt way to configure strokes on block breaks, but you can work around it by only applying the stroke on the left and right side of the block, and placing the top and bottom strokes as separate elements. This of course has limitations, especially when using rounded corners, but it should work in simple cases:\n\n```typ\n#let broken-block(..args) = layout(bounds => {\n  let stroke = stroke(args.at(\"stroke\", default: 0pt))\n  let width = measure(..bounds, block(..args)).width\n\n  // I'm using a block here instead of a line so that a\n  // possible `show line: set block(spacing: ..)` rule\n  // doesn't interfere with the spacing set to this block.\n  let line = block.with(\n    outset: (x: stroke.thickness / 2),\n    width: width,\n    stroke: stroke,\n  )\n\n  line(below: stroke.thickness / 2)\n  block(..args, stroke: (x: stroke))\n  line(above: stroke.thickness / 2)\n})\n\n// Use it just like a regular block.\n#broken-block(\n  fill: blue.lighten(80%),\n  stroke: 1pt,\n  inset: 1em,\n  lorem(35)\n)\n```\n![image|433x453, 75%](upload://vgaNmZxlRQ6MsMV8naNrKwEUKJp.png)\n\n---\n\nAlso, please try to keep questions in the #questions category, so they are easier to find for other users!",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 2,
      "reads": 21,
      "score": 39.2,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 88
    },
    {
      "id": 11099,
      "post_number": 3,
      "username": "Regodin",
      "name": "",
      "created_at": "2025-04-15T02:36:28.648Z",
      "updated_at": "2025-04-15T02:36:28.648Z",
      "cooked": "<p>Thanks for the tip!</p>\n<p>And sorry about that, I’ll make sure to properly tag my post next time.</p>",
      "raw": "Thanks for the tip! \n\nAnd sorry about that, I'll make sure to properly tag my post next time.",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 17,
      "score": 3.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1161
    },
    {
      "id": 11186,
      "post_number": 4,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-16T20:16:57.575Z",
      "updated_at": "2025-04-16T20:17:51.587Z",
      "cooked": "<p>There are some hacks listed in</p>\n<aside class=\"onebox githubissue\" data-onebox-src=\"https://github.com/typst/typst/issues/735\">\n  <header class=\"source\">\n\n      <a href=\"https://github.com/typst/typst/issues/735\" target=\"_blank\" rel=\"noopener nofollow ugc\">github.com/typst/typst</a>\n  </header>\n\n  <article class=\"onebox-body\">\n    <div class=\"github-row\">\n  <div class=\"github-icon-container\" title=\"Issue\" data-github-private-repo=\"false\">\n\t  <svg width=\"60\" height=\"60\" class=\"github-icon\" viewBox=\"0 0 14 16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z\"></path></svg>\n  </div>\n\n  <div class=\"github-info-container\">\n    <h4>\n      <a href=\"https://github.com/typst/typst/issues/735\" target=\"_blank\" rel=\"noopener nofollow ugc\">Allow adding content / configuring breakpoints of broken blocks</a>\n    </h4>\n\n    <div class=\"github-info\">\n      <div class=\"date\">\n        opened <span class=\"discourse-local-date\" data-format=\"ll\" data-date=\"2023-04-11\" data-time=\"17:06:27\" data-timezone=\"UTC\">05:06PM - 11 Apr 23 UTC</span>\n      </div>\n\n\n      <div class=\"user\">\n        <a href=\"https://github.com/jeyj0\" target=\"_blank\" rel=\"noopener nofollow ugc\">\n          <img alt=\"jeyj0\" src=\"https://forum.typst.app/uploads/default/original/2X/9/97c2bde787dfeb7d59a2bae42246ed48f7523f64.jpeg\" class=\"onebox-avatar-inline\" width=\"20\" height=\"20\" data-dominant-color=\"C0B3AE\">\n          jeyj0\n        </a>\n      </div>\n    </div>\n\n    <div class=\"labels\">\n        <span style=\"display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;\">\n          feature request\n        </span>\n        <span style=\"display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;\">\n          layout\n        </span>\n    </div>\n  </div>\n</div>\n\n  <div class=\"github-row\">\n    <p class=\"github-body-container\">When a block breaks due to a column or pagebreak, it's currently styled like two<span class=\"show-more-container\"><a href=\"\" rel=\"noopener\" class=\"show-more\">…</a></span><span class=\"excerpt hidden\"> individual blocks.\n\nIt'd be great to be able to add content to the points of the block where the break was inserted, so it can be styled differently.\n\nHere's a real-life example that illustrates the idea (not generated with Typst):\n\n![image](https://user-images.githubusercontent.com/12881718/231237037-c48bcc28-bc41-4d10-bd5f-5c35d3b316dd.png)\n\nThe block has a border at the top and bottom, but where it's broken across columns the border changes to a dashed style.\n\nBut a solution should ideally not (just) allow changing borders, but doing any number of complex/arbitrary things, like inserting graphics for example (example: insert an image at those places that makes it look like the block was ripped apart).</span></p>\n  </div>\n\n  </article>\n\n  <div class=\"onebox-metadata\">\n    \n    \n  </div>\n\n  <div style=\"clear: both\"></div>\n</aside>\n",
      "raw": "There are some hacks listed in\n\nhttps://github.com/typst/typst/issues/735",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 15,
      "score": 18.0,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 11298,
      "post_number": 5,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2025-04-18T19:26:58.916Z",
      "updated_at": "2025-04-18T19:26:58.916Z",
      "cooked": "<p>Hi <a class=\"mention\" href=\"/u/regodin\">@Regodin</a>, don’t forget to tick <img src=\"https://forum.typst.app/images/emoji/apple/ballot_box_with_check.png?v=12\" title=\":ballot_box_with_check:\" class=\"emoji\" alt=\":ballot_box_with_check:\" loading=\"lazy\" width=\"20\" height=\"20\"> one of the responses if you got a satisfying answer. The answer you choose should usually be the response that you found most correct/helpful/comprehensive for the question you asked. Thanks!</p>",
      "raw": "Hi @Regodin, don’t forget to tick :ballot_box_with_check: one of the responses if you got a satisfying answer. The answer you choose should usually be the response that you found most correct/helpful/comprehensive for the question you asked. Thanks!",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 15,
      "score": 18.0,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 32
    }
  ],
  "scraped_at": "2025-06-10T09:49:11.608319"
}