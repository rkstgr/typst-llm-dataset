{
  "topic_metadata": {
    "id": 2437,
    "title": "How do I fix the warning “counter.display without context is deprecated",
    "slug": "how-do-i-fix-the-warning-counter-display-without-context-is-deprecated",
    "posts_count": 7,
    "created_at": "2025-01-16T09:29:55.692Z",
    "last_posted_at": "2025-01-16T10:23:05.664Z",
    "views": 163,
    "like_count": 2,
    "reply_count": 4,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "quachpas",
    "tags": [
      "counter",
      "context"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 375
  },
  "posts": [
    {
      "id": 7570,
      "post_number": 1,
      "username": "This_isYE",
      "name": "This isYE",
      "created_at": "2025-01-16T09:29:55.882Z",
      "updated_at": "2025-01-16T10:08:01.216Z",
      "cooked": "<p>New to typst,</p>\n<p>when defining the appendix function:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">// Define the appendix function\n#let appendix = it =&gt; {\n  appendix_counter.step(); // Increment the counter\n  heading(numbering:none , supplement: \"Appendix\")[\n    A#lower[ppendix] \n    #appendix_counter.display(\"A.\")  #swiggly line here\n    #h(5pt)\n    #it\n  ]\n}\n</code></pre>\n<p>I keep getting  this error:</p>\n<pre><code class=\"lang-auto\">caused this warning:\n`counter.display `without context is deprecated\n\nUse it in a `context` expression instead\n</code></pre>\n<p>What should I do?</p>",
      "raw": "New to typst,\n\nwhen defining the appendix function:\n```typ \n// Define the appendix function\n#let appendix = it => {\n  appendix_counter.step(); // Increment the counter\n  heading(numbering:none , supplement: \"Appendix\")[\n    A#lower[ppendix] \n    #appendix_counter.display(\"A.\")  #swiggly line here\n    #h(5pt)\n    #it\n  ]\n}\n```\n\nI keep getting  this error: \n```\ncaused this warning:\n`counter.display `without context is deprecated\n\nUse it in a `context` expression instead\n```\nWhat should I do?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 23,
      "score": 719.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1060
    },
    {
      "id": 7572,
      "post_number": 2,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2025-01-16T09:40:38.482Z",
      "updated_at": "2025-01-16T09:40:38.482Z",
      "cooked": "<p>Hello <a class=\"mention\" href=\"/u/this_isye\">@This_isYE</a>, please update your question your topic! I think something like “How do I fix the warning “<code>counter.display </code>without context is deprecated””? should do.</p>\n<p>The fix is simple, you use a <a href=\"https://typst.app/docs/reference/context/\"><code>context</code></a> expression!</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#context appendix_counter.display(\"A.\")\n</code></pre>\n<p>P.S.: don’t hesitate to provide a <strong>reproducible</strong> example, for example, your code is missing the variable appendix_counter. Removing any unnecessary parts of your code to produce a <strong>minimal</strong> example also helps.</p>",
      "raw": "Hello @This_isYE, please update your question your topic! I think something like \"How do I fix the warning \"`counter.display `without context is deprecated\"\"? should do.\n\nThe fix is simple, you use a [`context`](https://typst.app/docs/reference/context/) expression!\n\n```typ\n#context appendix_counter.display(\"A.\")\n```\n\nP.S.: don't hesitate to provide a **reproducible** example, for example, your code is missing the variable appendix_counter. Removing any unnecessary parts of your code to produce a **minimal** example also helps.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 23,
      "score": 24.6,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 7573,
      "post_number": 3,
      "username": "This_isYE",
      "name": "This isYE",
      "created_at": "2025-01-16T09:46:14.235Z",
      "updated_at": "2025-01-16T09:46:14.235Z",
      "cooked": "<p>Sorry for the nuisance, first time here,</p>\n<p>How do I reproduce my issue here(how to run typst in question or reply ) ?</p>",
      "raw": "Sorry for the nuisance, first time here,\n\nHow do I reproduce my issue here(how to run typst in question or reply ) ?",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 23,
      "score": 9.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1060
    },
    {
      "id": 7575,
      "post_number": 4,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2025-01-16T09:49:52.652Z",
      "updated_at": "2025-01-16T09:49:52.652Z",
      "cooked": "<p>It is absolutely not a nuisance, sorry if I sounded harsh. I meant to give you advice on how to best receive an answer promptly!</p>\n<p>You cannot run Typst on the forum, what I meant is that you should provide code that can run standalone. Basically, copy paste what you wrote in an editor and see if it compiles. If it does not, remove unnecessary elements that are not relevant to the question.</p>\n<p>Don’t hesitate to ask more questions if you need to!</p>",
      "raw": "It is absolutely not a nuisance, sorry if I sounded harsh. I meant to give you advice on how to best receive an answer promptly! \n\nYou cannot run Typst on the forum, what I meant is that you should provide code that can run standalone. Basically, copy paste what you wrote in an editor and see if it compiles. If it does not, remove unnecessary elements that are not relevant to the question.\n\nDon't hesitate to ask more questions if you need to!",
      "reply_to_post_number": 3,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 2,
      "reads": 22,
      "score": 74.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 7576,
      "post_number": 5,
      "username": "This_isYE",
      "name": "This isYE",
      "created_at": "2025-01-16T09:55:31.122Z",
      "updated_at": "2025-01-16T09:55:48.764Z",
      "cooked": "<p>okey, so code is this(with your fix):</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">//defining rules and whatnot\n....\n// Define the appendix function\n#let appendix = it =&gt; {\n  appendix_counter.step(); // Increment the counter\n  heading(numbering:none , supplement: \"Appendix\")[\n    A#lower[ppendix] \n    #context appendix_counter.display(\"A.\") \n    #h(5pt)\n    #it\n  ]\n}\n\n//body goes here\n\n//example of appendix\n#appendix[Global Result]\n        #line(length: 100%, stroke: 0.7pt)\n</code></pre>\n<p>Result (this is an image, i still do not know how to make code run here<br>\n<div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/9/9940cec11282b5d4ecd6f41386c6c63b07600aec.png\" data-download-href=\"https://forum.typst.app/uploads/default/9940cec11282b5d4ecd6f41386c6c63b07600aec\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/9/9940cec11282b5d4ecd6f41386c6c63b07600aec_2_690x61.png\" alt=\"image\" data-base62-sha1=\"lRJTXX4hpMweA3tRAnOA0CqnG4A\" width=\"690\" height=\"61\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/9/9940cec11282b5d4ecd6f41386c6c63b07600aec_2_690x61.png, https://forum.typst.app/uploads/default/original/2X/9/9940cec11282b5d4ecd6f41386c6c63b07600aec.png 1.5x, https://forum.typst.app/uploads/default/original/2X/9/9940cec11282b5d4ecd6f41386c6c63b07600aec.png 2x\" data-dominant-color=\"F9F9F9\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">853×76 3.94 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>when calling <a class=\"hashtag-cooked\" href=\"/tag/outline\" data-type=\"tag\" data-slug=\"outline\" data-id=\"83\"><span class=\"hashtag-icon-placeholder\"><svg class=\"fa d-icon d-icon-square-full svg-icon svg-node\"><use href=\"#square-full\"></use></svg></span><span>outline</span></a> it shows like this:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\"> #outline()\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/9/926ce68819d5c917f42e0053953a4e9d562fb56c.png\" data-download-href=\"https://forum.typst.app/uploads/default/926ce68819d5c917f42e0053953a4e9d562fb56c\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/9/926ce68819d5c917f42e0053953a4e9d562fb56c_2_690x44.png\" alt=\"image\" data-base62-sha1=\"kTl1NkhhArQpcFeYL0ojXoQTgyE\" width=\"690\" height=\"44\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/9/926ce68819d5c917f42e0053953a4e9d562fb56c_2_690x44.png, https://forum.typst.app/uploads/default/original/2X/9/926ce68819d5c917f42e0053953a4e9d562fb56c.png 1.5x, https://forum.typst.app/uploads/default/original/2X/9/926ce68819d5c917f42e0053953a4e9d562fb56c.png 2x\" data-dominant-color=\"F7F7F7\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">696×45 5.94 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>is there a way to get the A in appendix A to show also in the outline</p>",
      "raw": "okey, so code is this(with your fix):\n\n\n```typ\n//defining rules and whatnot\n....\n// Define the appendix function\n#let appendix = it => {\n  appendix_counter.step(); // Increment the counter\n  heading(numbering:none , supplement: \"Appendix\")[\n    A#lower[ppendix] \n    #context appendix_counter.display(\"A.\") \n    #h(5pt)\n    #it\n  ]\n}\n\n//body goes here\n\n//example of appendix\n#appendix[Global Result]\n        #line(length: 100%, stroke: 0.7pt)\n```\nResult (this is an image, i still do not know how to make code run here\n![image|690x61](upload://lRJTXX4hpMweA3tRAnOA0CqnG4A.png)\n\nwhen calling #outline it shows like this:\n```typ\n #outline()\n```\n![image|690x44, 100%](upload://kTl1NkhhArQpcFeYL0ojXoQTgyE.png)\n\nis there a way to get the A in appendix A to show also in the outline",
      "reply_to_post_number": 4,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 21,
      "score": 19.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1060
    },
    {
      "id": 7577,
      "post_number": 6,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2025-01-16T10:05:39.884Z",
      "updated_at": "2025-01-16T10:05:50.581Z",
      "cooked": "<p>Unfortunately, I cannot reproduce your issue with the outline, it shows up on my side.</p>",
      "raw": "Unfortunately, I cannot reproduce your issue with the outline, it shows up on my side.",
      "reply_to_post_number": 5,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 16,
      "score": 8.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 7578,
      "post_number": 7,
      "username": "This_isYE",
      "name": "This isYE",
      "created_at": "2025-01-16T10:23:05.664Z",
      "updated_at": "2025-01-16T10:23:05.664Z",
      "cooked": "<p>can you provide code?</p>",
      "raw": "can you provide code?",
      "reply_to_post_number": 6,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 15,
      "score": 3.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1060
    }
  ],
  "scraped_at": "2025-06-10T09:52:46.593183"
}