{
  "topic_metadata": {
    "id": 3727,
    "title": "How to set a hanging indent for footnotes?",
    "slug": "how-to-set-a-hanging-indent-for-footnotes",
    "posts_count": 5,
    "created_at": "2025-04-19T13:20:43.963Z",
    "last_posted_at": "2025-04-19T16:17:03.566Z",
    "views": 57,
    "like_count": 2,
    "reply_count": 2,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 4,
    "accepted_answer_username": "Eric",
    "tags": [
      "scripting",
      "layout"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 515
  },
  "posts": [
    {
      "id": 11327,
      "post_number": 1,
      "username": "Mark_Hilton",
      "name": "Mark Hilton",
      "created_at": "2025-04-19T13:20:44.335Z",
      "updated_at": "2025-04-19T13:20:44.335Z",
      "cooked": "<p>I have found how to insert a footnote into a text, but can someone help me with the code needed to set footnotes with the number on the left margin and a hanging indent.</p>\n<p>I insert footnotes like this:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">[500 g], [Polish _kielbasa_ sausage#footnote[There are many types of _kielbasa_ sausage…], cut into 2 cm chunks],\n</code></pre>\n<p>which, on rendering looks like this:</p>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/a/a15e7342383eb9470fef8cb1fc50e8a4f061388e.png\" data-download-href=\"https://forum.typst.app/uploads/default/a15e7342383eb9470fef8cb1fc50e8a4f061388e\" title=\"SCR-20250419-mqrt\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/a/a15e7342383eb9470fef8cb1fc50e8a4f061388e_2_689x42.png\" alt=\"SCR-20250419-mqrt\" data-base62-sha1=\"n1xelB4l5vykso01j9a41CJ0jca\" width=\"689\" height=\"42\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/a/a15e7342383eb9470fef8cb1fc50e8a4f061388e_2_689x42.png, https://forum.typst.app/uploads/default/optimized/2X/a/a15e7342383eb9470fef8cb1fc50e8a4f061388e_2_1033x63.png 1.5x, https://forum.typst.app/uploads/default/original/2X/a/a15e7342383eb9470fef8cb1fc50e8a4f061388e.png 2x\" data-dominant-color=\"F0F0F0\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">SCR-20250419-mqrt</span><span class=\"informations\">1268×78 31 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>When what I’d really like is (though retaining the superscripted number would be OK):</p>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/2/2be0b687af034ed252ae6f45487f9f82e4997188.png\" data-download-href=\"https://forum.typst.app/uploads/default/2be0b687af034ed252ae6f45487f9f82e4997188\" title=\"SCR-20250419-mrws\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/2/2be0b687af034ed252ae6f45487f9f82e4997188_2_690x41.png\" alt=\"SCR-20250419-mrws\" data-base62-sha1=\"6g9Yy9RnCv5hcir153uubv5xMrm\" width=\"690\" height=\"41\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/2/2be0b687af034ed252ae6f45487f9f82e4997188_2_690x41.png, https://forum.typst.app/uploads/default/optimized/2X/2/2be0b687af034ed252ae6f45487f9f82e4997188_2_1035x61.png 1.5x, https://forum.typst.app/uploads/default/optimized/2X/2/2be0b687af034ed252ae6f45487f9f82e4997188_2_1380x82.png 2x\" data-dominant-color=\"E1E1E1\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">SCR-20250419-mrws</span><span class=\"informations\">1400×84 70.2 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>How do I achieve this, please?</p>",
      "raw": "I have found how to insert a footnote into a text, but can someone help me with the code needed to set footnotes with the number on the left margin and a hanging indent.\n\nI insert footnotes like this:\n\n```typ\n[500 g], [Polish _kielbasa_ sausage#footnote[There are many types of _kielbasa_ sausage…], cut into 2 cm chunks],\n```\n\nwhich, on rendering looks like this:\n\n![SCR-20250419-mqrt|689x42](upload://n1xelB4l5vykso01j9a41CJ0jca.png)\n\nWhen what I'd really like is (though retaining the superscripted number would be OK):\n\n![SCR-20250419-mrws|690x41](upload://6g9Yy9RnCv5hcir153uubv5xMrm.png)\n\nHow do I achieve this, please?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 19,
      "score": 98.8,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 1276
    },
    {
      "id": 11329,
      "post_number": 2,
      "username": "aarnent",
      "name": "",
      "created_at": "2025-04-19T13:49:15.198Z",
      "updated_at": "2025-04-19T13:49:15.198Z",
      "cooked": "<p>I’m actually a bit surprised typst doesn’t offer this functionality directly. I think the best way to do what you are trying to achieve is to convert the footnote entry into a numbered list:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#show footnote.entry: it =&gt; {\n  let loc = it.note.location()\n  let val = counter(footnote).at(loc).first()\n  enum(\n    numbering: \"1\",\n    body-indent: 1em,\n    enum.item(val)[#it.note.body]\n  )\n}\n</code></pre>\n<p>The downside is that it’s affected by show/set rules on <code>enum</code></p>",
      "raw": "I'm actually a bit surprised typst doesn't offer this functionality directly. I think the best way to do what you are trying to achieve is to convert the footnote entry into a numbered list:\n```typst\n#show footnote.entry: it => {\n  let loc = it.note.location()\n  let val = counter(footnote).at(loc).first()\n  enum(\n    numbering: \"1\",\n    body-indent: 1em,\n    enum.item(val)[#it.note.body]\n  )\n}\n```\n\nThe downside is that it's affected by show/set rules on `enum`",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 17,
      "score": 8.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 501
    },
    {
      "id": 11331,
      "post_number": 3,
      "username": "Mark_Hilton",
      "name": "Mark Hilton",
      "created_at": "2025-04-19T14:01:17.775Z",
      "updated_at": "2025-04-19T14:01:17.775Z",
      "cooked": "<p>Thanks a lot. That solves it for this text, which is non-academic; but I think I understand the problem with show/set rules on enum for future texts. I’ll wait to see if anyone else comes up with a solution that doesn’t involve enum; if I hear no more I’ll mark that as the solution.</p>\n<p><img src=\"https://forum.typst.app/images/emoji/apple/slight_smile.png?v=12\" title=\":slight_smile:\" class=\"emoji only-emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"><br>\nMark</p>",
      "raw": "Thanks a lot. That solves it for this text, which is non-academic; but I think I understand the problem with show/set rules on enum for future texts. I'll wait to see if anyone else comes up with a solution that doesn't involve enum; if I hear no more I'll mark that as the solution.\n\n:slight_smile: \n Mark",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 16,
      "score": 8.2,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 1276
    },
    {
      "id": 11340,
      "post_number": 4,
      "username": "Eric",
      "name": "Eric Biedert",
      "created_at": "2025-04-19T15:11:27.040Z",
      "updated_at": "2025-04-19T15:11:27.040Z",
      "cooked": "<p>There are several options to do something like that: You can use a grid as in</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show footnote.entry: it =&gt; {\n  let nums = counter(footnote).at(it.note.location())\n  let number = numbering(it.note.numbering, ..nums)\n  let link = link.with(it.note.location())\n  grid(columns: (auto, 1fr), gap: 1em, link(number), it.note.body)\n}\n</code></pre>\n<p>or measure the width of the number and use it as the hanging ident (which is how it’s done for headings and outline entries)</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show footnote.entry: it =&gt; context {\n  let gap = 1em\n  let nums = counter(footnote).at(it.note.location())\n  let number = numbering(it.note.numbering, ..nums)\n  let width = measure(number).width + gap\n  let link = link.with(it.note.location())\n  par(hanging-indent: width, link(number) + h(gap) + it.note.body)\n}\n</code></pre>\n<p>Depending on how you want it to look when there are multiple footnotes with different number widths, you can also use a grid with a fixed size for the first column, so that the footnotes are aligned with each other.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show footnote.entry: it =&gt; {\n  let gap = 1em\n  let nums = counter(footnote).at(it.note.location())\n  let number = numbering(it.note.numbering, ..nums)\n  let link = link.with(it.note.location())\n  grid(columns: (2em, 1fr), link(number), it.note.body)\n}\n</code></pre>\n<p>Note that due to <a href=\"https://github.com/typst/typst/issues/2430\" rel=\"noopener nofollow ugc\">an issue</a>, links to footnotes currently (as of v0.13.1) don’t work properly when using a show rule on <code>footnote.entry</code>.</p>",
      "raw": "There are several options to do something like that: You can use a grid as in\n```typ\n#show footnote.entry: it => {\n  let nums = counter(footnote).at(it.note.location())\n  let number = numbering(it.note.numbering, ..nums)\n  let link = link.with(it.note.location())\n  grid(columns: (auto, 1fr), gap: 1em, link(number), it.note.body)\n}\n```\nor measure the width of the number and use it as the hanging ident (which is how it's done for headings and outline entries)\n```typ\n#show footnote.entry: it => context {\n  let gap = 1em\n  let nums = counter(footnote).at(it.note.location())\n  let number = numbering(it.note.numbering, ..nums)\n  let width = measure(number).width + gap\n  let link = link.with(it.note.location())\n  par(hanging-indent: width, link(number) + h(gap) + it.note.body)\n}\n```\nDepending on how you want it to look when there are multiple footnotes with different number widths, you can also use a grid with a fixed size for the first column, so that the footnotes are aligned with each other.\n```typ\n#show footnote.entry: it => {\n  let gap = 1em\n  let nums = counter(footnote).at(it.note.location())\n  let number = numbering(it.note.numbering, ..nums)\n  let link = link.with(it.note.location())\n  grid(columns: (2em, 1fr), link(number), it.note.body)\n}\n```\nNote that due to [an issue](https://github.com/typst/typst/issues/2430), links to footnotes currently (as of v0.13.1) don't work properly when using a show rule on `footnote.entry`.",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 2,
      "reads": 17,
      "score": 38.4,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 88
    },
    {
      "id": 11343,
      "post_number": 5,
      "username": "Mark_Hilton",
      "name": "Mark Hilton",
      "created_at": "2025-04-19T16:17:03.566Z",
      "updated_at": "2025-04-19T16:17:03.566Z",
      "cooked": "<p>In spite of the issue you mention, the third of your suggested solutions will suit me fine for the foreseeable future, so thank you very much. I will mark my question as solved by you.</p>\n<p><img src=\"https://forum.typst.app/images/emoji/apple/slight_smile.png?v=12\" title=\":slight_smile:\" class=\"emoji only-emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"><br>\nMark</p>",
      "raw": "In spite of the issue you mention, the third of your suggested solutions will suit me fine for the foreseeable future, so thank you very much. I will mark my question as solved by you.\n\n:slight_smile: \n Mark",
      "reply_to_post_number": 4,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 16,
      "score": 3.2,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 1276
    }
  ],
  "scraped_at": "2025-06-10T09:48:59.199088"
}