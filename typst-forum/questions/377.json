{
  "topic_metadata": {
    "id": 377,
    "title": "How can the appearance of overline or macron be specified in detail?",
    "slug": "how-can-the-appearance-of-overline-or-macron-be-specified-in-detail",
    "posts_count": 8,
    "created_at": "2024-09-16T19:12:00.284Z",
    "last_posted_at": "2024-09-17T10:11:22.570Z",
    "views": 866,
    "like_count": 1,
    "reply_count": 4,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 4,
    "accepted_answer_username": "xkevio",
    "tags": [
      "math"
    ],
    "category_id": 5,
    "participant_count": 4,
    "word_count": 583
  },
  "posts": [
    {
      "id": 1429,
      "post_number": 1,
      "username": "Chi_Zhang",
      "name": "Chi Zhang",
      "created_at": "2024-09-16T19:12:00.372Z",
      "updated_at": "2024-09-19T17:45:38.855Z",
      "cooked": "<p>In math, the overline(U) is frequently used to denote closure, but the Typst-defined function ‘overline’ doesn’t have a good appearance for some fonts. Is there a way to specify the height, position, length, and thickness of that ‘bar’? One of my attempts is the following:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show math.equation: set text(font: \"STIX Two Math\", size: 12pt)\n#let overU = $ limits(U)^(#line(start: (1pt,0pt),end: (8pt,0pt), stroke: 0.7pt) #h(0.6pt) \\ #v(-6.3pt) ) $ \n</code></pre>\n<p>However, it seems to have some problems when adding a subscript, like:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">$ overU_(i) $\n</code></pre>\n<p>Is there a way to fix this?</p>",
      "raw": "In math, the overline(U) is frequently used to denote closure, but the Typst-defined function 'overline' doesn't have a good appearance for some fonts. Is there a way to specify the height, position, length, and thickness of that 'bar'? One of my attempts is the following:\n\n```typ\n#show math.equation: set text(font: \"STIX Two Math\", size: 12pt)\n#let overU = $ limits(U)^(#line(start: (1pt,0pt),end: (8pt,0pt), stroke: 0.7pt) #h(0.6pt) \\ #v(-6.3pt) ) $ \n```\n\nHowever, it seems to have some problems when adding a subscript, like:\n\n```typ\n$ overU_(i) $\n```\n\nIs there a way to fix this?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 70,
      "score": 4409.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 310
    },
    {
      "id": 1434,
      "post_number": 2,
      "username": "xkevio",
      "name": "Kevio",
      "created_at": "2024-09-16T20:03:22.870Z",
      "updated_at": "2024-09-16T20:06:43.131Z",
      "cooked": "<p>Just to be clear as to the question title and as you said, Typst does have <code>overline()</code> and <code>macron()</code> in math mode. Font issues usually stem from non-proper math fonts, though sometimes they can be the fault of Typst.</p>\n<p>It would be good to know what fonts you had issues with or what those were specifically. There might have also been some bug fixes regarding accent placement that will arrive in 0.12. One alternative seems to be: <code>$accent(U, \\u{0305})$</code> which is called <code>dash</code> on main.</p>",
      "raw": "Just to be clear as to the question title and as you said, Typst does have `overline()` and `macron()` in math mode. Font issues usually stem from non-proper math fonts, though sometimes they can be the fault of Typst.\n\nIt would be good to know what fonts you had issues with or what those were specifically. There might have also been some bug fixes regarding accent placement that will arrive in 0.12. One alternative seems to be: `$accent(U, \\u{0305})$` which is called `dash` on main.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 70,
      "score": 34.0,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 21
    },
    {
      "id": 1436,
      "post_number": 3,
      "username": "Chi_Zhang",
      "name": "Chi Zhang",
      "created_at": "2024-09-16T20:16:32.775Z",
      "updated_at": "2024-09-16T20:16:32.775Z",
      "cooked": "<p>Thank you for the reply. I used the font ‘STIX Two Math’ with a size of 12pt (as indicated in the first line of the code). I also tried this option, but it seemed too short from my perspective. I would like to have more control over the ‘bar,’ especially since I also need to handle complex conjugates sometimes.</p>",
      "raw": "Thank you for the reply. I used the font 'STIX Two Math' with a size of 12pt (as indicated in the first line of the code). I also tried this option, but it seemed too short from my perspective. I would like to have more control over the 'bar,' especially since I also need to handle complex conjugates sometimes.",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 67,
      "score": 48.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 310
    },
    {
      "id": 1440,
      "post_number": 4,
      "username": "xkevio",
      "name": "Kevio",
      "created_at": "2024-09-16T20:43:40.972Z",
      "updated_at": "2024-09-16T20:43:53.699Z",
      "cooked": "<p>Hmm, I see. I have modified your attempt to make it a little less cluttered:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show math.overline: it =&gt; $limits(it.body)^#box(baseline: 2pt, line(length: 1em, stroke: 0.7pt))$\n</code></pre>\n<p>There, you can play around with <code>baseline</code> to move it closer to the body, though I don’t see what’s wrong with the subscript.</p>",
      "raw": "Hmm, I see. I have modified your attempt to make it a little less cluttered:\n```typ\n#show math.overline: it => $limits(it.body)^#box(baseline: 2pt, line(length: 1em, stroke: 0.7pt))$\n```\n\nThere, you can play around with `baseline` to move it closer to the body, though I don't see what's wrong with the subscript.",
      "reply_to_post_number": 3,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 64,
      "score": 67.8,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 21
    },
    {
      "id": 1494,
      "post_number": 5,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2024-09-17T07:08:10.269Z",
      "updated_at": "2024-09-17T07:18:03.075Z",
      "cooked": "<p>Would you be able to show us what your overline supscript looks like? On my side I cannot see any issues. See below<br>\n<img src=\"https://forum.typst.app/uploads/default/original/1X/4d4793c6267b8e1faaaebc5451106869c043ee46.png\" alt=\"image\" data-base62-sha1=\"b1E7mvzzZDXkYlsDrhwbNtzeRn0\" width=\"401\" height=\"147\"></p>\n<details>\n<summary>\nCode</summary>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#show math.equation: set text(font: \"STIX Two Math\", size: 12pt)\n#let overU = $ limits(U)^(#line(start: (1pt,0pt),end: (8pt,0pt), stroke: 0.7pt) #h(0.6pt) \\ #v(-6.3pt) ) $\n#set page(width: auto, height: auto)\n\n$\n  \"overline(\\\"very long text\\\")\"&amp; : overline(\"very long text\")\\\n  \"overline(x)\"&amp;: overline(x)\\\n  \"overU\"&amp;:overU\\\n  \"macron(x)\"&amp;: macron(x)\\\n$\n</code></pre>\n</details>",
      "raw": "Would you be able to show us what your overline supscript looks like? On my side I cannot see any issues. See below\n![image|401x147](upload://b1E7mvzzZDXkYlsDrhwbNtzeRn0.png)\n\n\n[details=\"Code\"]\n```typst\n#show math.equation: set text(font: \"STIX Two Math\", size: 12pt)\n#let overU = $ limits(U)^(#line(start: (1pt,0pt),end: (8pt,0pt), stroke: 0.7pt) #h(0.6pt) \\ #v(-6.3pt) ) $\n#set page(width: auto, height: auto)\n\n$\n  \"overline(\\\"very long text\\\")\"& : overline(\"very long text\")\\\n  \"overline(x)\"&: overline(x)\\\n  \"overU\"&:overU\\\n  \"macron(x)\"&: macron(x)\\\n$\n```\n[/details]",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 54,
      "score": 40.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 1527,
      "post_number": 6,
      "username": "Chi_Zhang",
      "name": "Chi Zhang",
      "created_at": "2024-09-17T09:30:40.554Z",
      "updated_at": "2024-09-17T09:30:40.554Z",
      "cooked": "<p>Thanks for your reply, I think <a class=\"mention\" href=\"/u/xkevio\">@xkevio</a> provides an almost perfect solution.</p>\n<p>My complaint is the overline(U) or macron(U) is either too long or too short, and my previous attempt added a small spacing before the subscript:<br>\n<div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/1X/915155b63697d31d2f566350514bc64d768261d0.png\" data-download-href=\"https://forum.typst.app/uploads/default/915155b63697d31d2f566350514bc64d768261d0\" title=\"Screenshot 2024-09-17 at 11.28.51\"><img src=\"https://forum.typst.app/uploads/default/optimized/1X/915155b63697d31d2f566350514bc64d768261d0_2_411x375.png\" alt=\"Screenshot 2024-09-17 at 11.28.51\" data-base62-sha1=\"kJxuwbPW9FCHXX4Vb49bmS3tiZW\" width=\"411\" height=\"375\" srcset=\"https://forum.typst.app/uploads/default/optimized/1X/915155b63697d31d2f566350514bc64d768261d0_2_411x375.png, https://forum.typst.app/uploads/default/optimized/1X/915155b63697d31d2f566350514bc64d768261d0_2_616x562.png 1.5x, https://forum.typst.app/uploads/default/optimized/1X/915155b63697d31d2f566350514bc64d768261d0_2_822x750.png 2x\" data-dominant-color=\"F9F9F9\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">Screenshot 2024-09-17 at 11.28.51</span><span class=\"informations\">1000×912 109 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p><a class=\"mention\" href=\"/u/xkevio\">@xkevio</a> 's solution solves this problem. However, it introduces a new problem when I use the entity as a subscript.<br>\nwhere zb is defined as <a class=\"mention\" href=\"/u/xkevio\">@xkevio</a> suggested</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let zb = $limits(z)^(#h(0.7pt)#box(height: -2.1pt, line(length: 0.55em, stroke: 0.7pt)))$\n</code></pre>\n<p>For the moment, I will go with <a class=\"mention\" href=\"/u/xkevio\">@xkevio</a>’s solution, and simply define a new overline where I try to use it in the subscript.</p>",
      "raw": "Thanks for your reply, I think @xkevio provides an almost perfect solution.\n\nMy complaint is the overline(U) or macron(U) is either too long or too short, and my previous attempt added a small spacing before the subscript:\n![Screenshot 2024-09-17 at 11.28.51|548x500, 75%](upload://kJxuwbPW9FCHXX4Vb49bmS3tiZW.png)\n\n\n@xkevio 's solution solves this problem. However, it introduces a new problem when I use the entity as a subscript.\nwhere zb is defined as @xkevio suggested\n```typ\n#let zb = $limits(z)^(#h(0.7pt)#box(height: -2.1pt, line(length: 0.55em, stroke: 0.7pt)))$\n```\nFor the moment, I will go with @xkevio's solution, and simply define a new overline where I try to use it in the subscript.",
      "reply_to_post_number": 5,
      "reply_count": 2,
      "quote_count": 0,
      "like_count": 0,
      "reads": 49,
      "score": 54.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 310
    },
    {
      "id": 1528,
      "post_number": 7,
      "username": "reknih",
      "name": "Martin Haug",
      "created_at": "2024-09-17T09:35:55.327Z",
      "updated_at": "2024-09-17T09:35:55.327Z",
      "cooked": "<p>I’m glad you found <a class=\"mention\" href=\"/u/xkevio\">@xkevio</a>‘s post helpful!</p>\n<p>Can you mark it as the solution using the <img src=\"https://forum.typst.app/images/emoji/apple/ballot_box_with_check.png?v=12\" title=\":ballot_box_with_check:\" class=\"emoji\" alt=\":ballot_box_with_check:\" loading=\"lazy\" width=\"20\" height=\"20\"> button to help other users with the same problem?</p>",
      "raw": "I’m glad you found @xkevio‘s post helpful!\n\nCan you mark it as the solution using the ☑️ button to help other users with the same problem?",
      "reply_to_post_number": 6,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 45,
      "score": 24.0,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 1
    },
    {
      "id": 1534,
      "post_number": 8,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2024-09-17T10:11:22.570Z",
      "updated_at": "2024-09-17T10:11:22.570Z",
      "cooked": "<p>Perhaps, writing</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let zb = $limits(z)^(#h(0.7pt)#box(height: -0.15em, line(length: 0.55em, stroke: 0.7pt)))$\n</code></pre>\n<p>would work better for you. I changed the <code>height</code> to <code>-0.15em</code>.<br>\n<img src=\"https://forum.typst.app/uploads/default/original/1X/c55863b984c23a291954b19e8ce4b4a94d8f0598.png\" alt=\"image\" data-base62-sha1=\"s9NqZJzS8xMkwd5lJGKEPomEnyw\" width=\"448\" height=\"243\"></p>",
      "raw": "Perhaps, writing \n```typ\n#let zb = $limits(z)^(#h(0.7pt)#box(height: -0.15em, line(length: 0.55em, stroke: 0.7pt)))$\n```\nwould work better for you. I changed the `height` to `-0.15em`.\n![image|448x243](upload://s9NqZJzS8xMkwd5lJGKEPomEnyw.png)",
      "reply_to_post_number": 6,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 44,
      "score": 33.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 258
    }
  ],
  "scraped_at": "2025-06-10T09:58:50.435831"
}