{
  "topic_metadata": {
    "id": 3032,
    "title": "How to Hack Together an Author-Date sorting for Bibliography?",
    "slug": "how-to-hack-together-an-author-date-sorting-for-bibliography",
    "posts_count": 5,
    "created_at": "2025-02-27T19:19:38.169Z",
    "last_posted_at": "2025-03-01T09:52:48.240Z",
    "views": 177,
    "like_count": 3,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "quachpas",
    "tags": [
      "literature"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 833
  },
  "posts": [
    {
      "id": 9141,
      "post_number": 1,
      "username": "Paul744",
      "name": "Paul",
      "created_at": "2025-02-27T19:19:38.270Z",
      "updated_at": "2025-03-09T10:19:30.453Z",
      "cooked": "<p>From <a href=\"https://github.com/typst/typst/issues/3913\" class=\"inline-onebox\" rel=\"noopener nofollow ugc\">Ability to select how a bibliography is sorted · Issue #3913 · typst/typst · GitHub</a>, <a href=\"https://github.com/typst/typst/issues/5914\" class=\"inline-onebox\" rel=\"noopener nofollow ugc\">No alphabetic sorting of bibliography in author-date style · Issue #5914 · typst/typst · GitHub</a>, and <a href=\"https://github.com/typst/typst/issues/942\" class=\"inline-onebox\" rel=\"noopener nofollow ugc\">Bibliography customization from within Typst · Issue #942 · typst/typst · GitHub</a>, my understanding is that typst does not yet support the ability to select a Bibliography/citation style (in my case alphanumeric for both) while altering the sorting from the default first-appearance method.</p>\n<p>I eagerly wait for the day when this does get implemented, but I am lost when trying to figure out if there is a way to hack together a way of getting the sorting right. I have heard about creating something like a hidden module to insert citations without them appearing, but details weren’t given and I couldn’t follow on how to do that.</p>\n<p>Thus, is there a way for now to hack together an author-date sorting to the bibliography?</p>",
      "raw": "From https://github.com/typst/typst/issues/3913, https://github.com/typst/typst/issues/5914, and https://github.com/typst/typst/issues/942, my understanding is that typst does not yet support the ability to select a Bibliography/citation style (in my case alphanumeric for both) while altering the sorting from the default first-appearance method.\n\nI eagerly wait for the day when this does get implemented, but I am lost when trying to figure out if there is a way to hack together a way of getting the sorting right. I have heard about creating something like a hidden module to insert citations without them appearing, but details weren't given and I couldn't follow on how to do that.\n\nThus, is there a way for now to hack together an author-date sorting to the bibliography?",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 33,
      "score": 351.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 788
    },
    {
      "id": 9158,
      "post_number": 2,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2025-02-28T10:09:24.200Z",
      "updated_at": "2025-02-28T10:09:24.200Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"Paul744\" data-post=\"1\" data-topic=\"3032\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/p/5D25C6/48.png\" class=\"avatar\"> Paul744:</div>\n<blockquote>\n<p>my understanding is that typst does not yet support the ability to select a Bibliography/citation style (in my case alphanumeric for both) while altering the sorting from the default first-appearance method.</p>\n</blockquote>\n</aside>\n<p>Hello <a class=\"mention\" href=\"/u/paul744\">@Paul744</a>, I’m having trouble following your thoughts. I think there is a misconception, you cannot load a style and define a custom sorting, because sorting is defined by the style.</p>\n<p>For example, by selecting the “alphanumeric” style, you would load the following CSL style <a href=\"https://github.com/typst/hayagriva/blob/main/styles/alphanumeric.csl\" class=\"inline-onebox\">hayagriva/styles/alphanumeric.csl at main · typst/hayagriva · GitHub</a> (if I’m not wrong) which defines sorting as</p>\n<pre data-code-wrap=\"xml\"><code class=\"lang-xml\">    &lt;sort&gt;\n      &lt;key variable=\"author\" /&gt;\n      &lt;key variable=\"issued\" /&gt;\n    &lt;/sort&gt;\n</code></pre>\n<p>The CSL spec can be read <a href=\"https://docs.citationstyles.org/en/stable/specification.html#sorting\">here</a>.</p>\n<p>If you want author-date sorting, you need to load a style that sorts in this way, e.g., chicago-author-date. Below, they sort using three different keys <a href=\"https://github.com/citation-style-language/styles/blob/2121f982285735b70d079deb4852119eee57144c/chicago-author-date.csl#L141\">“contributors”</a>, <a href=\"https://github.com/citation-style-language/styles/blob/2121f982285735b70d079deb4852119eee57144c/chicago-author-date.csl#L519\">“date-sort”</a> and “title”.</p>\n<pre data-code-wrap=\"xml\"><code class=\"lang-xml\">    &lt;sort&gt;\n      &lt;key macro=\"contributors\"/&gt;\n      &lt;key macro=\"date-sort\"/&gt;\n      &lt;key variable=\"title\"/&gt;\n    &lt;/sort&gt;\n</code></pre>\n<p>I also think that it’s not easy to customize bibliography layout currently in Typst, because there is no dedicated interface, but since there is a standard (CSL), I think it’s the proper way to support customization.</p>\n<p>Also, <strong>not everything should be done in Typst</strong>.</p>\n<aside class=\"quote no-group\" data-username=\"Paul744\" data-post=\"1\" data-topic=\"3032\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/p/5D25C6/48.png\" class=\"avatar\"> Paul744:</div>\n<blockquote>\n<p>Thus, is there a way for now to hack together an author-date sorting to the bibliography?</p>\n</blockquote>\n</aside>\n<p>tl;dr: best hack is to define your own sorting in the CSL file. You can use the fantastic <a href=\"https://editor.citationstyles.org/visualEditor/\">visualEditor</a> here! (or mash together different styles).</p>\n<p>Hopefully, my explanation was on topic, please tell me if I misunderstood your question!</p>\n<p>P.S.: I think a good way to support custom sorting would be to allow taking into account biblatex’s <code>sortkey</code>.</p>",
      "raw": "[quote=\"Paul744, post:1, topic:3032\"]\nmy understanding is that typst does not yet support the ability to select a Bibliography/citation style (in my case alphanumeric for both) while altering the sorting from the default first-appearance method.\n[/quote]\n\nHello @Paul744, I'm having trouble following your thoughts. I think there is a misconception, you cannot load a style and define a custom sorting, because sorting is defined by the style.\n\nFor example, by selecting the \"alphanumeric\" style, you would load the following CSL style https://github.com/typst/hayagriva/blob/main/styles/alphanumeric.csl (if I'm not wrong) which defines sorting as\n\n```xml\n    <sort>\n      <key variable=\"author\" />\n      <key variable=\"issued\" />\n    </sort>\n```\n\nThe CSL spec can be read [here](https://docs.citationstyles.org/en/stable/specification.html#sorting).\n\nIf you want author-date sorting, you need to load a style that sorts in this way, e.g., chicago-author-date. Below, they sort using three different keys [\"contributors\"](https://github.com/citation-style-language/styles/blob/2121f982285735b70d079deb4852119eee57144c/chicago-author-date.csl#L141), [\"date-sort\"](https://github.com/citation-style-language/styles/blob/2121f982285735b70d079deb4852119eee57144c/chicago-author-date.csl#L519) and \"title\".\n```xml\n    <sort>\n      <key macro=\"contributors\"/>\n      <key macro=\"date-sort\"/>\n      <key variable=\"title\"/>\n    </sort>\n```\n\nI also think that it's not easy to customize bibliography layout currently in Typst, because there is no dedicated interface, but since there is a standard (CSL), I think it's the proper way to support customization. \n\nAlso, **not everything should be done in Typst**.\n\n[quote=\"Paul744, post:1, topic:3032\"]\nThus, is there a way for now to hack together an author-date sorting to the bibliography?\n[/quote]\n\ntl;dr: best hack is to define your own sorting in the CSL file. You can use the fantastic [visualEditor](https://editor.citationstyles.org/visualEditor/) here! (or mash together different styles).\n\nHopefully, my explanation was on topic, please tell me if I misunderstood your question!\n\nP.S.: I think a good way to support custom sorting would be to allow taking into account biblatex's `sortkey`.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 1,
      "like_count": 1,
      "reads": 27,
      "score": 45.4,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 9181,
      "post_number": 3,
      "username": "aarnent",
      "name": "",
      "created_at": "2025-02-28T11:01:46.902Z",
      "updated_at": "2025-02-28T14:48:39.669Z",
      "cooked": "<p>to add to <a class=\"mention\" href=\"/u/quachpas\">@quachpas</a>’s excellent answer, if you don’t want  to write your own .csl file, you can find a good implementation here: <a href=\"https://github.com/citation-style-language/styles/blob/master/din-1505-2-alphanumeric.csl\" class=\"inline-onebox\" rel=\"noopener nofollow ugc\">styles/din-1505-2-alphanumeric.csl at master · citation-style-language/styles · GitHub</a>. This is the .csl that I use, and it sorts the bibliography.</p>",
      "raw": "to add to @quachpas's excellent answer, if you don't want  to write your own .csl file, you can find a good implementation here: https://github.com/citation-style-language/styles/blob/master/din-1505-2-alphanumeric.csl. This is the .csl that I use, and it sorts the bibliography.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 25,
      "score": 20.0,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 501
    },
    {
      "id": 9198,
      "post_number": 4,
      "username": "Paul744",
      "name": "Paul",
      "created_at": "2025-02-28T15:53:50.290Z",
      "updated_at": "2025-03-09T09:56:30.462Z",
      "cooked": "<p>Thank you <a class=\"mention\" href=\"/u/quachpas\">@quachpas</a> and <a class=\"mention\" href=\"/u/aarnent\">@aarnent</a> for your explanations.</p>\n<p><a class=\"mention\" href=\"/u/quachpas\">@quachpas</a> To clarify my point, when I say “while altering the sorting from the default …,” I’m thinking that selecting a new sorting method overrides the one present in the CSL file. If I remember correctly, that was an idea put forward on one of the Github issues, but I might be misremembering. My assumption was that was how LaTeX’s bibtex did it with:</p>\n<pre data-code-wrap=\"tex\"><code class=\"lang-tex\">\\usepackage[\n\tbackend = biber,\n\tstyle = alphabetic,\n\tsorting = nyt\n]{biblatex}\n</code></pre>\n<p>Regarding your point about not everything being done in Typst, while I do agree, formatting citations carefully is an integral-enough part of academic work that if one is going to jump ship from LaTeX, I imagine it could be a deal-breaker. At the very least, if modifying stuff like this isn’t planned, it’s something that should definitely be addressed in the page about moving from LaTeX to Typst, if it isn’t addressed already (I could very well have missed it).</p>\n<p>Also, thanks for bringing up the visual editor. I was not aware of that before, but that’s going straight into my bookmarks.</p>\n<p><a class=\"mention\" href=\"/u/aarnent\">@aarnent</a> Thanks for linking that. I’ll be sure to try it out.</p>",
      "raw": "Thank you @quachpas and @aarnent for your explanations.\n\n@quachpas To clarify my point, when I say \"while altering the sorting from the default ...,\" I'm thinking that selecting a new sorting method overrides the one present in the CSL file. If I remember correctly, that was an idea put forward on one of the Github issues, but I might be misremembering. My assumption was that was how LaTeX's bibtex did it with:\n\n```tex\n\\usepackage[\n\tbackend = biber,\n\tstyle = alphabetic,\n\tsorting = nyt\n]{biblatex}\n```\n\nRegarding your point about not everything being done in Typst, while I do agree, formatting citations carefully is an integral-enough part of academic work that if one is going to jump ship from LaTeX, I imagine it could be a deal-breaker. At the very least, if modifying stuff like this isn't planned, it's something that should definitely be addressed in the page about moving from LaTeX to Typst, if it isn't addressed already (I could very well have missed it).\n\nAlso, thanks for bringing up the visual editor. I was not aware of that before, but that's going straight into my bookmarks.\n\n@aarnent Thanks for linking that. I'll be sure to try it out.",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 25,
      "score": 25.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 788
    },
    {
      "id": 9240,
      "post_number": 5,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2025-03-01T09:52:48.240Z",
      "updated_at": "2025-03-01T09:52:48.240Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"Paul744\" data-post=\"4\" data-topic=\"3032\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/p/5D25C6/48.png\" class=\"avatar\"> Paul744:</div>\n<blockquote>\n<p>At the very least, if modifying stuff like this isn’t planned, it’s something that should definitely be addressed in the page about moving from LaTeX to Typst, if it isn’t addressed already (I could very well have missed it).</p>\n</blockquote>\n</aside>\n<p>Probably what is needed, it that the bibliography element exposes the entries. Then you could control the layout completely. A dependent PR is <a href=\"https://github.com/typst/typst/pull/5932\" class=\"inline-onebox\">Add `bibliography.entry` element by xkevio · Pull Request #5932 · typst/typst · GitHub</a> by <a class=\"mention\" href=\"/u/xkevio\">@xkevio</a>.</p>\n<p>Thinking on it, I think there is merit for that and it should be fairly straightforward to implement.</p>",
      "raw": "[quote=\"Paul744, post:4, topic:3032\"]\nAt the very least, if modifying stuff like this isn’t planned, it’s something that should definitely be addressed in the page about moving from LaTeX to Typst, if it isn’t addressed already (I could very well have missed it).\n[/quote]\n\nProbably what is needed, it that the bibliography element exposes the entries. Then you could control the layout completely. A dependent PR is https://github.com/typst/typst/pull/5932 by @xkevio.\n\nThinking on it, I think there is merit for that and it should be fairly straightforward to implement.",
      "reply_to_post_number": 4,
      "reply_count": 0,
      "quote_count": 1,
      "like_count": 0,
      "reads": 19,
      "score": 8.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 258
    }
  ],
  "scraped_at": "2025-06-10T09:51:02.019107"
}