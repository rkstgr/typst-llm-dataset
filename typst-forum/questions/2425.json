{
  "topic_metadata": {
    "id": 2425,
    "title": "Is it possible to show and hide text blocks based on a conditional?",
    "slug": "is-it-possible-to-show-and-hide-text-blocks-based-on-a-conditional",
    "posts_count": 5,
    "created_at": "2025-01-15T19:51:36.565Z",
    "last_posted_at": "2025-01-15T22:26:47.785Z",
    "views": 231,
    "like_count": 1,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 4,
    "accepted_answer_username": "flokl",
    "tags": [
      "scripting",
      "layout"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 426
  },
  "posts": [
    {
      "id": 7550,
      "post_number": 1,
      "username": "kfold3",
      "name": "Ali",
      "created_at": "2025-01-15T19:51:36.737Z",
      "updated_at": "2025-01-15T19:55:27.618Z",
      "cooked": "<p>I have writing an examination paper for my students in which I am simultaneously writing the solutions as well. When I am done, I’d like to simply set a flag which hides all the blocks with the solutions rather than me commenting each solution block out. Is it possible to do something like the following</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">flag_for_solution = false\n\n*Question x.* Question statement\n\n// solution block\nif flag_for_solution \n   #block(fill: luma(230), inset: 8pt,radius: 4pt, width:100%) \n   [ \n     Solutions in this block\n   ]\nelse don't show the block\n</code></pre>\n<p>For comparison purposes, I do something similar in latex using the <code>comments</code> package, which works something like this</p>\n<pre data-code-wrap=\"tex\"><code class=\"lang-tex\">\\includecomment{solution}  # shows the block\n\\excludecomment{solution}  # hides the block\n\n\\begin{document}\n   \\begin{solution}\n      Solution here\n   \\end{solution}\n\\end{document}\n</code></pre>",
      "raw": "I have writing an examination paper for my students in which I am simultaneously writing the solutions as well. When I am done, I'd like to simply set a flag which hides all the blocks with the solutions rather than me commenting each solution block out. Is it possible to do something like the following\n\n```typ\nflag_for_solution = false\n\n*Question x.* Question statement\n\n// solution block\nif flag_for_solution \n   #block(fill: luma(230), inset: 8pt,radius: 4pt, width:100%) \n   [ \n     Solutions in this block\n   ]\nelse don't show the block\n```\nFor comparison purposes, I do something similar in latex using the `comments` package, which works something like this \n\n```tex\n\\includecomment{solution}  # shows the block\n\\excludecomment{solution}  # hides the block\n\n\\begin{document}\n   \\begin{solution}\n      Solution here\n   \\end{solution}\n\\end{document}\n```",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 32,
      "score": 1011.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 998
    },
    {
      "id": 7551,
      "post_number": 2,
      "username": "flokl",
      "name": "",
      "created_at": "2025-01-15T20:20:48.699Z",
      "updated_at": "2025-01-15T20:21:25.733Z",
      "cooked": "<p>Hi <a class=\"mention\" href=\"/u/kfold3\">@kfold3</a> welcome!</p>\n<p>That’s definitely possible with Typst! You might find the <a href=\"https://typst.app/docs/reference/scripting/\">documentation</a> helpful, but your example code almost works.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let flag_for_solution = false\n\n*Question x.* Question statement\n\n// solution block\n#if flag_for_solution [ \n   #block(fill: luma(230), inset: 8pt,radius: 4pt, width:100%)[ \n     Solutions in this block\n   ]\n ]\nelse don't show the block\n</code></pre>\n<details>\n<summary>\nOutput</summary>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/9/93102f251745e62fcbe5dd0c4500c2c5c6d2e03b.png\" data-download-href=\"https://forum.typst.app/uploads/default/93102f251745e62fcbe5dd0c4500c2c5c6d2e03b\" title=\"1\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/9/93102f251745e62fcbe5dd0c4500c2c5c6d2e03b_2_690x196.png\" alt=\"1\" data-base62-sha1=\"kYYRtFMVUfRT7HMfHUxghRV23cD\" width=\"690\" height=\"196\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/9/93102f251745e62fcbe5dd0c4500c2c5c6d2e03b_2_690x196.png, https://forum.typst.app/uploads/default/optimized/2X/9/93102f251745e62fcbe5dd0c4500c2c5c6d2e03b_2_1035x294.png 1.5x, https://forum.typst.app/uploads/default/original/2X/9/93102f251745e62fcbe5dd0c4500c2c5c6d2e03b.png 2x\" data-dominant-color=\"FEFEFE\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">1</span><span class=\"informations\">1191×339 27.6 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div><br>\n<div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/4/4a5dbbaf6338c34f6e3cd52e37a6d6bd4fac5914.png\" data-download-href=\"https://forum.typst.app/uploads/default/4a5dbbaf6338c34f6e3cd52e37a6d6bd4fac5914\" title=\"2\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/4/4a5dbbaf6338c34f6e3cd52e37a6d6bd4fac5914_2_690x238.png\" alt=\"2\" data-base62-sha1=\"aBS9CoC788KX0MXwScloNMZfAkk\" width=\"690\" height=\"238\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/4/4a5dbbaf6338c34f6e3cd52e37a6d6bd4fac5914_2_690x238.png, https://forum.typst.app/uploads/default/optimized/2X/4/4a5dbbaf6338c34f6e3cd52e37a6d6bd4fac5914_2_1035x357.png 1.5x, https://forum.typst.app/uploads/default/original/2X/4/4a5dbbaf6338c34f6e3cd52e37a6d6bd4fac5914.png 2x\" data-dominant-color=\"FBFBFB\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">2</span><span class=\"informations\">1191×412 37.4 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n</details>",
      "raw": "Hi @kfold3 welcome!\n\nThat's definitely possible with Typst! You might find the [documentation](https://typst.app/docs/reference/scripting/) helpful, but your example code almost works.\n```typ\n#let flag_for_solution = false\n\n*Question x.* Question statement\n\n// solution block\n#if flag_for_solution [ \n   #block(fill: luma(230), inset: 8pt,radius: 4pt, width:100%)[ \n     Solutions in this block\n   ]\n ]\nelse don't show the block\n```\n\n[details=\"Output\"]\n![1|690x196](upload://kYYRtFMVUfRT7HMfHUxghRV23cD.png)\n![2|690x238](upload://aBS9CoC788KX0MXwScloNMZfAkk.png)\n[/details]",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 32,
      "score": 21.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 8
    },
    {
      "id": 7552,
      "post_number": 3,
      "username": "kfold3",
      "name": "Ali",
      "created_at": "2025-01-15T20:29:57.983Z",
      "updated_at": "2025-01-15T20:29:57.983Z",
      "cooked": "<p>Thank you this is great.<br>\nAs a matter of convenience, is it possible to make a shorthand for this? Something like</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#define myblock = \n     #if flag_for_solution [ \n        #block(fill: luma(230), inset: 8pt,radius: 4pt, width:100%)[]\n\n// and then I can just do \n#myblock[\n   my text here\n]\n</code></pre>\n<p>And thanks for the welcome!  I just got started with Typst a few days ago, coming from a heavy latex background. I do wish that typst also allowed <code>\\</code> as a command prefix (i.e., <code>\\mu, \\integral, \\hat</code>) which would really help with the muscle memory as well as copying/pasting long latex snippets. I also wish that the block math was <code>$$</code> rather than a single <code>$</code>.  But other than these minor inconveniences, I am loving it!</p>",
      "raw": "Thank you this is great.  \nAs a matter of convenience, is it possible to make a shorthand for this? Something like \n```typ\n#define myblock = \n     #if flag_for_solution [ \n        #block(fill: luma(230), inset: 8pt,radius: 4pt, width:100%)[]\n\n// and then I can just do \n#myblock[\n   my text here\n]\n```\n\nAnd thanks for the welcome!  I just got started with Typst a few days ago, coming from a heavy latex background. I do wish that typst also allowed `\\` as a command prefix (i.e., `\\mu, \\integral, \\hat`) which would really help with the muscle memory as well as copying/pasting long latex snippets. I also wish that the block math was `$$` rather than a single `$`.  But other than these minor inconveniences, I am loving it!",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 32,
      "score": 46.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 998
    },
    {
      "id": 7553,
      "post_number": 4,
      "username": "flokl",
      "name": "",
      "created_at": "2025-01-15T20:32:10.394Z",
      "updated_at": "2025-01-15T20:33:28.609Z",
      "cooked": "<p>Sure I was about to add it to my post above, here it is with the use of a <a href=\"https://typst.app/docs/reference/foundations/function/\">function</a></p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#let flag_for_solution = true\n\n#let solution(body) = if flag_for_solution {\n  block(fill: luma(230), inset: 8pt,radius: 4pt, width:100%, body) \n}\n\n*Question x.* Question statement\n\n// solution block\n#solution[\n  Solutions in this block\n]\nelse don't show the block\n</code></pre>",
      "raw": "Sure I was about to add it to my post above, here it is with the use of a [function](https://typst.app/docs/reference/foundations/function/)\n```typst\n#let flag_for_solution = true\n\n#let solution(body) = if flag_for_solution {\n  block(fill: luma(230), inset: 8pt,radius: 4pt, width:100%, body) \n}\n\n*Question x.* Question statement\n\n// solution block\n#solution[\n  Solutions in this block\n]\nelse don't show the block\n```",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 31,
      "score": 51.2,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 8
    },
    {
      "id": 7556,
      "post_number": 5,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2025-01-15T22:26:47.785Z",
      "updated_at": "2025-01-15T22:26:47.785Z",
      "cooked": "<p>In addition to this technique, there are already a few packages based on it that may provide you with some additional desirable features, or inspiration on how to implement them. see here: <a href=\"https://typst.app/universe/search?q=exam\">search results for “exam”</a></p>",
      "raw": "In addition to this technique, there are already a few packages based on it that may provide you with some additional desirable features, or inspiration on how to implement them. see here: [search results for \"exam\"](https://typst.app/universe/search?q=exam)",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 27,
      "score": 10.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 32
    }
  ],
  "scraped_at": "2025-06-10T09:52:48.789267"
}