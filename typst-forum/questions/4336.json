{
  "topic_metadata": {
    "id": 4336,
    "title": "How to loop over datetime?",
    "slug": "how-to-loop-over-datetime",
    "posts_count": 3,
    "created_at": "2025-05-27T15:54:51.612Z",
    "last_posted_at": "2025-05-27T17:50:52.131Z",
    "views": 63,
    "like_count": 8,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "sijo",
    "tags": [
      "scripting"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 272
  },
  "posts": [
    {
      "id": 13286,
      "post_number": 1,
      "username": "Junot",
      "name": "Junot",
      "created_at": "2025-05-27T15:54:51.696Z",
      "updated_at": "2025-05-29T14:32:39.450Z",
      "cooked": "<p>Say i want to make a quick planner via a grid and i want to automate entering the date for each day, i understand that using a for loop just puts everything in a single cell but i don’t understand the spread function too well.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#grid(columns: 7), align: horizon, gutter: 0.5em,\n  for i in range(start, stop + 1) [#datetime(\n      year: 2025,\n      month: month,\n      day: i,\n    ).display(\"[day]/[month]\")])\n</code></pre>\n<p>I tried something like this but i get a single cell but i can’t seem to find a quick solution. Can someone help?</p>",
      "raw": "Say i want to make a quick planner via a grid and i want to automate entering the date for each day, i understand that using a for loop just puts everything in a single cell but i don't understand the spread function too well.\n```\n#grid(columns: 7), align: horizon, gutter: 0.5em,\n  for i in range(start, stop + 1) [#datetime(\n      year: 2025,\n      month: month,\n      day: i,\n    ).display(\"[day]/[month]\")])\n```\nI tried something like this but i get a single cell but i can't seem to find a quick solution. Can someone help?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 33,
      "score": 51.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1636
    },
    {
      "id": 13289,
      "post_number": 2,
      "username": "sijo",
      "name": "",
      "created_at": "2025-05-27T16:37:56.707Z",
      "updated_at": "2025-05-27T18:19:04.682Z",
      "cooked": "<p>Hi, welcome to the Typst forum!</p>\n<p>Spreading here will only work if you have an array to spread, and your for loop generates a single content value (the loop result is obtained by joining the values of all steps, and here they produce content and joining content gives a content value).</p>\n<p>One solution is to make sure that each step produces an array (with a single value):</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#table(\n  columns: 7,\n  ..for i in range(1, 4) {\n    (datetime(year: 2025, month: 3, day: i, ).display(\"[day]/[month]\"),)\n  },\n)\n</code></pre>\n<p>This works because when arrays are joined you get an array with all the elements. But it’s a bit clunky. Better use <code>map</code> on the <code>range</code> array to transform each range value into the corresponding date string:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#table(\n  columns: 7,\n  ..range(1, 4).map(\n    i =&gt; datetime(year: 2025, month: 3, day: i).display(\"[day]/[month]\")\n  )\n)\n</code></pre>",
      "raw": "Hi, welcome to the Typst forum!\n\nSpreading here will only work if you have an array to spread, and your for loop generates a single content value (the loop result is obtained by joining the values of all steps, and here they produce content and joining content gives a content value).\n\nOne solution is to make sure that each step produces an array (with a single value):\n\n```typ\n#table(\n  columns: 7,\n  ..for i in range(1, 4) {\n    (datetime(year: 2025, month: 3, day: i, ).display(\"[day]/[month]\"),)\n  },\n)\n```\n\nThis works because when arrays are joined you get an array with all the elements. But it's a bit clunky. Better use `map` on the `range` array to transform each range value into the corresponding date string:\n\n```typ\n#table(\n  columns: 7,\n  ..range(1, 4).map(\n    i => datetime(year: 2025, month: 3, day: i).display(\"[day]/[month]\")\n  )\n)\n```",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 6,
      "reads": 33,
      "score": 131.6,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 332
    },
    {
      "id": 13303,
      "post_number": 3,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-05-27T17:50:52.131Z",
      "updated_at": "2025-05-27T17:50:52.131Z",
      "cooked": "<ul>\n<li><a href=\"https://typst.app/docs/reference/foundations/arguments/#spreading\">https://typst.app/docs/reference/foundations/arguments/#spreading</a></li>\n<li><a href=\"https://typst.app/docs/reference/foundations/array/#definitions-map\">https://typst.app/docs/reference/foundations/array/#definitions-map</a></li>\n<li><a href=\"https://typst.app/docs/reference/foundations/array/#definitions-range\">https://typst.app/docs/reference/foundations/array/#definitions-range</a></li>\n<li><a href=\"https://typst.app/docs/reference/scripting/#loops\">https://typst.app/docs/reference/scripting/#loops</a></li>\n</ul>",
      "raw": "- <https://typst.app/docs/reference/foundations/arguments/#spreading>\n- <https://typst.app/docs/reference/foundations/array/#definitions-map>\n- <https://typst.app/docs/reference/foundations/array/#definitions-range>\n- <https://typst.app/docs/reference/scripting/#loops>",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 28,
      "score": 20.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    }
  ],
  "scraped_at": "2025-06-10T09:47:08.284823"
}