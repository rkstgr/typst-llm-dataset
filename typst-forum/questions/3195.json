{
  "topic_metadata": {
    "id": 3195,
    "title": "Is there a way to automatically determine the page height for balanced two-column page?",
    "slug": "is-there-a-way-to-automatically-determine-the-page-height-for-balanced-two-column-page",
    "posts_count": 4,
    "created_at": "2025-03-11T18:37:00.851Z",
    "last_posted_at": "2025-03-12T07:04:18.983Z",
    "views": 103,
    "like_count": 2,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "Philipp",
    "tags": [
      "layout",
      "layout-containers"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 518
  },
  "posts": [
    {
      "id": 9656,
      "post_number": 1,
      "username": "nik_nul",
      "name": "nik_nul",
      "created_at": "2025-03-11T18:37:00.972Z",
      "updated_at": "2025-03-12T09:33:00.905Z",
      "cooked": "<p><code>#set page(height: auto)</code> can make typst automatically determine the proper height to display all the stuffs in one page, like:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#set page(height: auto, width: 4.5in)\n#lorem(100)\n</code></pre>\n<p>But now I want to use <code>height: auto</code> option for two columns page, and this is how it looks like:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#set page(height: auto, width: 4.5in, columns: 2)\n#lorem(50)\n</code></pre>\n<p>or</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#set page(height: auto, width: 4.5in)\n#columns(2)[#lorem(150)]\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/7/798826d8ce3fd4b3878ebac8e5825526a456d2d9.png\" data-download-href=\"https://forum.typst.app/uploads/default/798826d8ce3fd4b3878ebac8e5825526a456d2d9\" title=\"Auto height, two columns, unbalanced\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/7/798826d8ce3fd4b3878ebac8e5825526a456d2d9_2_540x500.png\" alt=\"Auto height, two columns, unbalanced\" data-base62-sha1=\"hl7tCfTmK7SxIyiK35xs2LyaKjn\" width=\"540\" height=\"500\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/7/798826d8ce3fd4b3878ebac8e5825526a456d2d9_2_540x500.png, https://forum.typst.app/uploads/default/original/2X/7/798826d8ce3fd4b3878ebac8e5825526a456d2d9.png 1.5x, https://forum.typst.app/uploads/default/original/2X/7/798826d8ce3fd4b3878ebac8e5825526a456d2d9.png 2x\" data-dominant-color=\"F7F7F7\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">Auto height, two columns, unbalanced</span><span class=\"informations\">648×600 116 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div><br>\nAll the content is on the one side, and the other side is left blank, which is not that good.</p>\n<p>What I want is something like:<br>\n<div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/2/240408d71e0ed14169c580263ddc6e6dcf8cea2f.png\" data-download-href=\"https://forum.typst.app/uploads/default/240408d71e0ed14169c580263ddc6e6dcf8cea2f\" title=\"Manually-specified height, two columns, balanced\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/2/240408d71e0ed14169c580263ddc6e6dcf8cea2f_2_576x500.png\" alt=\"Manually-specified height, two columns, balanced\" data-base62-sha1=\"58BPDB6MSqhwj5TY5nwL3vedm47\" width=\"576\" height=\"500\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/2/240408d71e0ed14169c580263ddc6e6dcf8cea2f_2_576x500.png, https://forum.typst.app/uploads/default/original/2X/2/240408d71e0ed14169c580263ddc6e6dcf8cea2f.png 1.5x, https://forum.typst.app/uploads/default/original/2X/2/240408d71e0ed14169c580263ddc6e6dcf8cea2f.png 2x\" data-dominant-color=\"EEEEEE\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">Manually-specified height, two columns, balanced</span><span class=\"informations\">648×562 223 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div><br>\ni.e. two columns are balanced and just fit in one page.</p>\n<p>At first, I tried to use <code>measure</code> to get the height of all content and set the page height to half of it, but there are spacing between two columns, so the height is not always (maybe always not) that exact, even if I did some experiments and got a relatively good coefficient rather than simply using 1/2 to calculate the height for two columns from the original height.</p>\n<p>Another idea is to detect whether a page is enough for the content and iterate several times to find the critical point and finally get a tight bound for height, but this may be of low efficiency and may encounter <code>layout did not converge within 5 attempts</code> if doing this inside the typst document.</p>\n<p>So what is the best practice for making a one page two columns document, or is that possible?</p>\n<p>I am new to this community and not proficient in typst and English, and I’ve already searched the web and this forum for something relevant but in vain. I would appreciate it if you could offer any help, thanks in advance.</p>\n<p>P.S. I need to do so as I am currently working with an automatic publishing system for campus news &amp; information. We previously found out that this form may be the best for phone readers, and we could manually adjust the geometry for LaTeX document everyday in the past.</p>",
      "raw": "`#set page(height: auto)` can make typst automatically determine the proper height to display all the stuffs in one page, like:\n```typst\n#set page(height: auto, width: 4.5in)\n#lorem(100)\n```\nBut now I want to use `height: auto` option for two columns page, and this is how it looks like:\n```typst\n#set page(height: auto, width: 4.5in, columns: 2)\n#lorem(50)\n```\nor\n```typst\n#set page(height: auto, width: 4.5in)\n#columns(2)[#lorem(150)]\n```\n![Auto height, two columns, unbalanced|540x500](upload://hl7tCfTmK7SxIyiK35xs2LyaKjn.png)\nAll the content is on the one side, and the other side is left blank, which is not that good.\n\nWhat I want is something like:\n![Manually-specified height, two columns, balanced|576x500](upload://58BPDB6MSqhwj5TY5nwL3vedm47.png)\ni.e. two columns are balanced and just fit in one page.\n\nAt first, I tried to use `measure` to get the height of all content and set the page height to half of it, but there are spacing between two columns, so the height is not always (maybe always not) that exact, even if I did some experiments and got a relatively good coefficient rather than simply using 1/2 to calculate the height for two columns from the original height.\n\nAnother idea is to detect whether a page is enough for the content and iterate several times to find the critical point and finally get a tight bound for height, but this may be of low efficiency and may encounter `layout did not converge within 5 attempts` if doing this inside the typst document.\n\nSo what is the best practice for making a one page two columns document, or is that possible?\n\nI am new to this community and not proficient in typst and English, and I've already searched the web and this forum for something relevant but in vain. I would appreciate it if you could offer any help, thanks in advance.\n\nP.S. I need to do so as I am currently working with an automatic publishing system for campus news & information. We previously found out that this form may be the best for phone readers, and we could manually adjust the geometry for LaTeX document everyday in the past.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 34,
      "score": 131.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1332
    },
    {
      "id": 9659,
      "post_number": 2,
      "username": "Philipp",
      "name": "Philipp",
      "created_at": "2025-03-11T21:12:09.349Z",
      "updated_at": "2025-03-11T21:12:09.349Z",
      "cooked": "<p>There is currently no proper way to do this, but there is an open issue on GitHub for balancing the columns, and I believe this would then also allow for auto page height. In that issue people have posted several workarounds which could be helpful for your use case. Here the link:</p>\n<aside class=\"onebox githubissue\" data-onebox-src=\"https://github.com/typst/typst/issues/466\">\n  <header class=\"source\">\n\n      <a href=\"https://github.com/typst/typst/issues/466\" target=\"_blank\" rel=\"noopener nofollow ugc\">github.com/typst/typst</a>\n  </header>\n\n  <article class=\"onebox-body\">\n    <div class=\"github-row\">\n  <div class=\"github-icon-container\" title=\"Issue\" data-github-private-repo=\"false\">\n\t  <svg width=\"60\" height=\"60\" class=\"github-icon\" viewBox=\"0 0 14 16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z\"></path></svg>\n  </div>\n\n  <div class=\"github-info-container\">\n    <h4>\n      <a href=\"https://github.com/typst/typst/issues/466\" target=\"_blank\" rel=\"noopener nofollow ugc\">Balancing the contents of multiple columns to the same vertical space</a>\n    </h4>\n\n    <div class=\"github-info\">\n      <div class=\"date\">\n        opened <span class=\"discourse-local-date\" data-format=\"ll\" data-date=\"2023-03-30\" data-time=\"18:09:42\" data-timezone=\"UTC\">06:09PM - 30 Mar 23 UTC</span>\n      </div>\n\n\n      <div class=\"user\">\n        <a href=\"https://github.com/ghost\" target=\"_blank\" rel=\"noopener nofollow ugc\">\n          <img alt=\"ghost\" src=\"https://forum.typst.app/uploads/default/original/2X/d/dd7897793c3382c0099bc223bdb0e85421106565.jpeg\" class=\"onebox-avatar-inline\" width=\"20\" height=\"20\" data-dominant-color=\"383838\">\n          ghost\n        </a>\n      </div>\n    </div>\n\n    <div class=\"labels\">\n        <span style=\"display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;\">\n          feature request\n        </span>\n        <span style=\"display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;\">\n          layout\n        </span>\n    </div>\n  </div>\n</div>\n\n  <div class=\"github-row\">\n    <p class=\"github-body-container\">I remember that in LaTeX the output of multicolumns will be balanced to the same<span class=\"show-more-container\"><a href=\"\" rel=\"noopener\" class=\"show-more\">…</a></span><span class=\"excerpt hidden\"> vertical space in all columns to have enough space below that could start a new single column layout or an image or so.\n\nIn Typst the output for\n\n```typst\n#set par(justify: true)\n\n#set page(columns: 2)\n\n#lorem(500)\n```\n\nis currently unbalanced which looks not so professional, I think.\n\n![balanced](https://user-images.githubusercontent.com/107212151/228925442-2115e896-ba41-4689-a8f1-e72f88f4d4aa.PNG)\n\nMaybe a parameter like `balance-columns` or `columns: (balance: bool)` can be added to make this possible.</span></p>\n  </div>\n\n  </article>\n\n  <div class=\"onebox-metadata\">\n    \n    \n  </div>\n\n  <div style=\"clear: both\"></div>\n</aside>\n",
      "raw": "There is currently no proper way to do this, but there is an open issue on GitHub for balancing the columns, and I believe this would then also allow for auto page height. In that issue people have posted several workarounds which could be helpful for your use case. Here the link:\n\nhttps://github.com/typst/typst/issues/466",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 2,
      "reads": 32,
      "score": 56.2,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 798
    },
    {
      "id": 9674,
      "post_number": 3,
      "username": "nik_nul",
      "name": "nik_nul",
      "created_at": "2025-03-12T02:42:05.580Z",
      "updated_at": "2025-03-12T02:42:05.580Z",
      "cooked": "<p>The <code>eqcolumns</code> workaround provided by <a href=\"https://github.com/dahooz\" rel=\"noopener nofollow ugc\">@dahooz</a> in <a href=\"https://github.com/typst/typst/issues/466#issuecomment-2035134448\" rel=\"noopener nofollow ugc\">issue 466</a> seems to perfectly resolve my problem. Thank you for the instruction!</p>",
      "raw": "The `eqcolumns` workaround provided by [@dahooz](https://github.com/dahooz) in [issue 466](https://github.com/typst/typst/issues/466#issuecomment-2035134448) seems to perfectly resolve my problem. Thank you for the instruction!",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 29,
      "score": 5.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1332
    },
    {
      "id": 9681,
      "post_number": 4,
      "username": "nik_nul",
      "name": "nik_nul",
      "created_at": "2025-03-12T07:04:18.983Z",
      "updated_at": "2025-03-12T07:04:18.983Z",
      "cooked": "<p>Update: Sometimes <code>eqcolumns</code> will underestimate the height needed, like:<br>\n<div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/1/199fd7472417bc05b5d78bb0de9f7a2348ca09d5.png\" data-download-href=\"https://forum.typst.app/uploads/default/199fd7472417bc05b5d78bb0de9f7a2348ca09d5\" title=\"Insufficient block height for table\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/1/199fd7472417bc05b5d78bb0de9f7a2348ca09d5_2_657x500.png\" alt=\"Insufficient block height for table\" data-base62-sha1=\"3EGorY51agtZu4B6B8PsWxAhz0N\" width=\"657\" height=\"500\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/1/199fd7472417bc05b5d78bb0de9f7a2348ca09d5_2_657x500.png, https://forum.typst.app/uploads/default/original/2X/1/199fd7472417bc05b5d78bb0de9f7a2348ca09d5.png 1.5x, https://forum.typst.app/uploads/default/original/2X/1/199fd7472417bc05b5d78bb0de9f7a2348ca09d5.png 2x\" data-dominant-color=\"EAE8E9\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">Insufficient block height for table</span><span class=\"informations\">738×561 120 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div><br>\nEspecially some layout rules are applied to add some space.<br>\nI suggest to add some extra space in the parameter <code>height</code> passed to block. Basically, <code>+ 0.3 em</code> to <code>+ 0.6 em</code> at <code>12pt</code> font size will be enough for most circumstances.</p>",
      "raw": "Update: Sometimes `eqcolumns` will underestimate the height needed, like:\n![Insufficient block height for table|657x500](upload://3EGorY51agtZu4B6B8PsWxAhz0N.png)\nEspecially some layout rules are applied to add some space.\nI suggest to add some extra space in the parameter `height` passed to block. Basically, `+ 0.3 em` to `+ 0.6 em` at `12pt` font size will be enough for most circumstances.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 29,
      "score": 10.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1332
    }
  ],
  "scraped_at": "2025-06-10T09:50:28.648059"
}