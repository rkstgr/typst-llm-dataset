{
  "topic_metadata": {
    "id": 846,
    "title": "How to make nested bulleted lists where content includes centered equations?",
    "slug": "how-to-make-nested-bulleted-lists-where-content-includes-centered-equations",
    "posts_count": 4,
    "created_at": "2024-10-01T17:41:42.055Z",
    "last_posted_at": "2025-01-23T10:45:35.252Z",
    "views": 507,
    "like_count": 0,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 3,
    "accepted_answer_username": "Andrew",
    "tags": [
      "layout",
      "math"
    ],
    "category_id": 5,
    "participant_count": 4,
    "word_count": 480
  },
  "posts": [
    {
      "id": 3114,
      "post_number": 1,
      "username": "miles-1",
      "name": "miles",
      "created_at": "2024-10-01T17:41:42.247Z",
      "updated_at": "2024-10-02T19:28:29.739Z",
      "cooked": "<p>If I type the following…</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">- This is my first equation: $ a + b + c = 100 $\n  - This is my second: $ d + e + f = 1 $\n</code></pre>\n<p>… I find that the first equation is centered from the beginning of the text content (the “This is my first equation” bit) til the end of the line, but that the second equation in the indented bullet is centered just underneath the text content (“This is my second”). Perhaps this behavior has its applications, but I would like to center all equations in the list along the same axis.</p>\n<p>If I try the following…</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">- This is my first equation: \n$ a + b + c = 100 $\n  - This is my second: \n  $ d + e + f = 1 $\n</code></pre>\n<p>… then the second bullet is not recognized as indented.</p>\n<p>Is there a bit of syntax that I’m missing here to be able to have nested lists without changing where equations are aligned? I could do something like I have below but it is pretty clunky.</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">- This is my first equation: \n$ a + b + c = 100 $\n#list(indent: 10pt, marker: [-])[This is my second:]\n$ d + e + f = 1 $\n</code></pre>",
      "raw": "If I type the following...\n\n```typst\n- This is my first equation: $ a + b + c = 100 $\n  - This is my second: $ d + e + f = 1 $\n```\n\n... I find that the first equation is centered from the beginning of the text content (the \"This is my first equation\" bit) til the end of the line, but that the second equation in the indented bullet is centered just underneath the text content (\"This is my second\"). Perhaps this behavior has its applications, but I would like to center all equations in the list along the same axis.\n\nIf I try the following...\n\n```typst\n- This is my first equation: \n$ a + b + c = 100 $\n  - This is my second: \n  $ d + e + f = 1 $\n```\n... then the second bullet is not recognized as indented.\n\nIs there a bit of syntax that I'm missing here to be able to have nested lists without changing where equations are aligned? I could do something like I have below but it is pretty clunky.\n\n```typst\n- This is my first equation: \n$ a + b + c = 100 $\n#list(indent: 10pt, marker: [-])[This is my second:]\n$ d + e + f = 1 $\n```",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 51,
      "score": 2035.2,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 177
    },
    {
      "id": 3136,
      "post_number": 2,
      "username": "maucejo",
      "name": "Mathieu Aucejo",
      "created_at": "2024-10-01T20:54:11.413Z",
      "updated_at": "2024-10-01T20:54:11.413Z",
      "cooked": "<p>I think the problem you are facing is related to a bad indentation. Can you try the following code ?</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">- This is my first equation: \n   $ a + b + c = 100 $\n  - This is my second: \n    $ d + e + f = 1 $\n</code></pre>",
      "raw": "I think the problem you are facing is related to a bad indentation. Can you try the following code ?\n\n```typ\n- This is my first equation: \n   $ a + b + c = 100 $\n  - This is my second: \n    $ d + e + f = 1 $\n```",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 51,
      "score": 30.2,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 125
    },
    {
      "id": 3140,
      "post_number": 3,
      "username": "Andrew",
      "name": "",
      "created_at": "2024-10-01T21:15:06.966Z",
      "updated_at": "2024-10-02T11:21:52.963Z",
      "cooked": "<p>This is a know issue:</p>\n<aside class=\"onebox githubissue\" data-onebox-src=\"https://github.com/typst/typst/issues/529\">\n  <header class=\"source\">\n\n      <a href=\"https://github.com/typst/typst/issues/529\" target=\"_blank\" rel=\"noopener nofollow ugc\">github.com/typst/typst</a>\n  </header>\n\n  <article class=\"onebox-body\">\n    <div class=\"github-row\">\n  <div class=\"github-icon-container\" title=\"Issue\" data-github-private-repo=\"false\">\n\t  <svg width=\"60\" height=\"60\" class=\"github-icon\" viewBox=\"0 0 14 16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z\"></path></svg>\n  </div>\n\n  <div class=\"github-info-container\">\n    <h4>\n      <a href=\"https://github.com/typst/typst/issues/529\" target=\"_blank\" rel=\"noopener nofollow ugc\">Center alignment broken in lists</a>\n    </h4>\n\n    <div class=\"github-info\">\n      <div class=\"date\">\n        opened <span class=\"discourse-local-date\" data-format=\"ll\" data-date=\"2023-04-02\" data-time=\"15:06:33\" data-timezone=\"UTC\">03:06PM - 02 Apr 23 UTC</span>\n      </div>\n\n\n      <div class=\"user\">\n        <a href=\"https://github.com/queensferryme\" target=\"_blank\" rel=\"noopener nofollow ugc\">\n          <img alt=\"queensferryme\" src=\"https://forum.typst.app/uploads/default/original/1X/18806bfb7bb542751cfa132b29e641bc42db2b15.jpeg\" class=\"onebox-avatar-inline\" width=\"20\" height=\"20\" data-dominant-color=\"5A7C99\">\n          queensferryme\n        </a>\n      </div>\n    </div>\n\n    <div class=\"labels\">\n        <span style=\"display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;\">\n          bug\n        </span>\n        <span style=\"display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;\">\n          layout\n        </span>\n    </div>\n  </div>\n</div>\n\n  <div class=\"github-row\">\n    <p class=\"github-body-container\">Not sure if this a bug or actually an expected behavior. It seems the width of a<span class=\"show-more-container\"><a href=\"\" rel=\"noopener\" class=\"show-more\">…</a></span><span class=\"excerpt hidden\"> numbered list is not always 100% but instead restricted to the maximum width of its lines.\n\nTherefore, if you don't have a long (&gt;=100%) line in a numbered list, your math blocks in that list will not be placed at the horizontal center of the page. These math blocks are instead centered relative to the the parent numbered list. This is some what conterintuitive (at least from a previous LaTeX user's perspective).\n\nWith a long line:\n![](https://user-images.githubusercontent.com/41495669/229360499-58408e1e-e126-490d-8d4f-36f5cc95f179.png)\nWithout a long line:\n![](https://user-images.githubusercontent.com/41495669/229360573-c7c74075-eb5d-489b-b1af-aacc0b8f7ee7.png)\nTo reproduce:\n```\n= Question 1\n\n+ #set enum(numbering: \"(a)\")\n  + The constructed sequent is given as follows:\n    $ q arrow p, r arrow not p, q and r tack.long ((p and q) arrow not r) or ((p and r) arrow not q) $\n    //The constructed sequent has assumptions $X={A_1,A_2,A_3}$ and a conclusion $C$ where:\n    Without the long line:\n    $ A_1 &amp;= q arrow p\\\n      A_2 &amp;= r arrow not p\\\n      A_3 &amp;= q and r\\\n      C space &amp;= ((p and q) arrow not r) or ((p and r) arrow not q)\n    $\n```</span></p>\n  </div>\n\n  </article>\n\n  <div class=\"onebox-metadata\">\n    \n    \n  </div>\n\n  <div style=\"clear: both\"></div>\n</aside>\n\n<p>In the comments, there are a few workarounds.</p>\n<div class=\"spoiler\">\n<p>Here is one:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show math.equation.where(block: true): block.with(width: 100%)\n- This is my first equation: $ a + b + c = 100 $\n  - This is my second: $ d + e + f = 1 $\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/1X/3f2dcf4ba7975309798683380aba617e9293cf3b.png\" alt=\"image\" data-base62-sha1=\"90Ue6Myi1chLjMYLGxcrG7GJd6X\" width=\"655\" height=\"124\"></p>\n<p>But I would personally put the equation on a separate line, like I would do with a regular text:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show math.equation.where(block: true): block.with(width: 100%)\n- This is my first equation:\n\n  $ a + b + c = 100 $\n  - This is my second:\n\n    $ d + e + f = 1 $\n  - First paragraph\n\n    Second paragraph\n</code></pre>\n</div>\n<p>Edit:</p>\n<p>I guess this is a better solution:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show math.equation.where(block: true): eq =&gt; {\n  block(width: 100%, inset: 0pt, align(center, eq))\n}\n</code></pre>\n<p>Since the previous solution apparently <a href=\"https://github.com/typst/typst/issues/529#issuecomment-2387759630\" rel=\"noopener nofollow ugc\">breaks lists in automatically sized containers</a>.</p>",
      "raw": "This is a know issue:\n\nhttps://github.com/typst/typst/issues/529\n\nIn the comments, there are a few workarounds.\n[spoiler]\nHere is one:\n\n```typ\n#show math.equation.where(block: true): block.with(width: 100%)\n- This is my first equation: $ a + b + c = 100 $\n  - This is my second: $ d + e + f = 1 $\n```\n\n![image|655x124](upload://90Ue6Myi1chLjMYLGxcrG7GJd6X.png)\n\nBut I would personally put the equation on a separate line, like I would do with a regular text:\n\n```typ\n#show math.equation.where(block: true): block.with(width: 100%)\n- This is my first equation:\n\n  $ a + b + c = 100 $\n  - This is my second:\n\n    $ d + e + f = 1 $\n  - First paragraph\n\n    Second paragraph\n```\n[/spoiler]\n\nEdit:\n\nI guess this is a better solution:\n\n```typ\n#show math.equation.where(block: true): eq => {\n  block(width: 100%, inset: 0pt, align(center, eq))\n}\n```\n\nSince the previous solution apparently [breaks lists in automatically sized containers](https://github.com/typst/typst/issues/529#issuecomment-2387759630).",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 48,
      "score": 184.6,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 7799,
      "post_number": 4,
      "username": "sijo",
      "name": "",
      "created_at": "2025-01-23T10:45:35.252Z",
      "updated_at": "2025-01-23T10:46:06.718Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"Andrew\" data-post=\"3\" data-topic=\"846\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/andrew/48/62_2.png\" class=\"avatar\"> Andrew:</div>\n<blockquote>\n<pre><code class=\"lang-auto\">#show math.equation.where(block: true): eq =&gt; {\n  block(width: 100%, inset: 0pt, align(center, eq))\n}\n</code></pre>\n</blockquote>\n</aside>\n<p>Unfortunately this interferes with the CeTZ anchor calculation:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#import \"@preview/cetz:0.3.1\"\n\n#let fig = cetz.canvas({\n  import cetz.draw: *\n  line((0, 0), (1, 0))\n  content((), anchor: \"west\", $ O O O $)\n})\n\n#fig\n\n#show math.equation.where(block: true): eq =&gt; {\n  block(width: 100%, inset: 0pt, align(center, eq))\n}\n\n#fig\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/c/c8840c0558e6743d613b4ca185536cec0f92240e.png\" alt=\"image\" data-base62-sha1=\"sBQp0D1u4ELObcNmDPfYCM0WuJ0\" width=\"140\" height=\"94\"></p>\n<p>(I’m using block equations in CeTZ for the reasons mentioned in <a href=\"https://forum.typst.app/t/how-to-show-all-math-as-block-equations-by-default/890\" class=\"inline-onebox\">How to show all math as block equations by default?</a>)</p>",
      "raw": "[quote=\"Andrew, post:3, topic:846\"]\n```\n#show math.equation.where(block: true): eq => {\n  block(width: 100%, inset: 0pt, align(center, eq))\n}\n```\n[/quote]\n\nUnfortunately this interferes with the CeTZ anchor calculation:\n\n```typ\n#import \"@preview/cetz:0.3.1\"\n\n#let fig = cetz.canvas({\n  import cetz.draw: *\n  line((0, 0), (1, 0))\n  content((), anchor: \"west\", $ O O O $)\n})\n\n#fig\n\n#show math.equation.where(block: true): eq => {\n  block(width: 100%, inset: 0pt, align(center, eq))\n}\n\n#fig\n```\n\n![image|140x94](upload://sBQp0D1u4ELObcNmDPfYCM0WuJ0.png)\n\n(I'm using block equations in CeTZ for the reasons mentioned in https://forum.typst.app/t/how-to-show-all-math-as-block-equations-by-default/890?u=sijo)",
      "reply_to_post_number": 3,
      "reply_count": 0,
      "quote_count": 1,
      "like_count": 0,
      "reads": 27,
      "score": 25.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 332
    }
  ],
  "scraped_at": "2025-06-10T09:57:37.994659"
}