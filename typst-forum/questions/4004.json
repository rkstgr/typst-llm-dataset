{
  "topic_metadata": {
    "id": 4004,
    "title": "How to automatically split the box between multi-columns for text adaptation?",
    "slug": "how-to-automatically-split-the-box-between-multi-columns-for-text-adaptation",
    "posts_count": 4,
    "created_at": "2025-05-09T05:03:30.262Z",
    "last_posted_at": "2025-05-13T17:18:17.122Z",
    "views": 44,
    "like_count": 0,
    "reply_count": 2,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "janekfleper",
    "tags": [
      "layout"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 338
  },
  "posts": [
    {
      "id": 12160,
      "post_number": 1,
      "username": "Zhihao_Li",
      "name": "Zhihao Li",
      "created_at": "2025-05-09T05:03:30.366Z",
      "updated_at": "2025-05-09T05:04:51.899Z",
      "cooked": "<h1><a name=\"p-12160-function-1\" class=\"anchor\" href=\"#p-12160-function-1\"></a>Function</h1>\n<p>I have defined a concept box which can include the texts in the color box. Th codes are as follows.</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#let concept-box(color: color, body: content) = box(\n  stroke: color,\n  fill: white,\n  radius: 3pt,\n  inset: 6pt,\n  width: auto,\n)[\n  #body\n]\n</code></pre>\n<h1><a name=\"p-12160-problom-2\" class=\"anchor\" href=\"#p-12160-problom-2\"></a>Problom</h1>\n<p>However, as shown in the following figure, the second box is just unbreakable between multi-columns, resulting that the whole box is displayed in the second column with much empty space in the first column.</p>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/f/fefff11b5d40d206bd2df3cbb5a7a5a5bf9b25e8.png\" data-download-href=\"https://forum.typst.app/uploads/default/fefff11b5d40d206bd2df3cbb5a7a5a5bf9b25e8\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/f/fefff11b5d40d206bd2df3cbb5a7a5a5bf9b25e8_2_393x500.png\" alt=\"image\" data-base62-sha1=\"AnPD4Xw0XQjOipfLr36ZlJffEYE\" width=\"393\" height=\"500\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/f/fefff11b5d40d206bd2df3cbb5a7a5a5bf9b25e8_2_393x500.png, https://forum.typst.app/uploads/default/optimized/2X/f/fefff11b5d40d206bd2df3cbb5a7a5a5bf9b25e8_2_589x750.png 1.5x, https://forum.typst.app/uploads/default/original/2X/f/fefff11b5d40d206bd2df3cbb5a7a5a5bf9b25e8.png 2x\" data-dominant-color=\"F5F4F6\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">599×761 87.4 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>The usage of concept box is shown as the following codes.</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#concept-box(body: [\n  #inline(\"FLAME Model\", color-box.at(0))\n  The pretrained parameters of FLAME are included in the file of `flame2023.pkl`.\n  The pretrained parameters especially the `shapedirs` are used to generate relatively common 3D face. Through the finetuning, also means tracking, the `posedirs` and `shapedirs` will be updated by blendshape coefficients for fitting the target face. \n\n  #inline(\"Landmark Embeddings\", color-box.at(0))\n  Using the pretrained model of `landmark_embedding_with_eyes.npy`, we can extract the mesh index of each landmark. In FLAME, it uses the 70 landmarks to keep the face more accurate.\n  - `full_lmk_faces_idx`: record the mesh index of each landmark.\n  - `full_lmk_bary_coords`: the weights of three vertices in a triangle mesh to calculate the landmark position using barycentric coordinates.\n], color: color-box.at(0))\n</code></pre>\n<h1><a name=\"p-12160-desiration-3\" class=\"anchor\" href=\"#p-12160-desiration-3\"></a>Desiration</h1>\n<p>So, how to split the box into two parts in order to it can adapt to the two columns? That is, just make the second box use the left space in the first column.</p>\n<p>Thanks for your help.</p>",
      "raw": "# Function\n\nI have defined a concept box which can include the texts in the color box. Th codes are as follows.\n```typst\n#let concept-box(color: color, body: content) = box(\n  stroke: color,\n  fill: white,\n  radius: 3pt,\n  inset: 6pt,\n  width: auto,\n)[\n  #body\n]\n```\n\n# Problom\n\nHowever, as shown in the following figure, the second box is just unbreakable between multi-columns, resulting that the whole box is displayed in the second column with much empty space in the first column.\n\n![image|393x500](upload://AnPD4Xw0XQjOipfLr36ZlJffEYE.png)\n\nThe usage of concept box is shown as the following codes.\n```typst\n#concept-box(body: [\n  #inline(\"FLAME Model\", color-box.at(0))\n  The pretrained parameters of FLAME are included in the file of `flame2023.pkl`.\n  The pretrained parameters especially the `shapedirs` are used to generate relatively common 3D face. Through the finetuning, also means tracking, the `posedirs` and `shapedirs` will be updated by blendshape coefficients for fitting the target face. \n\n  #inline(\"Landmark Embeddings\", color-box.at(0))\n  Using the pretrained model of `landmark_embedding_with_eyes.npy`, we can extract the mesh index of each landmark. In FLAME, it uses the 70 landmarks to keep the face more accurate.\n  - `full_lmk_faces_idx`: record the mesh index of each landmark.\n  - `full_lmk_bary_coords`: the weights of three vertices in a triangle mesh to calculate the landmark position using barycentric coordinates.\n], color: color-box.at(0))\n```\n\n# Desiration\n\nSo, how to split the box into two parts in order to it can adapt to the two columns? That is, just make the second box use the left space in the first column.\n\nThanks for your help.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 19,
      "score": 38.8,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 1573
    },
    {
      "id": 12166,
      "post_number": 2,
      "username": "janekfleper",
      "name": "Janek Fleper",
      "created_at": "2025-05-09T08:36:05.948Z",
      "updated_at": "2025-05-09T08:36:50.755Z",
      "cooked": "<p>The splitting will work if you use <a href=\"https://typst.app/docs/reference/layout/block/\"><code>block()</code></a> instead of <a href=\"https://typst.app/docs/reference/layout/box/\"><code>box()</code></a>. A block is breakable by default (you can also disable this) and will correctly split between the two columns.</p>",
      "raw": "The splitting will work if you use [`block()`](https://typst.app/docs/reference/layout/block/) instead of [`box()`](https://typst.app/docs/reference/layout/box/). A block is breakable by default (you can also disable this) and will correctly split between the two columns.",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 16,
      "score": 8.2,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 69
    },
    {
      "id": 12174,
      "post_number": 3,
      "username": "Zhihao_Li",
      "name": "Zhihao Li",
      "created_at": "2025-05-09T10:24:41.050Z",
      "updated_at": "2025-05-09T10:24:41.050Z",
      "cooked": "<p>Very appreciated. <code>block()</code> works well.</p>",
      "raw": "Very appreciated. `block()` works well.",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 14,
      "score": 12.8,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 1573
    },
    {
      "id": 12391,
      "post_number": 4,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2025-05-13T17:18:17.122Z",
      "updated_at": "2025-05-13T17:18:17.122Z",
      "cooked": "<p>Hi <a class=\"mention\" href=\"/u/zhihao_li\">@Zhihao_Li</a>, glad you got a satisfying answer! I’ve marked it <img src=\"https://forum.typst.app/images/emoji/apple/white_check_mark.png?v=12\" title=\":white_check_mark:\" class=\"emoji\" alt=\":white_check_mark:\" loading=\"lazy\" width=\"20\" height=\"20\"> as the solution, so that others can more easily find it later – don’t forget next time <img src=\"https://forum.typst.app/images/emoji/apple/slight_smile.png?v=12\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>",
      "raw": "Hi @Zhihao_Li, glad you got a satisfying answer! I've marked it :white_check_mark: as the solution, so that others can more easily find it later -- don't forget next time :slight_smile:",
      "reply_to_post_number": 3,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 9,
      "score": 1.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 32
    }
  ],
  "scraped_at": "2025-06-10T09:48:08.245730"
}