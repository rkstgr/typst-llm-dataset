{
  "topic_metadata": {
    "id": 667,
    "title": "How to have different supplements for the same heading depending on the location?",
    "slug": "how-to-have-different-supplements-for-the-same-heading-depending-on-the-location",
    "posts_count": 5,
    "created_at": "2024-09-25T12:05:23.898Z",
    "last_posted_at": "2024-09-25T12:32:47.320Z",
    "views": 237,
    "like_count": 5,
    "reply_count": 2,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 4,
    "accepted_answer_username": "Eric",
    "tags": [],
    "category_id": 5,
    "participant_count": 4,
    "word_count": 303
  },
  "posts": [
    {
      "id": 2562,
      "post_number": 1,
      "username": "talb",
      "name": "talb",
      "created_at": "2024-09-25T12:05:24.034Z",
      "updated_at": "2024-09-25T12:05:24.034Z",
      "cooked": "<p>In my PhD thesis, I have to do a small introduction in French, but the rest of the document is in English. In this introduction, I must have French supplements for the headings I’m referring to, however the following solution does not work. It seems that the supplement that is chosen when we do a reference is the one applied at the location of the heading. Is there a simple solution to fix this?</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set heading(numbering: \"1.\", supplement: [Chapitre])\n\n= C'est une introduction en français\n// It's displaying \"Chapter 2\", but I want \"Chapitre 2\"\nDans cette thèse on va voir @chap.\n\n#set heading(supplement: [Chapter])\n\n= This is a chapter in English &lt;chap&gt;\nThis is @chap.\n</code></pre>",
      "raw": "In my PhD thesis, I have to do a small introduction in French, but the rest of the document is in English. In this introduction, I must have French supplements for the headings I'm referring to, however the following solution does not work. It seems that the supplement that is chosen when we do a reference is the one applied at the location of the heading. Is there a simple solution to fix this?\n\n```typ\n#set heading(numbering: \"1.\", supplement: [Chapitre])\n\n= C'est une introduction en français\n// It's displaying \"Chapter 2\", but I want \"Chapitre 2\"\nDans cette thèse on va voir @chap.\n\n#set heading(supplement: [Chapter])\n\n= This is a chapter in English <chap>\nThis is @chap.\n```",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 47,
      "score": 1009.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 341
    },
    {
      "id": 2565,
      "post_number": 2,
      "username": "xkevio",
      "name": "Kevio",
      "created_at": "2024-09-25T12:15:41.678Z",
      "updated_at": "2024-09-25T12:15:41.678Z",
      "cooked": "<p>Not sure how to properly fix it with the <code>set</code>-rules but in the meantime, you can manually change the supplement where needed with <code>@chap[Chapitre]</code>.</p>",
      "raw": "Not sure how to properly fix it with the `set`-rules but in the meantime, you can manually change the supplement where needed with `@chap[Chapitre]`.",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 46,
      "score": 14.2,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 21
    },
    {
      "id": 2566,
      "post_number": 3,
      "username": "talb",
      "name": "talb",
      "created_at": "2024-09-25T12:18:57.129Z",
      "updated_at": "2024-09-25T12:18:57.129Z",
      "cooked": "<p>Yes that’s what I do currently, I’m just asking in case there is a more general solution. I also understand that this is the correct behaviour for referencing headings, as when we redefine the supplement to “Appendix” at the start of the appendix, we want the references to appendices in the body of the document to display “Appendix”, not “Chapter”.</p>",
      "raw": "Yes that's what I do currently, I'm just asking in case there is a more general solution. I also understand that this is the correct behaviour for referencing headings, as when we redefine the supplement to \"Appendix\" at the start of the appendix, we want the references to appendices in the body of the document to display \"Appendix\", not \"Chapter\".",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 45,
      "score": 34.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 341
    },
    {
      "id": 2567,
      "post_number": 4,
      "username": "Eric",
      "name": "Eric Biedert",
      "created_at": "2024-09-25T12:26:26.987Z",
      "updated_at": "2024-09-25T12:26:26.987Z",
      "cooked": "<p>You can use contextual content as the supplement</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set heading(numbering: \"1.\", supplement: context {\n  if text.lang == \"fr\" [ Chapitre ] else [ Chapter ]\n})\n</code></pre>\n<p>and then wrap any French chapters in a to <code>text(lang: \"fr\")[ ... ]</code>. If French is the default language of your document, and only some parts are in English, you can of course do the same with <code>\"en\"</code> instead of <code>\"fr\"</code>.</p>",
      "raw": "You can use contextual content as the supplement\n```typ\n#set heading(numbering: \"1.\", supplement: context {\n  if text.lang == \"fr\" [ Chapitre ] else [ Chapter ]\n})\n```\n\nand then wrap any French chapters in a to `text(lang: \"fr\")[ ... ]`. If French is the default language of your document, and only some parts are in English, you can of course do the same with `\"en\"` instead of `\"fr\"`.",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 4,
      "reads": 43,
      "score": 103.6,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 88
    },
    {
      "id": 2568,
      "post_number": 5,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2024-09-25T12:32:47.320Z",
      "updated_at": "2024-09-25T12:32:47.320Z",
      "cooked": "<p>If you do no want to wrap the whole chapter, you can also set the lang at the beginning, and set it back to another language at the end.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set text(lang: \"fr\")\n</code></pre>",
      "raw": "If you do no want to wrap the whole chapter, you can also set the lang at the beginning, and set it back to another language at the end.\n```typ\n#set text(lang: \"fr\")\n```",
      "reply_to_post_number": 4,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 40,
      "score": 23.0,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 258
    }
  ],
  "scraped_at": "2025-06-10T09:58:05.984643"
}