{
  "topic_metadata": {
    "id": 4420,
    "title": "How to properly reference local packages in Windows?",
    "slug": "how-to-properly-reference-local-packages-in-windows",
    "posts_count": 4,
    "created_at": "2025-06-01T18:07:01.670Z",
    "last_posted_at": "2025-06-04T13:42:55.155Z",
    "views": 60,
    "like_count": 1,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 4,
    "accepted_answer_username": "Mike_Wood",
    "tags": [
      "packages"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 684
  },
  "posts": [
    {
      "id": 13544,
      "post_number": 1,
      "username": "Mike_Wood",
      "name": "Mike Wood",
      "created_at": "2025-06-01T18:07:01.742Z",
      "updated_at": "2025-06-01T18:07:01.742Z",
      "cooked": "<p>I have created a simple local Typst package here:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">C:\\Users\\User\\AppData\\Roaming\\typst\\packages\\local\\shorthand\\0.1.0\n</code></pre>\n<p>Files include <code>typst.toml</code>:</p>\n<pre data-code-wrap=\"toml\"><code class=\"lang-toml\">[package]\nname = \"shorthand\"\nversion = \"0.1.0\"\nentrypoint = \"main.typ\"\nauthors = [\"mikewood1980\"]\nlicense = \"MIT\"\ndescription = \"Shortland tools.\"\n</code></pre>\n<p>And a basic function definition in the <code>main.typ</code> file:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">// main.typ\n\n#let foo = \"This is bar\"\n</code></pre>\n<p>I am then testing this package on my desktop, using a new file  (<code>new.typ</code>) in which I have tried to import this local package:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">// local typst file on desktop\n\n#import \"@local/shorthand:0.1.0\"\n</code></pre>\n<p>However, I am getting the following error (using Tinymist in VS Code on W10):</p>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/3/30dbad755d21c9418baa22fc5ec4a02983197473.png\" data-download-href=\"https://forum.typst.app/uploads/default/30dbad755d21c9418baa22fc5ec4a02983197473\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/3/30dbad755d21c9418baa22fc5ec4a02983197473_2_690x98.png\" alt=\"image\" data-base62-sha1=\"6YdzGDLhHXot3NqOAgz0klJtT1h\" width=\"690\" height=\"98\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/3/30dbad755d21c9418baa22fc5ec4a02983197473_2_690x98.png, https://forum.typst.app/uploads/default/optimized/2X/3/30dbad755d21c9418baa22fc5ec4a02983197473_2_1035x147.png 1.5x, https://forum.typst.app/uploads/default/original/2X/3/30dbad755d21c9418baa22fc5ec4a02983197473.png 2x\" data-dominant-color=\"3F4040\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">1210×172 34.2 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>I appears that it knows the right location for the file, but is getting backslashes the wrong way in places, which I assume is the cause of the package not being found.</p>\n<p>It this likely to be a mistake that I have made, a problem with Tinymist, or some other bug?</p>",
      "raw": "I have created a simple local Typst package here:\n\n```\nC:\\Users\\User\\AppData\\Roaming\\typst\\packages\\local\\shorthand\\0.1.0\n```\n\nFiles include `typst.toml`:\n\n```toml\n[package]\nname = \"shorthand\"\nversion = \"0.1.0\"\nentrypoint = \"main.typ\"\nauthors = [\"mikewood1980\"]\nlicense = \"MIT\"\ndescription = \"Shortland tools.\"\n```\n\nAnd a basic function definition in the `main.typ` file:\n\n```typ\n// main.typ\n\n#let foo = \"This is bar\"\n```\n\nI am then testing this package on my desktop, using a new file  (`new.typ`) in which I have tried to import this local package:\n\n```typ\n// local typst file on desktop\n\n#import \"@local/shorthand:0.1.0\"\n```\n\nHowever, I am getting the following error (using Tinymist in VS Code on W10): \n\n![image|690x98](upload://6YdzGDLhHXot3NqOAgz0klJtT1h.png)\n\nI appears that it knows the right location for the file, but is getting backslashes the wrong way in places, which I assume is the cause of the package not being found.\n\nIt this likely to be a mistake that I have made, a problem with Tinymist, or some other bug?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 18,
      "score": 43.6,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 1688
    },
    {
      "id": 13545,
      "post_number": 2,
      "username": "vmartel08",
      "name": "Vincent Martel",
      "created_at": "2025-06-01T18:40:49.425Z",
      "updated_at": "2025-06-02T14:40:57.887Z",
      "cooked": "<p>Hi there,</p>\n<p>Your description fits <a href=\"https://github.com/typst/packages\" class=\"inline-onebox\">GitHub - typst/packages: Packages for Typst.</a> and I was able to reproduce it without any error on Windows 11 with Tinymist 0.13.12 installed in VSCode 1.100.2.</p>\n<p>So to answer your question, you are properly referencing the local package in Windows, as far as you are describing.</p>\n<p>There is no issue with the slashes or backslashes (although I agree it looks weird).</p>\n<p>The issue is most likely the way your files are on your filesystem. Perhaps you should try to recreate your own package, let’s say <code>shorthand2</code> step by step and see?</p>",
      "raw": "Hi there, \n\nYour description fits https://github.com/typst/packages and I was able to reproduce it without any error on Windows 11 with Tinymist 0.13.12 installed in VSCode 1.100.2. \n\nSo to answer your question, you are properly referencing the local package in Windows, as far as you are describing. \n\nThere is no issue with the slashes or backslashes (although I agree it looks weird). \n\nThe issue is most likely the way your files are on your filesystem. Perhaps you should try to recreate your own package, let's say `shorthand2` step by step and see?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 18,
      "score": 3.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 936
    },
    {
      "id": 13561,
      "post_number": 3,
      "username": "vmartel08",
      "name": "Vincent Martel",
      "created_at": "2025-06-02T07:57:37.031Z",
      "updated_at": "2025-06-02T14:31:02.628Z",
      "cooked": "<p>Hi there,</p>\n<p>You seem to be going down the proper route. At least I could reproduce your setup without errors.</p>\n<p>I wouldn’t worry too much about the mix of slashes and backslashes as Windows supports both. The output of Tinymist in VSCode contains many entries where it doesn’t cause any problems.</p>\n<p>A few pointers:</p>\n<ul>\n<li>\n<p>I’m sure you would know but… Save everything. Reboot. <img src=\"https://forum.typst.app/images/emoji/apple/slight_smile.png?v=12\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"> Reopen your files. Check the error is still present.</p>\n</li>\n<li>\n<p>Perhaps Update VSCode and Tinymist, especially if you haven’t done so in a while?</p>\n</li>\n<li>\n<p>You mention a file <code>new.typ</code> but the screenshot of the error mentions <code>test.typ</code>. Is that a leftover issue from a previous test or did you end up naming the files differently? Worth eliminating IMO.</p>\n</li>\n<li>\n<p>Although it looks like it is the case, I would verify that <code>cd %APPDATA%</code> points to <code>C:\\Users\\User\\AppData\\Roaming\\</code>.</p>\n</li>\n<li>\n<p>Verify that your <code>typst.toml</code> file contains <code>entrypoint = \"main.typ\"</code> and not something else…</p>\n<ul>\n<li><strong>Note:</strong> <strong>The screenshot of the error you have provided indicates <code>file not found</code> but for the file <code>typst.toml</code> and I would have expected <code>main.typ</code> to show up there. This is where I would concentrate.</strong></li>\n</ul>\n</li>\n</ul>\n<p>If it doesn’t work, perhaps you could upload your files here:</p>\n<ul>\n<li>main.typ</li>\n<li>typst.toml</li>\n<li>new.typ<br>\nand indicate your version of Tinymist and VSCode.</li>\n</ul>\n<p>Finally, there is a <a href=\"https://discord.com/channels/1054443721975922748/1260973804637786224\" class=\"inline-onebox\">Discord</a> channel for Tinymist and also you could open an issue on <a href=\"https://github.com/Myriad-Dreamin/tinymist/issues\" class=\"inline-onebox\">GitHub · Where software is built</a> if the problem persists.</p>\n<p>EDIT: Out of curiosity, do you see your package in Tinymist like this?</p>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/3/343a4eb6aaf898e5d596aacbb0f88ab580023b42.png\" data-download-href=\"https://forum.typst.app/uploads/default/343a4eb6aaf898e5d596aacbb0f88ab580023b42\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/original/2X/3/343a4eb6aaf898e5d596aacbb0f88ab580023b42.png\" alt=\"image\" data-base62-sha1=\"7s1KBlHL2S55rKGShRFpj0geuci\" width=\"334\" height=\"461\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">334×461 21.5 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>Please come back with your findings!</p>",
      "raw": "Hi there, \n\nYou seem to be going down the proper route. At least I could reproduce your setup without errors. \n\nI wouldn't worry too much about the mix of slashes and backslashes as Windows supports both. The output of Tinymist in VSCode contains many entries where it doesn't cause any problems.  \n\nA few pointers:\n- I'm sure you would know but... Save everything. Reboot. :slight_smile: Reopen your files. Check the error is still present. \n\n- Perhaps Update VSCode and Tinymist, especially if you haven't done so in a while?\n\n- You mention a file `new.typ` but the screenshot of the error mentions `test.typ`. Is that a leftover issue from a previous test or did you end up naming the files differently? Worth eliminating IMO. \n\n- Although it looks like it is the case, I would verify that `cd %APPDATA%` points to `C:\\Users\\User\\AppData\\Roaming\\`.\n\n- Verify that your `typst.toml` file contains `entrypoint = \"main.typ\"` and not something else... \n  - **Note:** **The screenshot of the error you have provided indicates `file not found` but for the file `typst.toml` and I would have expected `main.typ` to show up there. This is where I would concentrate.** \n\nIf it doesn't work, perhaps you could upload your files here:\n- main.typ\n- typst.toml\n- new.typ\nand indicate your version of Tinymist and VSCode. \n\nFinally, there is a https://discord.com/channels/1054443721975922748/1260973804637786224 channel for Tinymist and also you could open an issue on https://github.com/Myriad-Dreamin/tinymist/issues if the problem persists. \n\nEDIT: Out of curiosity, do you see your package in Tinymist like this?\n\n![image|334x461](upload://7s1KBlHL2S55rKGShRFpj0geuci.png)\n\n\nPlease come back with your findings!",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 16,
      "score": 3.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 936
    },
    {
      "id": 13690,
      "post_number": 4,
      "username": "Mike_Wood",
      "name": "Mike Wood",
      "created_at": "2025-06-04T13:42:55.155Z",
      "updated_at": "2025-06-04T13:43:48.581Z",
      "cooked": "<p>Hi</p>\n<p>Thanks so much for you help, and apologies for the slow response. Work is very busy at the moment!</p>\n<p>Thank you for all your suggestions. In the end, it was quite trivial, but you were right that I should look at the location of the files more closely.</p>\n<p>I had originally created the TOML file using ‘create new’ text document:</p>\n<p>In Windows Explorer:  &gt; new &gt; text document</p>\n<p>I then saved this as <code>typst.toml</code>, but since windows thought I was saving a text document, it saved it as <code>typst.toml.txt</code>. The <code>.txt</code> extension was hidden in Windows Explorer, so missed that it was <strong>not</strong> formatted as TOML file. Once I changed this, the problem was solved!</p>\n<p>Thanks again. I would not have gotten to the bottom of this so quickly without<br>\nyour help.</p>",
      "raw": "Hi \n\nThanks so much for you help, and apologies for the slow response. Work is very busy at the moment!\n\nThank you for all your suggestions. In the end, it was quite trivial, but you were right that I should look at the location of the files more closely.\n\nI had originally created the TOML file using 'create new' text document:\n\nIn Windows Explorer: <right-click> > new > text document\n\nI then saved this as `typst.toml`, but since windows thought I was saving a text document, it saved it as `typst.toml.txt`. The `.txt` extension was hidden in Windows Explorer, so missed that it was **not** formatted as TOML file. Once I changed this, the problem was solved!\n\nThanks again. I would not have gotten to the bottom of this so quickly without \nyour help.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 10,
      "score": 17.0,
      "accepted_answer": true,
      "trust_level": 0,
      "user_id": 1688
    }
  ],
  "scraped_at": "2025-06-10T09:46:54.644020"
}