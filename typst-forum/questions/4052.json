{
  "topic_metadata": {
    "id": 4052,
    "title": "How can I align the top of all letters in a given word?",
    "slug": "how-can-i-align-the-top-of-all-letters-in-a-given-word",
    "posts_count": 6,
    "created_at": "2025-05-12T15:07:23.319Z",
    "last_posted_at": "2025-05-13T09:22:08.379Z",
    "views": 64,
    "like_count": 0,
    "reply_count": 4,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 6,
    "accepted_answer_username": "Andrew",
    "tags": [
      "text-formatting",
      "alignment"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 347
  },
  "posts": [
    {
      "id": 12346,
      "post_number": 1,
      "username": "Mathieu",
      "name": "Mathieu",
      "created_at": "2025-05-12T15:07:23.511Z",
      "updated_at": "2025-05-13T19:30:05.378Z",
      "cooked": "<p>I’d like to typeset “FooBar” in an otherwise normal text paragraph, but vertically aligning the top of each glyph instead of the bottom. Is there a simple way to achieve this in a manner which will not depend on the font size and family currently in use?</p>",
      "raw": "I'd like to typeset \"FooBar\" in an otherwise normal text paragraph, but vertically aligning the top of each glyph instead of the bottom. Is there a simple way to achieve this in a manner which will not depend on the font size and family currently in use?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 28,
      "score": 5.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1200
    },
    {
      "id": 12348,
      "post_number": 2,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-05-12T15:49:32.495Z",
      "updated_at": "2025-05-12T15:49:32.495Z",
      "cooked": "<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#import \"@preview/t4t:0.4.2\": get\n\n#let glyph-wise-top-align(body) = {\n  set text(top-edge: \"bounds\")\n  context {\n    let clusters = get.text(body).clusters()\n    let max-height = calc.max(..clusters.map(c =&gt; measure(c).height))\n    clusters.map(c =&gt; box(height: max-height, c)).join()\n  }\n}\n\n#glyph-wise-top-align[FooBar]\n\n#glyph-wise-top-align[(more, complex --- text)]\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/1/18b801f4d8309c0958f4ab1333e3b3b0af655b30.png\" alt=\"image\" data-base62-sha1=\"3wFH18YbkFXmloAbUEDQFtCZqUw\" width=\"219\" height=\"79\"></p>",
      "raw": "```typ\n#import \"@preview/t4t:0.4.2\": get\n\n#let glyph-wise-top-align(body) = {\n  set text(top-edge: \"bounds\")\n  context {\n    let clusters = get.text(body).clusters()\n    let max-height = calc.max(..clusters.map(c => measure(c).height))\n    clusters.map(c => box(height: max-height, c)).join()\n  }\n}\n\n#glyph-wise-top-align[FooBar]\n\n#glyph-wise-top-align[(more, complex --- text)]\n```\n\n![image|219x79](upload://3wFH18YbkFXmloAbUEDQFtCZqUw.png)",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 29,
      "score": 10.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 12359,
      "post_number": 3,
      "username": "Mathieu",
      "name": "Mathieu",
      "created_at": "2025-05-12T20:04:51.997Z",
      "updated_at": "2025-05-12T20:04:51.997Z",
      "cooked": "<p>Thanks, but this seems to ignore any resizing of glyphs:</p>\n<p><code>FOO#text(size: 0.5em)[B]AR</code> yields:</p>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/b/bfebf20c8a648dfe0468c9d92ffe2663cffc14f9.png\" alt=\"foobar1\" data-base62-sha1=\"rnOHSExVj822AsrUgi4u1PhZnrb\" width=\"155\" height=\"33\"></p>\n<p>While <code>#glyph-wise-top-align[FOO#text(size: 0.5em)[B]AR]</code> yields:</p>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/6/6c252e2881a5ac6b7f0c4c45144abaa033a171e4.png\" alt=\"foobar2\" data-base62-sha1=\"fqHdXQnVbKcVqi8kSl2bUSz9SyE\" width=\"163\" height=\"30\"></p>",
      "raw": "Thanks, but this seems to ignore any resizing of glyphs:\n\n`FOO#text(size: 0.5em)[B]AR` yields:\n\n![foobar1|310x67, 50%](upload://rnOHSExVj822AsrUgi4u1PhZnrb.png)\n\nWhile `#glyph-wise-top-align[FOO#text(size: 0.5em)[B]AR]` yields:\n\n![foobar2|327x60, 50%](upload://fqHdXQnVbKcVqi8kSl2bUSz9SyE.png)",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 26,
      "score": 10.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1200
    },
    {
      "id": 12368,
      "post_number": 4,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-05-13T06:15:05.152Z",
      "updated_at": "2025-05-13T06:15:05.152Z",
      "cooked": "<p>Show me how you actually want to use it. Changing font size for just a single glyph doesn’t look practical. You would have to create a custom parsing function that handles <code>styled</code> element for individual glyphs or a group of them.</p>",
      "raw": "Show me how you actually want to use it. Changing font size for just a single glyph doesn't look practical. You would have to create a custom parsing function that handles `styled` element for individual glyphs or a group of them.",
      "reply_to_post_number": 3,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 22,
      "score": 9.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 12374,
      "post_number": 5,
      "username": "Mathieu",
      "name": "Mathieu",
      "created_at": "2025-05-13T08:16:35.283Z",
      "updated_at": "2025-05-13T08:16:35.283Z",
      "cooked": "<p>I want to define a logotype, something along the lines of <code>\\LaTeX</code>, that would look like this:</p>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/b/bfebf20c8a648dfe0468c9d92ffe2663cffc14f9.png\" alt=\"foobar1\" data-base62-sha1=\"rnOHSExVj822AsrUgi4u1PhZnrb\" width=\"155\" height=\"33\"></p>\n<p>but with the top of the smaller “B” aligned with the top of the other glyphs.</p>\n<p>In documents, I would then use <code>#mylogo</code> to insert the logotype, and the output would ideally pick up the current font size and family.</p>",
      "raw": "I want to define a logotype, something along the lines of `\\LaTeX`, that would look like this:\n\n![foobar1|310x67, 50%](upload://rnOHSExVj822AsrUgi4u1PhZnrb.png)\n\nbut with the top of the smaller \"B\" aligned with the top of the other glyphs.\n\nIn documents, I would then use `#mylogo` to insert the logotype, and the output would ideally pick up the current font size and family.",
      "reply_to_post_number": 4,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 21,
      "score": 9.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1200
    },
    {
      "id": 12375,
      "post_number": 6,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-05-13T09:22:08.379Z",
      "updated_at": "2025-05-13T16:29:50.691Z",
      "cooked": "<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let glyph-wise-top-align(body) = {\n  let clusters = body\n    .children\n    .map(x =&gt; if x.func() == text { x.text.clusters() } else { x })\n    .flatten()\n  set text(top-edge: \"bounds\", weight: \"bold\")\n  context {\n    let max-height = calc.max(..clusters.map(c =&gt; measure(c).height))\n    clusters.map(box.with(height: max-height)).join()\n  }\n}\n\n#let small = text.with(0.5em)\n#let my-logo = glyph-wise-top-align[FOO#small[B]AR]\n\n#my-logo\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/7/7da6b098f82c40d95311c4b661bb3939fe8c30ed.png\" alt=\"image\" data-base62-sha1=\"hVyOxlZfodUDfNR7SbpztaqbqA5\" width=\"107\" height=\"34\"></p>\n<hr>\n<p>There is <a href=\"https://typst.app/universe/package/metalogo\" class=\"inline-onebox\">metalogo – Typst Universe</a>, but AFAIK it’s not perfect.</p>",
      "raw": "```typ\n#let glyph-wise-top-align(body) = {\n  let clusters = body\n    .children\n    .map(x => if x.func() == text { x.text.clusters() } else { x })\n    .flatten()\n  set text(top-edge: \"bounds\", weight: \"bold\")\n  context {\n    let max-height = calc.max(..clusters.map(c => measure(c).height))\n    clusters.map(box.with(height: max-height)).join()\n  }\n}\n\n#let small = text.with(0.5em)\n#let my-logo = glyph-wise-top-align[FOO#small[B]AR]\n\n#my-logo\n```\n\n![image|107x34](upload://hVyOxlZfodUDfNR7SbpztaqbqA5.png)\n\n---\n\nThere is https://typst.app/universe/package/metalogo, but AFAIK it's not perfect.",
      "reply_to_post_number": 5,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 21,
      "score": 9.2,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 51
    }
  ],
  "scraped_at": "2025-06-10T09:47:55.696425"
}