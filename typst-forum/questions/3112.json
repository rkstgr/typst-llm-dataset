{
  "topic_metadata": {
    "id": 3112,
    "title": "How to add padding between table cells under a rowspan cell?",
    "slug": "how-to-add-padding-between-table-cells-under-a-rowspan-cell",
    "posts_count": 6,
    "created_at": "2025-03-05T09:47:45.237Z",
    "last_posted_at": "2025-03-06T16:26:53.363Z",
    "views": 87,
    "like_count": 2,
    "reply_count": 3,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 4,
    "accepted_answer_username": "janekfleper",
    "tags": [
      "tables"
    ],
    "category_id": 5,
    "participant_count": 4,
    "word_count": 453
  },
  "posts": [
    {
      "id": 9401,
      "post_number": 1,
      "username": "Mathieu",
      "name": "Mathieu",
      "created_at": "2025-03-05T09:47:45.534Z",
      "updated_at": "2025-03-06T16:26:26.080Z",
      "cooked": "<p>I’m trying to produce publication-quality tables looking like this:</p>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/2/20458e70108f023ddf6274011cd87866061b990b.png\" data-download-href=\"https://forum.typst.app/uploads/default/20458e70108f023ddf6274011cd87866061b990b\" title=\"Screenshot 2025-03-05 at 10.42.40\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/2/20458e70108f023ddf6274011cd87866061b990b_2_690x332.png\" alt=\"Screenshot 2025-03-05 at 10.42.40\" data-base62-sha1=\"4BuiMx9cXuDxu2WthHSLInzi5nB\" width=\"690\" height=\"332\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/2/20458e70108f023ddf6274011cd87866061b990b_2_690x332.png, https://forum.typst.app/uploads/default/optimized/2X/2/20458e70108f023ddf6274011cd87866061b990b_2_1035x498.png 1.5x, https://forum.typst.app/uploads/default/original/2X/2/20458e70108f023ddf6274011cd87866061b990b.png 2x\" data-dominant-color=\"E1E1E1\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">Screenshot 2025-03-05 at 10.42.40</span><span class=\"informations\">1142×550 71.3 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>So far I was able to merge some cells and fiddle with conditional rule widths, to some extent, but when I set a non-zero stroke at the bottom of my merged cells (under “Bar” and “Baz”) I can’t find a way to leave some empty padding to visually separate the merged cells. Any pointers would be helpful, thanks.</p>",
      "raw": "I'm trying to produce publication-quality tables looking like this:\n\n![Screenshot 2025-03-05 at 10.42.40|690x332](upload://4BuiMx9cXuDxu2WthHSLInzi5nB.png)\n\nSo far I was able to merge some cells and fiddle with conditional rule widths, to some extent, but when I set a non-zero stroke at the bottom of my merged cells (under \"Bar\" and \"Baz\") I can't find a way to leave some empty padding to visually separate the merged cells. Any pointers would be helpful, thanks.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 21,
      "score": 179.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1200
    },
    {
      "id": 9402,
      "post_number": 2,
      "username": "Electron_Wizard",
      "name": "Electron Wizard",
      "created_at": "2025-03-05T09:50:48.790Z",
      "updated_at": "2025-03-05T09:50:48.790Z",
      "cooked": "<p>Could you provide a working example please?</p>",
      "raw": "Could you provide a working example please?",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 21,
      "score": 9.2,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 997
    },
    {
      "id": 9406,
      "post_number": 3,
      "username": "Mathieu",
      "name": "Mathieu",
      "created_at": "2025-03-05T10:54:00.808Z",
      "updated_at": "2025-03-05T10:54:32.605Z",
      "cooked": "<p>Here it is:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let tabledata = (\n\t([123], [234], [345], [456], [567], [678]),\n\t([123], [234], [345], [456], [567], [678]),\n\t([123], [234], [345], [456], [567], [678]),\n\t([123], [234], [345], [456], [567], [678]),\n)\n\n#let framing(stroke) = (x, y) =&gt; {\n\t(\n\t\tleft: 0pt,\n\t\tright: 0pt,\n\t\ttop: {\n\t\t\tif y in (0, 2, -1) { stroke }\n\t\t\telse if (y == 1) { stroke * 0 }\n\t\t\telse { stroke * 0.5 }\n\t\t},\n\t\tbottom: stroke,\n\t)\n}\n\n#align(center)[\n\t#table(\n\t\tcolumns: 6,\n\t\tstroke: framing(1pt),\n\t\t[Foo],\n\t\ttable.cell(colspan: 2, stroke: (bottom: red + 1pt))[Bar],\n\t\ttable.cell(colspan: 2, stroke: (bottom: blue + 1pt))[Baz],\n\t\t[Qux],\n\t\t..tabledata.flatten()\n\t)\n]\n</code></pre>\n<p>This yields:</p>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/1/1f2dedcde3e022bfc0858d0b9f96872dfabb0ce9.png\" data-download-href=\"https://forum.typst.app/uploads/default/1f2dedcde3e022bfc0858d0b9f96872dfabb0ce9\" title=\"Screenshot 2025-03-05 at 11.50.59\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/1/1f2dedcde3e022bfc0858d0b9f96872dfabb0ce9_2_690x387.png\" alt=\"Screenshot 2025-03-05 at 11.50.59\" data-base62-sha1=\"4rPcDAxhJhNieZOEQPqdb1vCawx\" width=\"690\" height=\"387\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/1/1f2dedcde3e022bfc0858d0b9f96872dfabb0ce9_2_690x387.png, https://forum.typst.app/uploads/default/optimized/2X/1/1f2dedcde3e022bfc0858d0b9f96872dfabb0ce9_2_1035x580.png 1.5x, https://forum.typst.app/uploads/default/original/2X/1/1f2dedcde3e022bfc0858d0b9f96872dfabb0ce9.png 2x\" data-dominant-color=\"E6E5E6\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">Screenshot 2025-03-05 at 11.50.59</span><span class=\"informations\">1122×630 62.4 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>I’m looking for a way to introduce a small gap between the red and blue lines.</p>",
      "raw": "Here it is:\n\n```typ\n#let tabledata = (\n\t([123], [234], [345], [456], [567], [678]),\n\t([123], [234], [345], [456], [567], [678]),\n\t([123], [234], [345], [456], [567], [678]),\n\t([123], [234], [345], [456], [567], [678]),\n)\n\n#let framing(stroke) = (x, y) => {\n\t(\n\t\tleft: 0pt,\n\t\tright: 0pt,\n\t\ttop: {\n\t\t\tif y in (0, 2, -1) { stroke }\n\t\t\telse if (y == 1) { stroke * 0 }\n\t\t\telse { stroke * 0.5 }\n\t\t},\n\t\tbottom: stroke,\n\t)\n}\n\n#align(center)[\n\t#table(\n\t\tcolumns: 6,\n\t\tstroke: framing(1pt),\n\t\t[Foo],\n\t\ttable.cell(colspan: 2, stroke: (bottom: red + 1pt))[Bar],\n\t\ttable.cell(colspan: 2, stroke: (bottom: blue + 1pt))[Baz],\n\t\t[Qux],\n\t\t..tabledata.flatten()\n\t)\n]\n```\n\nThis yields:\n\n![Screenshot 2025-03-05 at 11.50.59|690x387](upload://4rPcDAxhJhNieZOEQPqdb1vCawx.png)\n\nI'm looking for a way to introduce a small gap between the red and blue lines.",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 22,
      "score": 29.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1200
    },
    {
      "id": 9415,
      "post_number": 4,
      "username": "janekfleper",
      "name": "Janek Fleper",
      "created_at": "2025-03-05T14:59:36.461Z",
      "updated_at": "2025-03-05T15:01:17.404Z",
      "cooked": "<p>You can use a <code>column-gutter</code> to introduce the small gap between the lines below “Bar” and “Baz”. For the regular lines you would then have to use <code>table.hline</code> which ignores the gutter. This does not feel like a particularly elegant solution but it works for your specific use case. If you want to make the stroke of the horizontal lines adjustable, just turn <code>table-lines</code> into a function.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let tabledata = (\n\t([123], [234], [345], [456], [567], [678]),\n\t([123], [234], [345], [456], [567], [678]),\n\t([123], [234], [345], [456], [567], [678]),\n\t([123], [234], [345], [456], [567], [678]),\n)\n\n#let table-lines = (\n  table.hline(y: 0),\n  table.hline(y: 2),\n  ..range(1, tabledata.len()).map(i =&gt; table.hline(y: 2 + i, stroke: 0.5pt)),\n  table.hline(y: 2 + tabledata.len()),\n)\n\n#let framing(stroke) = (x, y) =&gt; (\n  bottom: if (y == 0) { stroke }\n)\n\n#align(center)[\n  #table(\n    columns: 6,\n    column-gutter: 0.5em,\n    stroke: framing(0.5pt),\n    table.header(\n      table.cell(rowspan: 2, [Foo]),\n      table.cell(colspan: 2, [Bar]),\n      table.cell(colspan: 2, [Foo]),\n      table.cell(rowspan: 2, [Qux]),\n      [abc], [xyz], [abc], [xyz]\n    ),\n    ..tabledata.flatten(),\n    ..table-lines\n  )\n]\n</code></pre>",
      "raw": "You can use a `column-gutter` to introduce the small gap between the lines below \"Bar\" and \"Baz\". For the regular lines you would then have to use `table.hline` which ignores the gutter. This does not feel like a particularly elegant solution but it works for your specific use case. If you want to make the stroke of the horizontal lines adjustable, just turn `table-lines` into a function.\n\n```typ\n#let tabledata = (\n\t([123], [234], [345], [456], [567], [678]),\n\t([123], [234], [345], [456], [567], [678]),\n\t([123], [234], [345], [456], [567], [678]),\n\t([123], [234], [345], [456], [567], [678]),\n)\n\n#let table-lines = (\n  table.hline(y: 0),\n  table.hline(y: 2),\n  ..range(1, tabledata.len()).map(i => table.hline(y: 2 + i, stroke: 0.5pt)),\n  table.hline(y: 2 + tabledata.len()),\n)\n\n#let framing(stroke) = (x, y) => (\n  bottom: if (y == 0) { stroke }\n)\n\n#align(center)[\n  #table(\n    columns: 6,\n    column-gutter: 0.5em,\n    stroke: framing(0.5pt),\n    table.header(\n      table.cell(rowspan: 2, [Foo]),\n      table.cell(colspan: 2, [Bar]),\n      table.cell(colspan: 2, [Foo]),\n      table.cell(rowspan: 2, [Qux]),\n      [abc], [xyz], [abc], [xyz]\n    ),\n    ..tabledata.flatten(),\n    ..table-lines\n  )\n]\n```",
      "reply_to_post_number": 3,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 18,
      "score": 53.6,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 69
    },
    {
      "id": 9418,
      "post_number": 5,
      "username": "Mathieu",
      "name": "Mathieu",
      "created_at": "2025-03-05T15:52:22.804Z",
      "updated_at": "2025-03-05T15:52:22.804Z",
      "cooked": "<p>Oh wow, I would have not found that by myself! Thanks.</p>",
      "raw": "Oh wow, I would have not found that by myself! Thanks.",
      "reply_to_post_number": 4,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 17,
      "score": 3.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1200
    },
    {
      "id": 9450,
      "post_number": 6,
      "username": "PgBiel",
      "name": "",
      "created_at": "2025-03-06T16:26:53.363Z",
      "updated_at": "2025-03-06T16:26:53.363Z",
      "cooked": "<p>Hey <a class=\"mention\" href=\"/u/mathieu\">@Mathieu</a>, welcome to the forum! I’ve changed your question post’s title to better fit our guidelines: <a href=\"https://forum.typst.app/t/how-to-post-in-the-questions-category/11\" class=\"inline-onebox\">How to post in the Questions category</a></p>\n<p>For future posts, make sure your title is a question you’d ask to a friend about Typst. <img src=\"https://forum.typst.app/images/emoji/apple/wink.png?v=12\" title=\":wink:\" class=\"emoji\" alt=\":wink:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>",
      "raw": "Hey @Mathieu, welcome to the forum! I’ve changed your question post’s title to better fit our guidelines: https://forum.typst.app/t/how-to-post-in-the-questions-category/11\n\nFor future posts, make sure your title is a question you’d ask to a friend about Typst. :wink:",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 15,
      "score": 3.0,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 3
    }
  ],
  "scraped_at": "2025-06-10T09:50:41.660004"
}