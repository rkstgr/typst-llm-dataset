{
  "topic_metadata": {
    "id": 1276,
    "title": "How to fix \"Warning: state.display is deprecated in 0.12.0\"?",
    "slug": "how-to-fix-warning-state-display-is-deprecated-in-0-12-0",
    "posts_count": 4,
    "created_at": "2024-10-21T19:07:29.822Z",
    "last_posted_at": "2024-11-07T00:01:40.295Z",
    "views": 264,
    "like_count": 1,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 3,
    "accepted_answer_username": "Flavio",
    "tags": [
      "scripting"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 199
  },
  "posts": [
    {
      "id": 4441,
      "post_number": 1,
      "username": "Flavio",
      "name": "Flavio",
      "created_at": "2024-10-21T19:07:29.927Z",
      "updated_at": "2024-11-07T11:24:01.072Z",
      "cooked": "<p>Hi,<br>\nI’m migrating my templates to Typst 0.12.0 and i’m stucked on this state display. By replacing it with get I’m not able to make it work. Any idea?</p>\n<pre data-code-wrap=\"typc\"><code class=\"lang-typc\">number = thmcounters.display(x =&gt; {\n  return global_numbering(numbering, ..x.at(\"latest\"))\n})\n</code></pre>\n<p>I tried this but I get wrong value of the state variable.</p>\n<pre data-code-wrap=\"typc\"><code class=\"lang-typc\">number = global_numbering(numbering, ..thmcounters.get().at(\"latest\"))\n</code></pre>\n<p>Thanks a lot</p>",
      "raw": "Hi,\nI'm migrating my templates to Typst 0.12.0 and i'm stucked on this state display. By replacing it with get I'm not able to make it work. Any idea?\n\n```typc\nnumber = thmcounters.display(x => {\n  return global_numbering(numbering, ..x.at(\"latest\"))\n})\n```\n\nI tried this but I get wrong value of the state variable.\n\n```typc\nnumber = global_numbering(numbering, ..thmcounters.get().at(\"latest\"))\n```\n\nThanks a lot",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 51,
      "score": 855.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 622
    },
    {
      "id": 4442,
      "post_number": 2,
      "username": "xkevio",
      "name": "Kevio",
      "created_at": "2024-10-21T21:16:49.144Z",
      "updated_at": "2024-10-21T21:16:49.144Z",
      "cooked": "<p>See here: <a href=\"https://github.com/sahasatvik/typst-theorems/pull/39/files#diff-6300fa1cd4ad6618d26f11a049622f0679c3813e37fe20e28f042e36ed1e2a38R80-R82\" class=\"inline-onebox\" rel=\"noopener nofollow ugc\">Update ctheorems for Typst 0.12 by PgBiel · Pull Request #39 · sahasatvik/typst-theorems · GitHub</a>.</p>\n<p><a class=\"mention\" href=\"/u/pgbiel\">@PgBiel</a> is already working on updating ctheorems, so you can copy his fixes.</p>",
      "raw": "See here: https://github.com/sahasatvik/typst-theorems/pull/39/files#diff-6300fa1cd4ad6618d26f11a049622f0679c3813e37fe20e28f042e36ed1e2a38R80-R82.\n\n@PgBiel is already working on updating ctheorems, so you can copy his fixes.",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 50,
      "score": 34.8,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 21
    },
    {
      "id": 4447,
      "post_number": 3,
      "username": "Flavio",
      "name": "Flavio",
      "created_at": "2024-10-22T06:00:09.664Z",
      "updated_at": "2024-11-07T11:23:17.178Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"xkevio\" data-post=\"2\" data-topic=\"1276\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/xkevio/48/37_2.png\" class=\"avatar\"> xkevio:</div>\n<blockquote>\n<p><a class=\"mention\" href=\"/u/pgbiel\">@PgBiel</a> is already working on updating ctheorems, so you can copy his fixes.</p>\n</blockquote>\n</aside>\n<p>Thanks a lot, the trick was suing context right after the “=”.</p>\n<pre data-code-wrap=\"typc\"><code class=\"lang-typc\">number = context {\n  global_numbering(numbering, ..thmcounters.get().at(\"latest\"))\n}\n</code></pre>",
      "raw": "[quote=\"xkevio, post:2, topic:1276\"]\n@PgBiel is already working on updating ctheorems, so you can copy his fixes.\n[/quote]\n\nThanks a lot, the trick was suing context right after the \"=\".\n```typc\nnumber = context {\n  global_numbering(numbering, ..thmcounters.get().at(\"latest\"))\n}\n```",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 1,
      "like_count": 0,
      "reads": 49,
      "score": 39.6,
      "accepted_answer": true,
      "trust_level": 1,
      "user_id": 622
    },
    {
      "id": 5244,
      "post_number": 4,
      "username": "PgBiel",
      "name": "",
      "created_at": "2024-11-07T00:01:40.295Z",
      "updated_at": "2024-11-07T00:01:40.295Z",
      "cooked": "<p>Hey <a class=\"mention\" href=\"/u/flavio\">@Flavio</a> , please post questions in <a class=\"hashtag-cooked\" href=\"/c/questions/5\" data-type=\"category\" data-slug=\"questions\" data-id=\"5\"><span class=\"hashtag-icon-placeholder\"><svg class=\"fa d-icon d-icon-square-full svg-icon svg-node\"><use href=\"#square-full\"></use></svg></span><span>Questions</span></a> in the future! I’ve also updated your title to be compliant with our question post guidelines: <a href=\"https://forum.typst.app/t/how-to-post-in-the-questions-category/11\" class=\"inline-onebox\">How to post in the Questions category</a> (generally, make sure your post title is a question you’d ask to a friend about Typst <img src=\"https://forum.typst.app/images/emoji/apple/wink.png?v=12\" title=\":wink:\" class=\"emoji\" alt=\":wink:\" loading=\"lazy\" width=\"20\" height=\"20\">)</p>\n<p>Thanks and hope you enjoy using the forum! <img src=\"https://forum.typst.app/uploads/default/original/1X/274f848b78859852628e9efdb7d0aefa6c38bb26.png?v=12\" title=\":typstguy:\" class=\"emoji emoji-custom\" alt=\":typstguy:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>",
      "raw": "Hey @Flavio , please post questions in #questions in the future! I've also updated your title to be compliant with our question post guidelines: https://forum.typst.app/t/how-to-post-in-the-questions-category/11 (generally, make sure your post title is a question you'd ask to a friend about Typst :wink:)\n\nThanks and hope you enjoy using the forum! :typstguy:",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 26,
      "score": 40.0,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 3
    }
  ],
  "scraped_at": "2025-06-10T09:56:14.023032"
}