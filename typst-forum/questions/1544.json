{
  "topic_metadata": {
    "id": 1544,
    "title": "How I can ensure that my custom titleblock in my template isn't hyphenated?",
    "slug": "how-i-can-ensure-that-my-custom-titleblock-in-my-template-isnt-hyphenated",
    "posts_count": 7,
    "created_at": "2024-11-05T01:13:59.491Z",
    "last_posted_at": "2024-11-07T12:21:28.696Z",
    "views": 269,
    "like_count": 1,
    "reply_count": 4,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 6,
    "accepted_answer_username": "quachpas",
    "tags": [
      "text-formatting"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 864
  },
  "posts": [
    {
      "id": 5142,
      "post_number": 1,
      "username": "danborek",
      "name": "danborek",
      "created_at": "2024-11-05T01:13:59.583Z",
      "updated_at": "2024-11-05T19:46:00.347Z",
      "cooked": "<p>I want to have a long main title in my template, how I can ensure that the words aren’t hyphenated, instead they are moved to the new line?</p>",
      "raw": "I want to have a long main title in my template, how I can ensure that the words aren't hyphenated, instead they are moved to the new line?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 41,
      "score": 843.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 410
    },
    {
      "id": 5145,
      "post_number": 2,
      "username": "Anemona-Anonima",
      "name": "Esteban Muñoz",
      "created_at": "2024-11-05T03:59:49.204Z",
      "updated_at": "2024-11-05T03:59:49.204Z",
      "cooked": "<p>Headings are not hyphenated by default. If for some reason they are hyphenated in your template you can deactivate it with a show rule.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">= urbane Stoicos irridente, statua est in quo a nobis philosophia defensa et collaudata\n\n#show heading: set text(hyphenate: true)\n\n= urbane Stoicos irridente, statua est in quo a nobis philosophia defensa et collaudata\n\n#show heading: set text(hyphenate: false)\n\n= urbane Stoicos irridente, statua est in quo a nobis philosophia defensa et collaudata\n</code></pre>\n<details>\n<summary>\nResult</summary>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/3/372a8e327e8d34c5942348c606e0edad70cd0ec3.png\" alt=\"non-hyphenated-heading\" data-base62-sha1=\"7S1r09jbxc6Sxh1fkM27IQjH3Vh\" width=\"595\" height=\"149\"></p>\n</details>",
      "raw": "Headings are not hyphenated by default. If for some reason they are hyphenated in your template you can deactivate it with a show rule.\n\n```typ\n= urbane Stoicos irridente, statua est in quo a nobis philosophia defensa et collaudata\n\n#show heading: set text(hyphenate: true)\n\n= urbane Stoicos irridente, statua est in quo a nobis philosophia defensa et collaudata\n\n#show heading: set text(hyphenate: false)\n\n= urbane Stoicos irridente, statua est in quo a nobis philosophia defensa et collaudata\n```\n\n\n[details=\"Result\"]\n![non-hyphenated-heading|595x149](upload://7S1r09jbxc6Sxh1fkM27IQjH3Vh.png)\n[/details]",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 42,
      "score": 43.4,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 41
    },
    {
      "id": 5165,
      "post_number": 3,
      "username": "danborek",
      "name": "danborek",
      "created_at": "2024-11-05T16:03:23.067Z",
      "updated_at": "2024-11-05T16:07:07.983Z",
      "cooked": "<p>thanks, I should phrase my question differently - how I can ensure that my custom titleblock isn’t hyphenated (or is less prone to hyphenation when the line below has enough free space)?</p>\n<p>The block in the template is defined as below</p>\n<pre><code class=\"lang-auto\"> /* Content front matter */\n\n  let titleblock(\n    body, \n    width: 100%, \n    size: 1.5em, \n    weight: \"bold\", \n    above: 1em, \n    below: 0em\n  ) = [\n    #align(center)[\n      #block(width: width, above: above, below: below)[\n        #text(weight: weight, size: size)[#body]\n      ]\n    ]\n  ]\n\n  if title != none {\n    titleblock(title)\n  }\n</code></pre>\n<p>I am struggling with long  titles, for example:<br>\n<code>title: Neque porro quisquam est qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit...</code><br>\ngives me hyphenation in the middle of the `dolor``</p>",
      "raw": "thanks, I should phrase my question differently - how I can ensure that my custom titleblock isn't hyphenated (or is less prone to hyphenation when the line below has enough free space)?\n\nThe block in the template is defined as below\n```\n /* Content front matter */\n\n  let titleblock(\n    body, \n    width: 100%, \n    size: 1.5em, \n    weight: \"bold\", \n    above: 1em, \n    below: 0em\n  ) = [\n    #align(center)[\n      #block(width: width, above: above, below: below)[\n        #text(weight: weight, size: size)[#body]\n      ]\n    ]\n  ]\n\n  if title != none {\n    titleblock(title)\n  }\n````\n I am struggling with long  titles, for example: \n```title: Neque porro quisquam est qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit...``` \ngives me hyphenation in the middle of the `dolor``",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 36,
      "score": 27.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 410
    },
    {
      "id": 5198,
      "post_number": 4,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2024-11-06T08:59:56.650Z",
      "updated_at": "2024-11-06T08:59:56.650Z",
      "cooked": "<p>Hello! which version of typst are you using? You can find that out by typing <code>typst --version</code>, or check in the webapp in the project settings.<br>\nI am unable to reproduce your issue.</p>",
      "raw": "Hello! which version of typst are you using? You can find that out by typing `typst --version`, or check in the webapp in the project settings.\nI am unable to reproduce your issue.",
      "reply_to_post_number": 3,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 33,
      "score": 11.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 5236,
      "post_number": 5,
      "username": "danborek",
      "name": "danborek",
      "created_at": "2024-11-06T20:02:45.323Z",
      "updated_at": "2024-11-09T05:48:43.386Z",
      "cooked": "<p>Hi <a class=\"mention\" href=\"/u/quachpas\">@quachpas</a> this was on <code>0.11</code>, on <code>0.12</code> dolor is not hyphenated, but when  I replace it with <code>dolordolor</code> it is, I think there is some other customization within  the code that might cause this behaviour  (I took typst code  from existing template and modified it  for Minimum Reproducible Example)</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">// Paragraph and text settings that affect title area\n#set par(justify: true, leading: 0.6em, spacing: 1em, first-line-indent: 0cm)\n\n#set text(font: (\"Times New Roman\", \"Arial\"), size: 11pt, lang: \"en\", region: \"US\")\n\n// Title block function\n#let titleblock(body, width: 100%, size: 1.5em, weight: \"bold\", above: 1em, below: 0em) = [\n  #align(center)[\n    #block(width: width, above: above, below: below)[\n      #text(weight: weight, size: size)[#body]\n    ]\n  ]\n]\n\n// Main document function\n#let preprint(\n  title: none,\n  running-head: none,\n  authors: (),\n  affiliations: none,\n  abstract: none,\n  keywords: none,\n  wordcount: none,\n  authornote: none,\n  citation: none,\n  date: none,\n  branding: none,\n  leading: 0.6em,\n  spacing: 1em,\n  first-line-indent: 0cm,\n  linkcolor: black,\n  margin: (x: 3.2cm, y: 3cm),\n  paper: \"a4\",\n  lang: \"en\",\n  region: \"US\",\n  font: (\"Times New Roman\", \"Arial\"),\n  fontsize: 11pt,\n) = {\n  // Set link colors for DOIs etc.\n  show link: set text(fill: linkcolor)\n  show cite: set text(fill: linkcolor)\n\n  // Format author strings\n  let author_strings = ()\n  if authors != none {\n    for a in authors {\n      let author_string = [\n        #box[#a.name]#if authors.len() &gt; 1 [#super[#a.affiliation]]#if a.keys().contains(\"email\") { [\\*] }\n        #if a.keys().contains(\"orcid\") {\n          box(height: 1em, link(a.orcid, figure(image(\"orcid.svg\", height: 0.9em))))\n        }\n      ]\n      if a.keys().contains(\"corresponding\") {\n        authornote = [\\*Send correspondence to: #a.name, #a.email.\\ #authornote]\n      }\n      author_strings.push(author_string)\n    }\n  }\n\n  // Page settings for title page\n  set page(paper: paper, margin: margin, numbering: \"1\", header-ascent: 50%, header: locate(loc =&gt; {\n    if [#loc.page()] == [1] {\n      set align(right)\n      set text(size: 0.85em)\n      box(inset: 0.2em, [\n        #date\n        #if citation != none {\n          linebreak()\n          link(\"https://doi.org/\" + citation.doi, \"https://doi.org/\" + citation.doi)\n        }\n      ])\n    } else {\n      grid(columns: (1fr, 1fr), align(left)[#running-head], align(right)[#counter(page).display()])\n    }\n  }), footer-descent: 24pt, footer: locate(loc =&gt; {\n    if [#loc.page()] == [1] {\n      [#text(size: 0.85em)[#authornote]]\n    } else {\n      []\n    }\n  }))\n\n  // Paragraph settings\n  set par(justify: true, leading: leading, first-line-indent: first-line-indent)\n\n  if sys.version &gt;= version(0, 12, 0) {\n    set par(spacing: spacing)\n  } else {\n    show par: set block(spacing: spacing)\n  }\n\n  // Text settings\n  set text(lang: lang, region: region, font: font, size: fontsize)\n\n  // Apply title\n  if title != none {\n    titleblock(title)\n  }\n\n  // Apply authors\n  if authors != none {\n    titleblock(weight: \"regular\", size: 1.25em, [#author_strings.join(\", \", last: \" &amp; \")])\n  }\n\n  // Apply affiliations\n  if affiliations != none {\n    titleblock(weight: \"regular\", size: 1.1em, below: 2em, for a in affiliations [\n      #if authors.len() &gt; 1 [#super[#a.id]]#a.name#if a.keys().contains(\"department\") [, #a.department] \\\n    ])\n  }\n\n  // Add vertical space after front matter\n  v(2em)\n}\n\n// Example usage\n#show: doc =&gt; preprint(\n  title: [Neque porro quisquam est qui dolorem ipsum quia dolordolor sit amet, consectetur, adipisci velit],\n  running-head: [Running head],\n  authors: (\n    (name: [Author Author], affiliation: [1], corresponding: true, email: [authoremail]),\n    (name: [Author Author], affiliation: [1]),\n    (name: [Author Author], affiliation: [1]),\n    (name: [Author Author], affiliation: [1]),\n    (name: [Author Author], affiliation: [1]),\n  ),\n  affiliations: ((id: \"1\", name: \"Test University\"),),\n  authornote: [This is an example author note.],\n  date: [2024-11-06],\n  linkcolor: blue,\n  font: (\"Libertinus Serif\",),\n  fontsize: 10.5pt,\n)\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/1/1e00f32ba31b2cab332271fb3917bee17a8dae35.png\" alt=\"image\" data-base62-sha1=\"4hqmgT0nFWTOeGOGKFeg7dlgkAZ\" width=\"638\" height=\"191\"></p>\n<p>It also gives me spaces after author names and before commas when there is no orcid included, how can I fix it?</p>",
      "raw": "Hi @quachpas this was on `0.11`, on `0.12` dolor is not hyphenated, but when  I replace it with `dolordolor` it is, I think there is some other customization within  the code that might cause this behaviour  (I took typst code  from existing template and modified it  for Minimum Reproducible Example)\n\n```typ\n// Paragraph and text settings that affect title area\n#set par(justify: true, leading: 0.6em, spacing: 1em, first-line-indent: 0cm)\n\n#set text(font: (\"Times New Roman\", \"Arial\"), size: 11pt, lang: \"en\", region: \"US\")\n\n// Title block function\n#let titleblock(body, width: 100%, size: 1.5em, weight: \"bold\", above: 1em, below: 0em) = [\n  #align(center)[\n    #block(width: width, above: above, below: below)[\n      #text(weight: weight, size: size)[#body]\n    ]\n  ]\n]\n\n// Main document function\n#let preprint(\n  title: none,\n  running-head: none,\n  authors: (),\n  affiliations: none,\n  abstract: none,\n  keywords: none,\n  wordcount: none,\n  authornote: none,\n  citation: none,\n  date: none,\n  branding: none,\n  leading: 0.6em,\n  spacing: 1em,\n  first-line-indent: 0cm,\n  linkcolor: black,\n  margin: (x: 3.2cm, y: 3cm),\n  paper: \"a4\",\n  lang: \"en\",\n  region: \"US\",\n  font: (\"Times New Roman\", \"Arial\"),\n  fontsize: 11pt,\n) = {\n  // Set link colors for DOIs etc.\n  show link: set text(fill: linkcolor)\n  show cite: set text(fill: linkcolor)\n\n  // Format author strings\n  let author_strings = ()\n  if authors != none {\n    for a in authors {\n      let author_string = [\n        #box[#a.name]#if authors.len() > 1 [#super[#a.affiliation]]#if a.keys().contains(\"email\") { [\\*] }\n        #if a.keys().contains(\"orcid\") {\n          box(height: 1em, link(a.orcid, figure(image(\"orcid.svg\", height: 0.9em))))\n        }\n      ]\n      if a.keys().contains(\"corresponding\") {\n        authornote = [\\*Send correspondence to: #a.name, #a.email.\\ #authornote]\n      }\n      author_strings.push(author_string)\n    }\n  }\n\n  // Page settings for title page\n  set page(paper: paper, margin: margin, numbering: \"1\", header-ascent: 50%, header: locate(loc => {\n    if [#loc.page()] == [1] {\n      set align(right)\n      set text(size: 0.85em)\n      box(inset: 0.2em, [\n        #date\n        #if citation != none {\n          linebreak()\n          link(\"https://doi.org/\" + citation.doi, \"https://doi.org/\" + citation.doi)\n        }\n      ])\n    } else {\n      grid(columns: (1fr, 1fr), align(left)[#running-head], align(right)[#counter(page).display()])\n    }\n  }), footer-descent: 24pt, footer: locate(loc => {\n    if [#loc.page()] == [1] {\n      [#text(size: 0.85em)[#authornote]]\n    } else {\n      []\n    }\n  }))\n\n  // Paragraph settings\n  set par(justify: true, leading: leading, first-line-indent: first-line-indent)\n\n  if sys.version >= version(0, 12, 0) {\n    set par(spacing: spacing)\n  } else {\n    show par: set block(spacing: spacing)\n  }\n\n  // Text settings\n  set text(lang: lang, region: region, font: font, size: fontsize)\n\n  // Apply title\n  if title != none {\n    titleblock(title)\n  }\n\n  // Apply authors\n  if authors != none {\n    titleblock(weight: \"regular\", size: 1.25em, [#author_strings.join(\", \", last: \" & \")])\n  }\n\n  // Apply affiliations\n  if affiliations != none {\n    titleblock(weight: \"regular\", size: 1.1em, below: 2em, for a in affiliations [\n      #if authors.len() > 1 [#super[#a.id]]#a.name#if a.keys().contains(\"department\") [, #a.department] \\\n    ])\n  }\n\n  // Add vertical space after front matter\n  v(2em)\n}\n\n// Example usage\n#show: doc => preprint(\n  title: [Neque porro quisquam est qui dolorem ipsum quia dolordolor sit amet, consectetur, adipisci velit],\n  running-head: [Running head],\n  authors: (\n    (name: [Author Author], affiliation: [1], corresponding: true, email: [authoremail]),\n    (name: [Author Author], affiliation: [1]),\n    (name: [Author Author], affiliation: [1]),\n    (name: [Author Author], affiliation: [1]),\n    (name: [Author Author], affiliation: [1]),\n  ),\n  affiliations: ((id: \"1\", name: \"Test University\"),),\n  authornote: [This is an example author note.],\n  date: [2024-11-06],\n  linkcolor: blue,\n  font: (\"Libertinus Serif\",),\n  fontsize: 10.5pt,\n)\n```\n![image|638x191](upload://4hqmgT0nFWTOeGOGKFeg7dlgkAZ.png)\n\nIt also gives me spaces after author names and before commas when there is no orcid included, how can I fix it?",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 31,
      "score": 16.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 410
    },
    {
      "id": 5251,
      "post_number": 6,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2024-11-07T08:36:47.894Z",
      "updated_at": "2024-11-07T08:36:47.894Z",
      "cooked": "<aside class=\"onebox allowlistedgeneric\" data-onebox-src=\"https://typst.app/docs/reference/text/text/#parameters-hyphenate\">\n  <header class=\"source\">\n      <img src=\"https://forum.typst.app/uploads/default/original/1X/098187a593d51c4db99324614e2baeeb1bb355cc.png\" class=\"site-icon\" data-dominant-color=\"3CA8B6\" width=\"32\" height=\"32\">\n\n      <a href=\"https://typst.app/docs/reference/text/text/#parameters-hyphenate\" target=\"_blank\" rel=\"noopener\">Typst</a>\n  </header>\n\n  <article class=\"onebox-body\">\n    <div class=\"aspect-image\" style=\"--aspect-ratio:690/361;\"><img src=\"https://forum.typst.app/uploads/default/optimized/1X/db1c18ed802fe6841bee62606931f352da10ed09_2_690x362.png\" class=\"thumbnail\" data-dominant-color=\"7CC2C5\" width=\"690\" height=\"362\"></div>\n\n<h3><a href=\"https://typst.app/docs/reference/text/text/#parameters-hyphenate\" target=\"_blank\" rel=\"noopener\">Text Function – Typst Documentation</a></h3>\n\n  <p>Documentation for the `text` function.</p>\n\n\n  </article>\n\n  <div class=\"onebox-metadata\">\n    \n    \n  </div>\n\n  <div style=\"clear: both\"></div>\n</aside>\n\n<p>Add <code>hyphenate: false</code>!</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#text(weight: weight, size: size, hyphenate: false)[#body]\n</code></pre>\n<p>Also, don’t hesitate to add “typ” to your blocks, so it highlights the code, i.e. <code> ```typ</code>.</p>",
      "raw": "https://typst.app/docs/reference/text/text/#parameters-hyphenate\n\nAdd `hyphenate: false`! \n\n```typ\n#text(weight: weight, size: size, hyphenate: false)[#body]\n```\n\nAlso, don't hesitate to add \"typ\" to your blocks, so it highlights the code, i.e. ` ```typ`.",
      "reply_to_post_number": 5,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 26,
      "score": 15.2,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 5255,
      "post_number": 7,
      "username": "danborek",
      "name": "danborek",
      "created_at": "2024-11-07T12:21:28.696Z",
      "updated_at": "2024-11-07T12:21:28.696Z",
      "cooked": "<p>thanks! I was trying to add  something like it before, but maybe I used wrong syntax</p>",
      "raw": "thanks! I was trying to add  something like it before, but maybe I used wrong syntax",
      "reply_to_post_number": 6,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 25,
      "score": 10.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 410
    }
  ],
  "scraped_at": "2025-06-10T09:55:29.892898"
}