{
  "topic_metadata": {
    "id": 3983,
    "title": "How can I create graphical elements in a loop?",
    "slug": "how-can-i-create-graphical-elements-in-a-loop",
    "posts_count": 5,
    "created_at": "2025-05-07T15:25:43.003Z",
    "last_posted_at": "2025-05-13T19:55:44.634Z",
    "views": 97,
    "like_count": 5,
    "reply_count": 3,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "janekfleper",
    "tags": [
      "scripting"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 390
  },
  "posts": [
    {
      "id": 12089,
      "post_number": 1,
      "username": "Lukipuki",
      "name": "Lukas",
      "created_at": "2025-05-07T15:25:43.144Z",
      "updated_at": "2025-05-07T15:26:32.066Z",
      "cooked": "<p>I try to create n little colored squares aligned in a horizontal line. I seem to fail in every way that I try. Adding squares to a list seems impossible. My latest attempt was to map from a range to squares:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let n = 5\n#range(n).map(ang =&gt; [#square(fill: color.hsl(ang * 1deg, 100%, 50%))])\n</code></pre>\n<p>I get the following output (sorry, I cannot copy the code).<br>\n<img src=\"https://forum.typst.app/uploads/default/original/2X/3/36b3b05f3b17ea657b9e3558b0bc78530725588a.png\" alt=\"Screenshot 2025-05-07 171947\" data-base62-sha1=\"7NULrt9miCQ1mMJfthJNkZ30GEy\" width=\"347\" height=\"110\"><br>\nthe squares are not rendered somehow. What am I doing wrong here?</p>\n<p>I want to align the squares inside a math function (in color though)</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">$ f( #sym.qed #sym.qed ... ) $\n</code></pre>",
      "raw": "I try to create n little colored squares aligned in a horizontal line. I seem to fail in every way that I try. Adding squares to a list seems impossible. My latest attempt was to map from a range to squares:\n```typ\n#let n = 5\n#range(n).map(ang => [#square(fill: color.hsl(ang * 1deg, 100%, 50%))])\n```\nI get the following output (sorry, I cannot copy the code).\n![Screenshot 2025-05-07 171947|347x110](upload://7NULrt9miCQ1mMJfthJNkZ30GEy.png)\nthe squares are not rendered somehow. What am I doing wrong here?\n\nI want to align the squares inside a math function (in color though)\n```typ\n$ f( #sym.qed #sym.qed ... ) $\n```",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 32,
      "score": 76.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1568
    },
    {
      "id": 12104,
      "post_number": 2,
      "username": "janekfleper",
      "name": "Janek Fleper",
      "created_at": "2025-05-07T15:52:10.276Z",
      "updated_at": "2025-05-07T17:27:31.963Z",
      "cooked": "<p>The function <code>.map()</code> always returns an array, see <a href=\"https://typst.app/docs/reference/foundations/array/#definitions-map\" class=\"inline-onebox\">Array Type – Typst Documentation</a>. If you want to turn the array into content, you could for example use the function <code>.join()</code> or pass the array elements to the function <code>stack()</code>. There might be even more options to actually show the squares, but this should be enough to get you started.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let n = 5\n#let squares = range(n).map(ang =&gt; [#square(fill: color.hsl(ang * 1deg, 100%, 50%))])\n#squares.join()\n#stack(dir: ltr, spacing: 1em, ..squares)\n</code></pre>\n<p>Note that you could also change the color of the symbol <code>sym.qed</code> if you don’t want to draw arbitrary shapes. If all symbols should have the same color, you can use a show-set rule</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show sym.qed: set text(red)\n$ f( #sym.qed #sym.qed ... ) $\n</code></pre>\n<p>If you want to color the qed symbols individually, you can define a function that returns the symbol in a specific color</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let c-qed(color) = text(color, sym.qed)\n$ f( #c-qed(blue) #c-qed(red) ... ) $\n</code></pre>",
      "raw": "The function `.map()` always returns an array, see https://typst.app/docs/reference/foundations/array/#definitions-map. If you want to turn the array into content, you could for example use the function `.join()` or pass the array elements to the function `stack()`. There might be even more options to actually show the squares, but this should be enough to get you started.\n\n```typ\n#let n = 5\n#let squares = range(n).map(ang => [#square(fill: color.hsl(ang * 1deg, 100%, 50%))])\n#squares.join()\n#stack(dir: ltr, spacing: 1em, ..squares)\n```\n\nNote that you could also change the color of the symbol `sym.qed` if you don't want to draw arbitrary shapes. If all symbols should have the same color, you can use a show-set rule\n\n```typ\n#show sym.qed: set text(red)\n$ f( #sym.qed #sym.qed ... ) $\n```\n\nIf you want to color the qed symbols individually, you can define a function that returns the symbol in a specific color\n\n```typ\n#let c-qed(color) = text(color, sym.qed)\n$ f( #c-qed(blue) #c-qed(red) ... ) $\n```",
      "reply_to_post_number": null,
      "reply_count": 2,
      "quote_count": 0,
      "like_count": 3,
      "reads": 32,
      "score": 61.4,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 69
    },
    {
      "id": 12120,
      "post_number": 3,
      "username": "Lukipuki",
      "name": "Lukas",
      "created_at": "2025-05-08T15:43:38.692Z",
      "updated_at": "2025-05-08T15:43:38.692Z",
      "cooked": "<p>thank you very much!<br>\nThat is really helpful!</p>",
      "raw": "thank you very much!\nThat is really helpful!",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 21,
      "score": 9.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1568
    },
    {
      "id": 12408,
      "post_number": 4,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2025-05-13T19:54:50.121Z",
      "updated_at": "2025-05-13T19:54:50.121Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"janekfleper\" data-post=\"2\" data-topic=\"3983\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/j/8F38B1/48.png\" class=\"avatar\"> janekfleper:</div>\n<blockquote>\n<p>f you want to turn the array into content, you could for example use the function <code>.join()</code></p>\n</blockquote>\n</aside>\n<p>Note you can also use a for loop instead. Basically, these two are equivalent:</p>\n<pre data-code-wrap=\"typc\"><code class=\"lang-typc\">range(n).map(i =&gt; ...).join()\n// and\nfor i in range(n) { ... }\n</code></pre>",
      "raw": "[quote=\"janekfleper, post:2, topic:3983\"]\nf you want to turn the array into content, you could for example use the function `.join()`\n[/quote]\n\nNote you can also use a for loop instead. Basically, these two are equivalent:\n```typc\nrange(n).map(i => ...).join()\n// and\nfor i in range(n) { ... }\n```",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 1,
      "like_count": 2,
      "reads": 15,
      "score": 33.0,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 32
    },
    {
      "id": 12409,
      "post_number": 5,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2025-05-13T19:55:44.634Z",
      "updated_at": "2025-05-13T19:55:44.634Z",
      "cooked": "<p>Hi <a class=\"mention\" href=\"/u/lukipuki\">@Lukipuki</a>, if you feel the response you got has sufficiently answered your question, be sure to give it a checkmark <img src=\"https://forum.typst.app/images/emoji/apple/ballot_box_with_check.png?v=12\" title=\":ballot_box_with_check:\" class=\"emoji\" alt=\":ballot_box_with_check:\" loading=\"lazy\" width=\"20\" height=\"20\">. This will help others find the solution in the future. If something is missing, please let us know what so we can resolve your issue. Thanks!</p>",
      "raw": "Hi @Lukipuki, if you feel the response you got has sufficiently answered your question, be sure to give it a checkmark :ballot_box_with_check:. This will help others find the solution in the future. If something is missing, please let us know what so we can resolve your issue. Thanks!",
      "reply_to_post_number": 3,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 15,
      "score": 3.0,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 32
    }
  ],
  "scraped_at": "2025-06-10T09:48:13.442783"
}