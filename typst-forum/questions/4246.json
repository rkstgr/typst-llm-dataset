{
  "topic_metadata": {
    "id": 4246,
    "title": "How to display short figure caption in bold and long in italic?",
    "slug": "how-to-display-short-figure-caption-in-bold-and-long-in-italic",
    "posts_count": 4,
    "created_at": "2025-05-23T11:16:42.455Z",
    "last_posted_at": "2025-06-02T06:15:32.437Z",
    "views": 57,
    "like_count": 2,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "Andrew",
    "tags": [
      "scripting"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 358
  },
  "posts": [
    {
      "id": 13014,
      "post_number": 1,
      "username": "typst_user",
      "name": "",
      "created_at": "2025-05-23T11:16:42.605Z",
      "updated_at": "2025-05-23T16:09:33.286Z",
      "cooked": "<p>Hi all, I’m currently learning Typst and plan to use it for my thesis.</p>\n<p>I have the following issue: I would like to give each figure and short and long caption. In the table of content, only the short caption should be displayed. In the figure itself, I would like to have all text in <em>italic</em>, an additionally, the Figure word, the figure number and the short caption in <strong>bold</strong>. Thanks to this forum, I’ve already managed to give each figure a long and short caption with the following snippet:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let in-outline = state(\"in-outline\", false)\n\n#show outline: it =&gt; {\n  in-outline.update(true)\n  it\n  in-outline.update(false)\n}\n#let flex-caption(long, short) = context if in-outline.get() { short } else { long }\n</code></pre>\n<p>I would like to modify this function like this (concat the short and long string):</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let flex-caption(long, short) = context if in-outline.get() { short } else { short + long }\n</code></pre>\n<p>To make the figure word and figure number in bold and italic, and the rest only in italic, I’ve found this snippet:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show figure.caption: it =&gt; [\n  #emph[*#it.supplement #context it.counter.display(it.numbering):*~#it.body]\n]\n</code></pre>\n<p>How can I now modify this code that I get the following:<br>\n<em><strong>Figure 1: This is the short caption.</strong> This is the long caption.</em></p>",
      "raw": "Hi all, I'm currently learning Typst and plan to use it for my thesis.\n\nI have the following issue: I would like to give each figure and short and long caption. In the table of content, only the short caption should be displayed. In the figure itself, I would like to have all text in *italic*, an additionally, the Figure word, the figure number and the short caption in **bold**. Thanks to this forum, I've already managed to give each figure a long and short caption with the following snippet:\n```\n#let in-outline = state(\"in-outline\", false)\n\n#show outline: it => {\n  in-outline.update(true)\n  it\n  in-outline.update(false)\n}\n#let flex-caption(long, short) = context if in-outline.get() { short } else { long }\n```\nI would like to modify this function like this (concat the short and long string):\n```\n#let flex-caption(long, short) = context if in-outline.get() { short } else { short + long }\n```\nTo make the figure word and figure number in bold and italic, and the rest only in italic, I've found this snippet:\n```\n#show figure.caption: it => [\n  #emph[*#it.supplement #context it.counter.display(it.numbering):*~#it.body]\n]\n```\nHow can I now modify this code that I get the following:\n***Figure 1: This is the short caption.** This is the long caption.*",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 20,
      "score": 74.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1643
    },
    {
      "id": 13026,
      "post_number": 2,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-05-23T15:04:20.357Z",
      "updated_at": "2025-05-23T15:05:15.541Z",
      "cooked": "<p>Hi. Here you go:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let in-outline = state(\"in-outline\", false)\n\n#let flex-caption(short, long) = context {\n  if in-outline.get() [#short] else [#strong(short). #long]\n}\n\n#show outline: it =&gt; in-outline.update(true) + it + in-outline.update(false)\n\n#show figure.caption.where(kind: image): it =&gt; {\n  let numbering = if it.numbering != none {\n    [~] + context it.counter.display(it.numbering)\n  }\n  emph[*#it.supplement#numbering#it.separator*#it.body]\n}\n\n#outline(target: figure.where(kind: image))\n\n#figure(rect(), caption: flex-caption[Short][Long #lorem(9)])\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/6/61407da659496cd8263f70af43d1d4d129dcdbd8.png\" data-download-href=\"https://forum.typst.app/uploads/default/61407da659496cd8263f70af43d1d4d129dcdbd8\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/6/61407da659496cd8263f70af43d1d4d129dcdbd8_2_690x145.png\" alt=\"image\" data-base62-sha1=\"dSku6yDlNmFTObrUCE2PIk8mbMY\" width=\"690\" height=\"145\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/6/61407da659496cd8263f70af43d1d4d129dcdbd8_2_690x145.png, https://forum.typst.app/uploads/default/original/2X/6/61407da659496cd8263f70af43d1d4d129dcdbd8.png 1.5x, https://forum.typst.app/uploads/default/original/2X/6/61407da659496cd8263f70af43d1d4d129dcdbd8.png 2x\" data-dominant-color=\"131313\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">712×150 12.9 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>",
      "raw": "Hi. Here you go:\n\n\n```typ\n#let in-outline = state(\"in-outline\", false)\n\n#let flex-caption(short, long) = context {\n  if in-outline.get() [#short] else [#strong(short). #long]\n}\n\n#show outline: it => in-outline.update(true) + it + in-outline.update(false)\n\n#show figure.caption.where(kind: image): it => {\n  let numbering = if it.numbering != none {\n    [~] + context it.counter.display(it.numbering)\n  }\n  emph[*#it.supplement#numbering#it.separator*#it.body]\n}\n\n#outline(target: figure.where(kind: image))\n\n#figure(rect(), caption: flex-caption[Short][Long #lorem(9)])\n```\n\n![image|690x145](upload://dSku6yDlNmFTObrUCE2PIk8mbMY.png)",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 19,
      "score": 38.8,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 13034,
      "post_number": 3,
      "username": "PgBiel",
      "name": "",
      "created_at": "2025-05-23T16:10:40.429Z",
      "updated_at": "2025-05-23T16:10:40.429Z",
      "cooked": "<p>Hey <a class=\"mention\" href=\"/u/typst_user\">@typst_user</a>, welcome to the forum! I’ve changed your question post’s title to better fit our guidelines: <a href=\"https://forum.typst.app/t/how-to-post-in-the-questions-category/11\" class=\"inline-onebox\">How to post in the Questions category</a></p>\n<p>For future posts, make sure your title is a question you’d ask to a friend about Typst. <img src=\"https://forum.typst.app/images/emoji/apple/wink.png?v=12\" title=\":wink:\" class=\"emoji\" alt=\":wink:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>",
      "raw": "Hey @typst_user, welcome to the forum! I’ve changed your question post’s title to better fit our guidelines: https://forum.typst.app/t/how-to-post-in-the-questions-category/11\n\nFor future posts, make sure your title is a question you’d ask to a friend about Typst. :wink:",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 17,
      "score": 23.4,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 3
    },
    {
      "id": 13559,
      "post_number": 4,
      "username": "typst_user",
      "name": "",
      "created_at": "2025-06-02T06:15:32.437Z",
      "updated_at": "2025-06-02T06:15:32.437Z",
      "cooked": "<p>Many thanks, works like a charm!</p>",
      "raw": "Many thanks, works like a charm!",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 11,
      "score": 17.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1643
    }
  ],
  "scraped_at": "2025-06-10T09:47:22.289459"
}