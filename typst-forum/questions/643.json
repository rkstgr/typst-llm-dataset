{
  "topic_metadata": {
    "id": 643,
    "title": "How do I add bibliography to a Touying presentation?",
    "slug": "how-do-i-add-bibliography-to-a-touying-presentation",
    "posts_count": 10,
    "created_at": "2024-09-24T16:08:14.675Z",
    "last_posted_at": "2025-04-19T03:33:38.092Z",
    "views": 633,
    "like_count": 4,
    "reply_count": 6,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 9,
    "accepted_answer_username": "OrangeX4",
    "tags": [
      "literature",
      "touying"
    ],
    "category_id": 5,
    "participant_count": 6,
    "word_count": 628
  },
  "posts": [
    {
      "id": 2475,
      "post_number": 1,
      "username": "eduard",
      "name": "Eduard Antonovic Occhipinti",
      "created_at": "2024-09-24T16:08:15.080Z",
      "updated_at": "2025-02-05T15:15:30.287Z",
      "cooked": "<p>I’m trying to add bibliography as footnotes in touying, I added the <code>show</code> rule</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\"> #show: magic.bibliography-as-footnote.with(bibliography(\"refs.bib\"))\n</code></pre>\n<p>at the start of my document but that creates an empty page. I have a feeling I have to declare it in some way under the <code>preamble</code> like <code>codly</code>, can anybody show me the correct way to do it? Thanks</p>",
      "raw": "I'm trying to add bibliography as footnotes in touying, I added the `show` rule \n```typ\n #show: magic.bibliography-as-footnote.with(bibliography(\"refs.bib\"))\n```\nat the start of my document but that creates an empty page. I have a feeling I have to declare it in some way under the `preamble` like `codly`, can anybody show me the correct way to do it? Thanks",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 68,
      "score": 2848.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 464
    },
    {
      "id": 2490,
      "post_number": 2,
      "username": "xkevio",
      "name": "Kevio",
      "created_at": "2024-09-24T18:35:42.520Z",
      "updated_at": "2024-09-24T18:44:11.893Z",
      "cooked": "<p>Not super familiar with touying but what could be happening is that you have not referenced anything from your bibliography yet. By default, <code>#bibliography()</code> will only display the references that were used in the document but you can include all of them with the <code>full</code>-parameter: <code>#bibliography(\"refs.bib\", full: true)</code>.</p>\n<p><strong>EDIT:</strong> After testing myself, it is true – you do have to cite anything for a footnote to appear but I also do not know how to remove the empty page.</p>",
      "raw": "Not super familiar with touying but what could be happening is that you have not referenced anything from your bibliography yet. By default, `#bibliography()` will only display the references that were used in the document but you can include all of them with the `full`-parameter: `#bibliography(\"refs.bib\", full: true)`.\n\n**EDIT:** After testing myself, it is true -- you do have to cite anything for a footnote to appear but I also do not know how to remove the empty page.",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 66,
      "score": 28.0,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 21
    },
    {
      "id": 2491,
      "post_number": 3,
      "username": "eduard",
      "name": "Eduard Antonovic Occhipinti",
      "created_at": "2024-09-24T19:01:21.418Z",
      "updated_at": "2024-09-24T19:01:21.418Z",
      "cooked": "<p>Yes, I wasn’t clear enough, I did cite some sources in the presentation and they appear alright, it’s just the starting blank page that I can’t get rid of</p>",
      "raw": "Yes, I wasn’t clear enough, I did cite some sources in the presentation and they appear alright, it’s just the starting blank page that I can’t get rid of",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 59,
      "score": 36.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 464
    },
    {
      "id": 2513,
      "post_number": 4,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2024-09-25T06:28:05.279Z",
      "updated_at": "2024-09-25T07:34:30.269Z",
      "cooked": "<p>I believe this to be a bug in the package. In order to make references available, they place and hide the bibliography, which results in the blank empty page.</p>\n<p><a class=\"mention\" href=\"/u/orangex4\">@OrangeX4</a> Would you be able to fix this upstream? I’ve identified the offending line as</p><aside class=\"onebox githubblob\" data-onebox-src=\"https://github.com/touying-typ/touying/blob/d3c83778068b81bfb81db5fe772bd72e0e3e1597/src/magic.typ#L119\">\n  <header class=\"source\">\n\n      <a href=\"https://github.com/touying-typ/touying/blob/d3c83778068b81bfb81db5fe772bd72e0e3e1597/src/magic.typ#L119\" target=\"_blank\" rel=\"noopener nofollow ugc\">github.com</a>\n  </header>\n\n  <article class=\"onebox-body\">\n    <h4><a href=\"https://github.com/touying-typ/touying/blob/d3c83778068b81bfb81db5fe772bd72e0e3e1597/src/magic.typ#L119\" target=\"_blank\" rel=\"noopener nofollow ugc\">touying-typ/touying/blob/d3c83778068b81bfb81db5fe772bd72e0e3e1597/src/magic.typ#L119</a></h4>\n\n\n\n    <pre class=\"onebox\"><code class=\"lang-typ\">\n      <ol class=\"start lines\" start=\"109\" style=\"counter-reset: li-counter 108 ;\">\n          <li>    footnote(numbering: numbering, context bibliography-map.final().at(str(it.key)))</li>\n          <li>  }</li>\n          <li></li>\n          <li>  // Record the bibliography items.</li>\n          <li>  {</li>\n          <li>    show grid: it =&gt; {</li>\n          <li>      bibliography-state.update(</li>\n          <li>        range(it.children.len()).filter(i =&gt; calc.rem(i, 2) == 1).map(i =&gt; it.children.at(i).body),</li>\n          <li>      )</li>\n          <li>    }</li>\n          <li class=\"selected\">    place(hide(bibliography))</li>\n          <li>  }</li>\n          <li></li>\n          <li>  body</li>\n          <li>}</li>\n          <li></li>\n          <li>/// Display the bibliography.</li>\n          <li>///</li>\n          <li>/// You can avoid `multiple bibliographies are not yet supported` error by using this function.</li>\n          <li>///</li>\n          <li>/// Usage: `#magic.bibliography()`</li>\n      </ol>\n    </code></pre>\n\n\n\n  </article>\n\n  <div class=\"onebox-metadata\">\n    \n    \n  </div>\n\n  <div style=\"clear: both\"></div>\n</aside>\n\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#import \"@preview/touying:0.5.2\": *\n#import themes.simple: *\n\n#show: simple-theme.with(aspect-ratio: \"16-9\")\n#let bib = bibliography(\"bib.bib\")\n#show: magic.bibliography-as-footnote.with(bib)\n\n= Title\n\n== First Slide\n\nHello, Touying!\n\n#pause\n\nHello, Typst!\n\n= Bibliography\n#magic.bibliography()\n</code></pre>",
      "raw": "I believe this to be a bug in the package. In order to make references available, they place and hide the bibliography, which results in the blank empty page.\n\n@OrangeX4 Would you be able to fix this upstream? I've identified the offending line as \nhttps://github.com/touying-typ/touying/blob/d3c83778068b81bfb81db5fe772bd72e0e3e1597/src/magic.typ#L119\n\n```typ\n#import \"@preview/touying:0.5.2\": *\n#import themes.simple: *\n\n#show: simple-theme.with(aspect-ratio: \"16-9\")\n#let bib = bibliography(\"bib.bib\")\n#show: magic.bibliography-as-footnote.with(bib)\n\n= Title\n\n== First Slide\n\nHello, Touying!\n\n#pause\n\nHello, Typst!\n\n= Bibliography\n#magic.bibliography()\n```",
      "reply_to_post_number": 3,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 57,
      "score": 46.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 2517,
      "post_number": 5,
      "username": "laurmaedje",
      "name": "Laurenz Mädje",
      "created_at": "2024-09-25T07:08:26.698Z",
      "updated_at": "2024-09-25T07:08:26.698Z",
      "cooked": "<p><code>show bibliography: none</code> would probably do the job instead</p>",
      "raw": "`show bibliography: none` would probably do the job instead",
      "reply_to_post_number": 4,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 50,
      "score": 34.8,
      "accepted_answer": false,
      "trust_level": 4,
      "user_id": 2
    },
    {
      "id": 2561,
      "post_number": 6,
      "username": "xkevio",
      "name": "Kevio",
      "created_at": "2024-09-25T12:03:25.748Z",
      "updated_at": "2024-09-25T16:56:21.685Z",
      "cooked": "<p>Ah yea, that is definitely it. I did see the <code>place + hide</code> in the source code but figured it would work since the package authors are experienced so it is surprising that they missed the <code>#show &lt;xyz&gt;: none</code> idiom.</p>",
      "raw": "Ah yea, that is definitely it. I did see the `place + hide` in the source code but figured it would work since the package authors are experienced so it is surprising that they missed the `#show <xyz>: none` idiom.",
      "reply_to_post_number": 5,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 49,
      "score": 19.6,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 21
    },
    {
      "id": 2576,
      "post_number": 7,
      "username": "OrangeX4",
      "name": "OrangeX4",
      "created_at": "2024-09-25T13:41:50.393Z",
      "updated_at": "2024-09-25T13:41:50.393Z",
      "cooked": "<p>Indeed, here I wrote a bug. But <code>#show bibliography: none</code> doesn’t solve the problem (since we need to record bibitems), and you should consider putting it after the heading of <strong>the first slide</strong> before the next version fixes. For example</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#import \"@preview/touying:0.5.2\": *\n#import themes.simple: *\n\n#show: simple-theme.with(aspect-ratio: \"16-9\")\n\n= Title\n\n== First Slide\n\n#show: magic.bibliography-as-footnote.with(bibliography(\"refs.bib\"))\n\nHello, Touying!\n\nHello, Typst!\n\n= Bibliography\n\n#magic.bibliography()\n</code></pre>",
      "raw": "Indeed, here I wrote a bug. But `#show bibliography: none` doesn't solve the problem (since we need to record bibitems), and you should consider putting it after the heading of **the first slide** before the next version fixes. For example\n\n```typst\n#import \"@preview/touying:0.5.2\": *\n#import themes.simple: *\n\n#show: simple-theme.with(aspect-ratio: \"16-9\")\n\n= Title\n\n== First Slide\n\n#show: magic.bibliography-as-footnote.with(bibliography(\"refs.bib\"))\n\nHello, Touying!\n\nHello, Typst!\n\n= Bibliography\n\n#magic.bibliography()\n```",
      "reply_to_post_number": null,
      "reply_count": 2,
      "quote_count": 0,
      "like_count": 0,
      "reads": 48,
      "score": 49.4,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 18
    },
    {
      "id": 2632,
      "post_number": 8,
      "username": "eduard",
      "name": "Eduard Antonovic Occhipinti",
      "created_at": "2024-09-26T08:49:35.913Z",
      "updated_at": "2024-09-26T08:50:06.555Z",
      "cooked": "<p>This doesn’t seem to work, the “bibliography” section appears in the outline twice, I have something like</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#import \"@preview/touying:0.5.2\": *\n#import themes.dewdrop: *\n#import \"@preview/codly:1.0.0\": *\n#import \"@preview/numbly:0.1.0\": numbly\n\n#show: codly-init.with()\n\n#show: dewdrop-theme.with(\n  aspect-ratio: \"16-9\",\n  footer: self =&gt; self.info.institution,\n  navigation: \"mini-slides\",\n  config-common(preamble: {\n    codly(\n      languages: (\n        python: (name: \"Python\",  color: rgb(\"#306998\")),\n      ),\n      zebra-fill: none,\n      number-align: right + horizon,\n    )\n  }),\n  config-info(\n    title: [Title],\n    subtitle: [subtitle],\n    author: [Name Surname],\n    date: datetime.today(),\n    institution: [University],\n  ),\n)\n\n#show raw.where(block: true): set text(size: 0.8em)\n\n#title-slide()\n\n#outline-slide()\n\n= Introduction\n\n#show: magic.bibliography-as-footnote.with(bibliography(\"refs.bib\"))\n\nbla bla bla\n\n= Second section\n\nbla bla\n\n== Subsection\n\nbla bla\n\n``py\nprint(\"Hello World!\")\n``\n\n= Third section\n\nbla bla @citation\n\n#magic.bibliography()\n</code></pre>\n<p>I’m including part of the <code>codly</code> code in case the bug is due to some interaction between the two packages</p>",
      "raw": "This doesn't seem to work, the \"bibliography\" section appears in the outline twice, I have something like\n\n```typ\n#import \"@preview/touying:0.5.2\": *\n#import themes.dewdrop: *\n#import \"@preview/codly:1.0.0\": *\n#import \"@preview/numbly:0.1.0\": numbly\n\n#show: codly-init.with()\n\n#show: dewdrop-theme.with(\n  aspect-ratio: \"16-9\",\n  footer: self => self.info.institution,\n  navigation: \"mini-slides\",\n  config-common(preamble: {\n    codly(\n      languages: (\n        python: (name: \"Python\",  color: rgb(\"#306998\")),\n      ),\n      zebra-fill: none,\n      number-align: right + horizon,\n    )\n  }),\n  config-info(\n    title: [Title],\n    subtitle: [subtitle],\n    author: [Name Surname],\n    date: datetime.today(),\n    institution: [University],\n  ),\n)\n\n#show raw.where(block: true): set text(size: 0.8em)\n\n#title-slide()\n\n#outline-slide()\n\n= Introduction\n\n#show: magic.bibliography-as-footnote.with(bibliography(\"refs.bib\"))\n\nbla bla bla\n\n= Second section\n\nbla bla\n\n== Subsection\n\nbla bla\n\n``py\nprint(\"Hello World!\")\n``\n\n= Third section\n\nbla bla @citation\n\n#magic.bibliography()\n```\n\nI'm including part of the `codly` code in case the bug is due to some interaction between the two packages",
      "reply_to_post_number": 7,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 43,
      "score": 63.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 464
    },
    {
      "id": 2654,
      "post_number": 9,
      "username": "OrangeX4",
      "name": "OrangeX4",
      "created_at": "2024-09-26T12:21:01.449Z",
      "updated_at": "2024-09-26T12:21:01.449Z",
      "cooked": "<p>This is another problem, you just need:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#show: magic.bibliography-as-footnote.with(bibliography(\"refs.bib\", title: none))\n</code></pre>",
      "raw": "This is another problem, you just need:\n\n```typst\n#show: magic.bibliography-as-footnote.with(bibliography(\"refs.bib\", title: none))\n```",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 2,
      "reads": 39,
      "score": 162.6,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 18
    },
    {
      "id": 11320,
      "post_number": 10,
      "username": "acme",
      "name": "",
      "created_at": "2025-04-19T03:33:38.092Z",
      "updated_at": "2025-04-19T03:33:38.092Z",
      "cooked": "<p>Hi! The solution works perfectly, except that if the first page has several frames, then it raises the error saying <code>multiple bibliographies are not yet supported</code>. but if I wrap it in an only, then seems no bibliography can be imported. will there be a solution for this?</p>",
      "raw": "Hi! The solution works perfectly, except that if the first page has several frames, then it raises the error saying `multiple bibliographies are not yet supported`. but if I wrap it in an only, then seems no bibliography can be imported. will there be a solution for this?",
      "reply_to_post_number": 7,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 19,
      "score": 3.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1483
    }
  ],
  "scraped_at": "2025-06-10T09:58:09.835486"
}