{
  "topic_metadata": {
    "id": 829,
    "title": "How do I change size and color of line numbering in codly?",
    "slug": "how-do-i-change-size-and-color-of-line-numbering-in-codly",
    "posts_count": 7,
    "created_at": "2024-10-01T08:57:18.282Z",
    "last_posted_at": "2025-03-21T07:25:50.213Z",
    "views": 294,
    "like_count": 3,
    "reply_count": 5,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 5,
    "accepted_answer_username": "Adrian_Weitkemper",
    "tags": [
      "scripting",
      "codly"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 639
  },
  "posts": [
    {
      "id": 3062,
      "post_number": 1,
      "username": "eduard",
      "name": "Eduard Antonovic Occhipinti",
      "created_at": "2024-10-01T08:57:18.398Z",
      "updated_at": "2024-10-01T08:57:18.398Z",
      "cooked": "<p>I know that the <code>codly</code> function accepts a <code>number-format</code> argument, but what would be the best way of making the numbering grey on a light grey background to better differentiate them from the actual code?</p>",
      "raw": "I know that the `codly` function accepts a `number-format` argument, but what would be the best way of making the numbering grey on a light grey background to better differentiate them from the actual code?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 28,
      "score": 1470.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 464
    },
    {
      "id": 3072,
      "post_number": 2,
      "username": "Adrian_Weitkemper",
      "name": "Adron",
      "created_at": "2024-10-01T11:33:45.456Z",
      "updated_at": "2024-10-01T11:33:45.456Z",
      "cooked": "<p>Because I did not find a specific parameter for the styling of the numbering (apart from the the number-function argument), I tried to do something with that.<br>\nThere might be a more elegant way, but this is what I came up with:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#import \"@preview/codly:1.0.0\": *\n#show: codly-init.with()\n#codly(zebra-fill: none)\n\n#codly(number-format: (n) =&gt; box(fill: luma(240))[#text(luma(100))[#str(n)]])\n\n```rust\npub fn main() {\n    println!(\"Hello, world!\");\n}\n``` // This comment is just because of formatting in the forum...\n\n</code></pre>\n<p>The result:<br>\n<img src=\"https://forum.typst.app/uploads/default/original/1X/f07c565a954813ad79bf01f94897af4a5fd18e7e.png\" alt=\"grafik\" data-base62-sha1=\"yjqZ1YTtCUmu7jb9eVs8e816MKW\" width=\"344\" height=\"97\"></p>\n<p>I can imagine this is not really what you are looking for, but maybe better than nothing for now. If you have questions about the code or something, feel free to ask :)</p>",
      "raw": "Because I did not find a specific parameter for the styling of the numbering (apart from the the number-function argument), I tried to do something with that. \nThere might be a more elegant way, but this is what I came up with: \n```typst\n#import \"@preview/codly:1.0.0\": *\n#show: codly-init.with()\n#codly(zebra-fill: none)\n\n#codly(number-format: (n) => box(fill: luma(240))[#text(luma(100))[#str(n)]])\n\n```rust\npub fn main() {\n    println!(\"Hello, world!\");\n}\n``` // This comment is just because of formatting in the forum...\n\n```\nThe result:\n![grafik|344x97](upload://yjqZ1YTtCUmu7jb9eVs8e816MKW.png)\n\n\nI can imagine this is not really what you are looking for, but maybe better than nothing for now. If you have questions about the code or something, feel free to ask :)",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 27,
      "score": 30.4,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 277
    },
    {
      "id": 3080,
      "post_number": 3,
      "username": "eduard",
      "name": "Eduard Antonovic Occhipinti",
      "created_at": "2024-10-01T12:37:22.006Z",
      "updated_at": "2024-10-01T12:37:22.006Z",
      "cooked": "<p>yes this kinda works, although I was thinking more of having the entire column where the numbers lie being light gray, kinda like you see in most text editors, I’m not really sure if there is a way to do so though but yours is already a good start, thanks for the suggestion!</p>",
      "raw": "yes this kinda works, although I was thinking more of having the entire column where the numbers lie being light gray, kinda like you see in most text editors, I'm not really sure if there is a way to do so though but yours is already a good start, thanks for the suggestion!",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 23,
      "score": 24.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 464
    },
    {
      "id": 3086,
      "post_number": 4,
      "username": "Adrian_Weitkemper",
      "name": "Adron",
      "created_at": "2024-10-01T13:45:43.996Z",
      "updated_at": "2024-10-01T14:02:54.424Z",
      "cooked": "<p>I don’t know how to do that. I tried setting the height of the box, but then codly just adds space in between the lines. I looked through the documentation (of codly) briefly and I don’t think it is a thing at the moment. You could add a feature request/issue on <a href=\"https://github.com/Dherse/codly/issues\" rel=\"noopener nofollow ugc\">github</a> though so it might be added in the future.<br>\nIn case you are still thinking about changing the size of the numbers, here is an updated version with bigger text and bigger text highlighting:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#import \"@preview/codly:1.0.0\": *\n#show: codly-init.with()\n#codly(zebra-fill: none)\n\n#codly(number-format: (n) =&gt; box(fill: luma(240), height: 1.5em, inset: 0.5em)[#text(luma(100), size: 1.5em)[#str(n)]])\n\n```rust\npub fn main() {\n    println!(\"Hello, world!\");\n}\n``` // This comment is just because of formatting in the forum...\n</code></pre>\n<p>I overlooked the size part because it was only in the headline. Sry for that <img src=\"https://forum.typst.app/images/emoji/apple/blush.png?v=12\" title=\":blush:\" class=\"emoji\" alt=\":blush:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>",
      "raw": "I don't know how to do that. I tried setting the height of the box, but then codly just adds space in between the lines. I looked through the documentation (of codly) briefly and I don't think it is a thing at the moment. You could add a feature request/issue on [github](https://github.com/Dherse/codly/issues) though so it might be added in the future. \nIn case you are still thinking about changing the size of the numbers, here is an updated version with bigger text and bigger text highlighting: \n```typst\n#import \"@preview/codly:1.0.0\": *\n#show: codly-init.with()\n#codly(zebra-fill: none)\n\n#codly(number-format: (n) => box(fill: luma(240), height: 1.5em, inset: 0.5em)[#text(luma(100), size: 1.5em)[#str(n)]])\n\n```rust\npub fn main() {\n    println!(\"Hello, world!\");\n}\n``` // This comment is just because of formatting in the forum...\n```\n\nI overlooked the size part because it was only in the headline. Sry for that :blush:",
      "reply_to_post_number": 3,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 24,
      "score": 34.8,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 277
    },
    {
      "id": 3090,
      "post_number": 5,
      "username": "Adrian_Weitkemper",
      "name": "Adron",
      "created_at": "2024-10-01T14:00:31.245Z",
      "updated_at": "2024-10-01T14:06:07.263Z",
      "cooked": "<p>I actually found a way on accident <img src=\"https://forum.typst.app/images/emoji/apple/joy.png?v=12\" title=\":joy:\" class=\"emoji\" alt=\":joy:\" loading=\"lazy\" width=\"20\" height=\"20\"><br>\nYou can add the <strong>outset</strong> property to the box (not inset) like this:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#import \"@preview/codly:1.0.0\": *\n#show: codly-init.with()\n#codly(zebra-fill: none)\n\n#codly(number-format: (n) =&gt; box(fill: luma(240), height: 1.5em, outset: 0.5em)[#text(luma(100), size: 1.5em)[#str(n)]])\n\n```rust\npub fn main() {\n    println!(\"Hello, world!\");\n}\n``` // you know the drill ;)\n</code></pre>\n<p>The result:<br>\n<img src=\"https://forum.typst.app/uploads/default/original/1X/570ce2a934215977014f3d3554fc8b6f28d4d768.png\" alt=\"grafik\" data-base62-sha1=\"cq5968O8ZbNrNmFQ6WFF7sYWdTO\" width=\"611\" height=\"97\"><br>\nThe outset does not effect the layout (so the surrounding styling) which makes it perfect for you usecase. It actually adds outset in the x and the y direction, so you might want to do something like <code>outset: (x: 0.5em, y: 1em)</code> depending on the size you want your numbering to be.<br>\nI’m still kind of a nooby as well, but now I got it :)</p>",
      "raw": "I actually found a way on accident :joy: \nYou can add the **outset** property to the box (not inset) like this: \n```typst\n#import \"@preview/codly:1.0.0\": *\n#show: codly-init.with()\n#codly(zebra-fill: none)\n\n#codly(number-format: (n) => box(fill: luma(240), height: 1.5em, outset: 0.5em)[#text(luma(100), size: 1.5em)[#str(n)]])\n\n```rust\npub fn main() {\n    println!(\"Hello, world!\");\n}\n``` // you know the drill ;)\n```\nThe result: \n![grafik|611x97](upload://cq5968O8ZbNrNmFQ6WFF7sYWdTO.png)\nThe outset does not effect the layout (so the surrounding styling) which makes it perfect for you usecase. It actually adds outset in the x and the y direction, so you might want to do something like `outset: (x: 0.5em, y: 1em)` depending on the size you want your numbering to be. \nI'm still kind of a nooby as well, but now I got it :)",
      "reply_to_post_number": 4,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 23,
      "score": 79.6,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 277
    },
    {
      "id": 3093,
      "post_number": 6,
      "username": "eduard",
      "name": "Eduard Antonovic Occhipinti",
      "created_at": "2024-10-01T14:15:36.109Z",
      "updated_at": "2024-10-01T14:19:04.077Z",
      "cooked": "<p>That’s kinda awesome, I like how hacky it is, thank you very much! I think this is a very popular style for raw blocks, I’ll look into making an issue on the <code>codly</code> Github about it</p>\n<p>edit:</p>\n<p>In practice, this approach breaks a bit easily but I don’t think there currently is a better way to do this, I’ll probably avoid the grey background for the moment</p>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/1X/d19c6800a3dbf7f6ef8b8a044df138ce9b48d0a0.jpeg\" data-download-href=\"https://forum.typst.app/uploads/default/d19c6800a3dbf7f6ef8b8a044df138ce9b48d0a0\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/1X/d19c6800a3dbf7f6ef8b8a044df138ce9b48d0a0_2_690x373.jpeg\" alt=\"image\" data-base62-sha1=\"tUiTbTbHtneExM26UC5YKVAGNY4\" width=\"690\" height=\"373\" srcset=\"https://forum.typst.app/uploads/default/optimized/1X/d19c6800a3dbf7f6ef8b8a044df138ce9b48d0a0_2_690x373.jpeg, https://forum.typst.app/uploads/default/optimized/1X/d19c6800a3dbf7f6ef8b8a044df138ce9b48d0a0_2_1035x559.jpeg 1.5x, https://forum.typst.app/uploads/default/optimized/1X/d19c6800a3dbf7f6ef8b8a044df138ce9b48d0a0_2_1380x746.jpeg 2x\" data-dominant-color=\"ECEBEC\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">1904×1032 208 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>",
      "raw": "That's kinda awesome, I like how hacky it is, thank you very much! I think this is a very popular style for raw blocks, I'll look into making an issue on the `codly` Github about it\n\nedit:\n\nIn practice, this approach breaks a bit easily but I don't think there currently is a better way to do this, I'll probably avoid the grey background for the moment\n\n![image|690x373](upload://tUiTbTbHtneExM26UC5YKVAGNY4.jpeg)",
      "reply_to_post_number": 5,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 23,
      "score": 14.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 464
    },
    {
      "id": 10058,
      "post_number": 7,
      "username": "Adrian_Weitkemper",
      "name": "Adron",
      "created_at": "2025-03-21T07:25:50.213Z",
      "updated_at": "2025-03-21T07:25:50.213Z",
      "cooked": "<p>Could you please provide the code? Maybe it is fixable. To me it looks like overflow which is put into the next line is causing the problem, because then you have one number for two lines of code.</p>",
      "raw": "Could you please provide the code? Maybe it is fixable. To me it looks like overflow which is put into the next line is causing the problem, because then you have one number for two lines of code.",
      "reply_to_post_number": 6,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 12,
      "score": 2.4,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 277
    }
  ],
  "scraped_at": "2025-06-10T09:57:42.394444"
}