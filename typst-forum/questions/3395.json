{
  "topic_metadata": {
    "id": 3395,
    "title": "How can I save a coordinate in Cetz?",
    "slug": "how-can-i-save-a-coordinate-in-cetz",
    "posts_count": 9,
    "created_at": "2025-03-25T16:20:14.724Z",
    "last_posted_at": "2025-03-25T19:17:12.728Z",
    "views": 86,
    "like_count": 4,
    "reply_count": 5,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 9,
    "accepted_answer_username": "Andrew",
    "tags": [],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 535
  },
  "posts": [
    {
      "id": 10231,
      "post_number": 1,
      "username": "Flavio",
      "name": "Flavio",
      "created_at": "2025-03-25T16:20:14.873Z",
      "updated_at": "2025-03-25T16:20:14.873Z",
      "cooked": "<p>I would like to achieve the equivalent of “coordinate” in Tikz. My goal is to save a coordinate (Eg. (5,0)) to a string (Eg. “my-cooord”) and use it later in the same canvas (Eg: line(“my-coord”, (rel: (0,2))). I’ve seen anchors, but to use them I have to use a group or at least a line end then I have to use dot notation (.start o .end) to retrieve the point. Thanks a lot!</p>",
      "raw": "I would like to achieve the equivalent of \"coordinate\" in Tikz. My goal is to save a coordinate (Eg. (5,0)) to a string (Eg. \"my-cooord\") and use it later in the same canvas (Eg: line(\"my-coord\", (rel: (0,2))). I've seen anchors, but to use them I have to use a group or at least a line end then I have to use dot notation (.start o .end) to retrieve the point. Thanks a lot!",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 31,
      "score": 201.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 622
    },
    {
      "id": 10236,
      "post_number": 2,
      "username": "flokl",
      "name": "",
      "created_at": "2025-03-25T17:30:39.761Z",
      "updated_at": "2025-03-25T17:30:39.761Z",
      "cooked": "<p>I have no idea about Tikz, but based on your description I think you’re looking for variables <code>let var-name = ...</code>.</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#cetz.canvas({\n  import cetz.draw: *\n  let my-coord = (5,0)\n  line(my-coord, (rel: (0,2)))\n})\n</code></pre>",
      "raw": "I have no idea about Tikz, but based on your description I think you're looking for variables `let var-name = ...`.\n\n```typst\n#cetz.canvas({\n  import cetz.draw: *\n  let my-coord = (5,0)\n  line(my-coord, (rel: (0,2)))\n})\n```",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 30,
      "score": 11.0,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 8
    },
    {
      "id": 10237,
      "post_number": 3,
      "username": "Flavio",
      "name": "Flavio",
      "created_at": "2025-03-25T17:35:09.882Z",
      "updated_at": "2025-03-25T17:35:09.882Z",
      "cooked": "<p>I want to save it in the context of the Cetz canvas, to use it later beacase I’m building a complex library, and I would like to rely on Cetz context instead of using states. Thanks anyway.</p>",
      "raw": "I want to save it in the context of the Cetz canvas, to use it later beacase I'm building a complex library, and I would like to rely on Cetz context instead of using states. Thanks anyway.",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 30,
      "score": 11.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 622
    },
    {
      "id": 10238,
      "post_number": 4,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-03-25T17:36:13.684Z",
      "updated_at": "2025-03-25T17:36:13.684Z",
      "cooked": "<p>I see 2 way to solve this:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#import \"@preview/cetz:0.3.4\"\n#cetz.canvas({\n  import cetz.draw: *\n  let my-coord = (0, 0)\n  circle(my-coord)\n  line(my-coord, (rel: (1, 2)), mark: (end: \"&gt;\"))\n\n  circle((5, 5), name: \"c\")\n  line(\"c\", (rel: (1, 2)), mark: (end: \"&gt;\"))\n})\n</code></pre>\n<p>Not sure what you mean by “save a coordinate to a string”.</p>",
      "raw": "I see 2 way to solve this:\n\n```typ\n#import \"@preview/cetz:0.3.4\"\n#cetz.canvas({\n  import cetz.draw: *\n  let my-coord = (0, 0)\n  circle(my-coord)\n  line(my-coord, (rel: (1, 2)), mark: (end: \">\"))\n\n  circle((5, 5), name: \"c\")\n  line(\"c\", (rel: (1, 2)), mark: (end: \">\"))\n})\n```\n\nNot sure what you mean by \"save a coordinate to a string\".",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 29,
      "score": 10.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 10239,
      "post_number": 5,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-03-25T17:44:32.456Z",
      "updated_at": "2025-03-25T17:44:32.456Z",
      "cooked": "<p>I guess you can do this:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#import \"@preview/cetz:0.3.4\"\n#cetz.canvas({\n  import cetz.draw: *\n  set-ctx(ctx =&gt; ctx + (my-coords: (\"my-coord\": (0, 0))))\n  get-ctx(ctx =&gt; {\n    let my-coord = ctx.my-coords.my-coord\n    circle(my-coord)\n    line(my-coord, (rel: (1, 2)), mark: (end: \"&gt;\"))\n  })\n\n  circle((5, 5), name: \"c\")\n  line(\"c\", (rel: (1, 2)), mark: (end: \"&gt;\"))\n})\n</code></pre>",
      "raw": "I guess you can do this:\n\n```typ\n#import \"@preview/cetz:0.3.4\"\n#cetz.canvas({\n  import cetz.draw: *\n  set-ctx(ctx => ctx + (my-coords: (\"my-coord\": (0, 0))))\n  get-ctx(ctx => {\n    let my-coord = ctx.my-coords.my-coord\n    circle(my-coord)\n    line(my-coord, (rel: (1, 2)), mark: (end: \">\"))\n  })\n\n  circle((5, 5), name: \"c\")\n  line(\"c\", (rel: (1, 2)), mark: (end: \">\"))\n})\n```",
      "reply_to_post_number": 3,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 28,
      "score": 5.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 10240,
      "post_number": 6,
      "username": "Flavio",
      "name": "Flavio",
      "created_at": "2025-03-25T17:53:15.677Z",
      "updated_at": "2025-03-25T17:53:15.677Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"Andrew\" data-post=\"4\" data-topic=\"3395\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/andrew/48/62_2.png\" class=\"avatar\"> Andrew:</div>\n<blockquote>\n<p>Not sure what you mean by “save a coordinate to a string”.</p>\n</blockquote>\n</aside>\n<p>I mean, to assign a string label to a point, like you have done in the circle with the attribute “name”. Something that I can use later, like you have done in line. Maybe I can use a circle with radius zero as a workaround or use your solution that seems valid. Thanks a lot!</p>",
      "raw": "[quote=\"Andrew, post:4, topic:3395\"]\nNot sure what you mean by “save a coordinate to a string”.\n[/quote]\n\nI mean, to assign a string label to a point, like you have done in the circle with the attribute \"name\". Something that I can use later, like you have done in line. Maybe I can use a circle with radius zero as a workaround or use your solution that seems valid. Thanks a lot!",
      "reply_to_post_number": 4,
      "reply_count": 1,
      "quote_count": 1,
      "like_count": 0,
      "reads": 28,
      "score": 10.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 622
    },
    {
      "id": 10243,
      "post_number": 7,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-03-25T18:10:15.728Z",
      "updated_at": "2025-03-25T18:10:15.728Z",
      "cooked": "<p>You can’t assign “a string label” to a raw point, because there are no labels and cetz doesn’t provide a way to “save a raw point”, unless you use the <code>set-ctx()</code> function, which I assume is basically the same as saving your stuff in tikz. You can however save object (shapes, groups, intersections) position by using the <code>name</code> argument. Then you can reference it, which defaults to the <code>.center</code> anchor. Or use the variables, which is also sometimes very useful, but I don’t think I use them.</p>",
      "raw": "You can't assign \"a string label\" to a raw point, because there are no labels and cetz doesn't provide a way to \"save a raw point\", unless you use the `set-ctx()` function, which I assume is basically the same as saving your stuff in tikz. You can however save object (shapes, groups, intersections) position by using the `name` argument. Then you can reference it, which defaults to the `.center` anchor. Or use the variables, which is also sometimes very useful, but I don't think I use them.",
      "reply_to_post_number": 6,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 27,
      "score": 15.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 10249,
      "post_number": 8,
      "username": "Flavio",
      "name": "Flavio",
      "created_at": "2025-03-25T19:06:36.730Z",
      "updated_at": "2025-03-25T19:06:36.730Z",
      "cooked": "<p>Thanks, you gave me the idea to assign a name to a point.</p>\n<pre><code>cetz.draw.circle(point, radius: 0, name: coordinate-name)\n</code></pre>\n<p>This works and emulate the “coordinate” function of Tikz.</p>",
      "raw": "Thanks, you gave me the idea to assign a name to a point.\n\n    cetz.draw.circle(point, radius: 0, name: coordinate-name)\n\nThis works and emulate the \"coordinate\" function of Tikz.",
      "reply_to_post_number": 7,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 25,
      "score": 5.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 622
    },
    {
      "id": 10251,
      "post_number": 9,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-03-25T19:17:12.728Z",
      "updated_at": "2025-03-25T19:17:12.728Z",
      "cooked": "<p>Actually, I was wrong, you can use the <code>anchor()</code> function for this:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#import \"@preview/cetz:0.3.4\"\n#cetz.canvas({\n  import cetz.draw: *\n  anchor(\"a\", (0, 0))\n  anchor(\"b\", (1, 1))\n  rect(\"a\", \"b\")\n})\n</code></pre>\n<p>I remembered this, probably because using a non-drawing circle to create a point is definitely not how you’re supposed to use the library, though you can.</p>",
      "raw": "Actually, I was wrong, you can use the `anchor()` function for this:\n\n```typ\n#import \"@preview/cetz:0.3.4\"\n#cetz.canvas({\n  import cetz.draw: *\n  anchor(\"a\", (0, 0))\n  anchor(\"b\", (1, 1))\n  rect(\"a\", \"b\")\n})\n```\n\nI remembered this, probably because using a non-drawing circle to create a point is definitely not how you're supposed to use the library, though you can.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 3,
      "reads": 25,
      "score": 50.0,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 51
    }
  ],
  "scraped_at": "2025-06-10T09:50:02.392219"
}