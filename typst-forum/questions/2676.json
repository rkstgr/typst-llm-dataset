{
  "topic_metadata": {
    "id": 2676,
    "title": "How can I stop numbering slides in the appendix using Polylux 0.4?",
    "slug": "how-can-i-stop-numbering-slides-in-the-appendix-using-polylux-0-4",
    "posts_count": 3,
    "created_at": "2025-02-05T08:52:09.323Z",
    "last_posted_at": "2025-02-06T13:14:25.141Z",
    "views": 122,
    "like_count": 1,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "janekfleper",
    "tags": [
      "counter",
      "presentation",
      "polylux"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 409
  },
  "posts": [
    {
      "id": 8226,
      "post_number": 1,
      "username": "joscha_krug",
      "name": "Joscha Krug",
      "created_at": "2025-02-05T08:52:09.493Z",
      "updated_at": "2025-02-05T08:52:09.493Z",
      "cooked": "<p>Hi all,</p>\n<p>I am a recent convert trying to replicate my standard LaTeX beamer template in Typst using Polylux (0.4). One thing that has been giving me a headache is how to stop incrementing the (logical) slide counter once I reach the appendix. Is there any good way to do this?</p>\n<p>The specific behaviour I want to achieve is to have an appendix at the end of my slide deck in which slides are not numbered and do not count towards the total number of slides (because I use “Slide X out of Y”-style page numbering on my main slides).</p>\n<p>My best shot so far has been to define an <code>#appendix</code> function as follows:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let appendix(content) = {\n  // do not show page numbers (or any footer at all) in the appendix\n  set page(\n    footer: none\n  )\n\n  // revert the slide number increase to the first appendix slide\n  counter(\"logical-slide\").update(n =&gt; n - 1)\n\n  // prevent the slide counter from increasing with each new slide\n  show pagebreak: it =&gt; context {\n      counter(\"logical-slide\").update(n =&gt; n - 1)\n    }\n    it\n  }\n\n  content\n}\n</code></pre>\n<p>This works well in static mode, but as soon as I add animations, I run into trouble because, obviously, a <code>pagebreak</code> happens between each subslide as well, so the logical slide counter decreases by too much.</p>\n<p>Does anyone know of a better way to prevent the slide counter from incrementing? Or of an entirely different way to store the total number of logical slides up to the appendix, and access them in the footer?</p>\n<p>Cheers,</p>\n<p>Joscha</p>",
      "raw": "Hi all,\n\nI am a recent convert trying to replicate my standard LaTeX beamer template in Typst using Polylux (0.4). One thing that has been giving me a headache is how to stop incrementing the (logical) slide counter once I reach the appendix. Is there any good way to do this?\n\nThe specific behaviour I want to achieve is to have an appendix at the end of my slide deck in which slides are not numbered and do not count towards the total number of slides (because I use \"Slide X out of Y\"-style page numbering on my main slides).\n\nMy best shot so far has been to define an `#appendix` function as follows:\n\n```typ\n#let appendix(content) = {\n  // do not show page numbers (or any footer at all) in the appendix\n  set page(\n    footer: none\n  )\n\n  // revert the slide number increase to the first appendix slide\n  counter(\"logical-slide\").update(n => n - 1)\n\n  // prevent the slide counter from increasing with each new slide\n  show pagebreak: it => context {\n      counter(\"logical-slide\").update(n => n - 1)\n    }\n    it\n  }\n\n  content\n}\n```\n\nThis works well in static mode, but as soon as I add animations, I run into trouble because, obviously, a `pagebreak` happens between each subslide as well, so the logical slide counter decreases by too much.\n\nDoes anyone know of a better way to prevent the slide counter from incrementing? Or of an entirely different way to store the total number of logical slides up to the appendix, and access them in the footer?\n\nCheers,\n\nJoscha",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 19,
      "score": 408.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1135
    },
    {
      "id": 8231,
      "post_number": 2,
      "username": "janekfleper",
      "name": "Janek Fleper",
      "created_at": "2025-02-05T12:26:46.654Z",
      "updated_at": "2025-02-05T12:26:46.654Z",
      "cooked": "<p>You can create a label to indicate the start of the appendix and then read the value of the <code>counter(\"logical-slide\")</code> at the location of the label. If you are already adding labels to your headings, you can use the last heading before the appendix or the first heading in the appendix. If that is not an option, you can use metadata to indicate the start of the appendix as shown in the code below.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let page-footer = context [\n  Slide #toolbox.slide-number out of #counter(\"logical-slide\").at(&lt;start-of-appendix&gt;).at(0)\n]\n\n#set page(footer: page-footer)\n\n#slide[Something]\n#slide[in the main]\n#slide[part of the]\n#slide[presentation]\n\n#metadata(\"This is the start of the appendix\") &lt;start-of-appendix&gt;\n#set page(footer: none)\n\n#slide[Some slides...]\n#slide[in the appendix]</code></pre>",
      "raw": "You can create a label to indicate the start of the appendix and then read the value of the `counter(\"logical-slide\")` at the location of the label. If you are already adding labels to your headings, you can use the last heading before the appendix or the first heading in the appendix. If that is not an option, you can use metadata to indicate the start of the appendix as shown in the code below.\n\n```typ\n#let page-footer = context [\n  Slide #toolbox.slide-number out of #counter(\"logical-slide\").at(<start-of-appendix>).at(0)\n]\n\n#set page(footer: page-footer)\n\n#slide[Something]\n#slide[in the main]\n#slide[part of the]\n#slide[presentation]\n\n#metadata(\"This is the start of the appendix\") <start-of-appendix>\n#set page(footer: none)\n\n#slide[Some slides...]\n#slide[in the appendix]",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 19,
      "score": 83.8,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 69
    },
    {
      "id": 8268,
      "post_number": 3,
      "username": "joscha_krug",
      "name": "Joscha Krug",
      "created_at": "2025-02-06T13:14:25.141Z",
      "updated_at": "2025-02-06T13:14:25.141Z",
      "cooked": "<p>Ah, yes, that makes perfect sense! Thank you, that is a much more straightforward solution than a hacky page count decrementer.</p>",
      "raw": "Ah, yes, that makes perfect sense! Thank you, that is a much more straightforward solution than a hacky page count decrementer.",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 15,
      "score": 3.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1135
    }
  ],
  "scraped_at": "2025-06-10T09:52:01.309047"
}