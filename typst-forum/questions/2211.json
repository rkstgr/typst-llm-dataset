{
  "topic_metadata": {
    "id": 2211,
    "title": "How to show roman page numbers in the header within the outline and arabic elsewhere?",
    "slug": "how-to-show-roman-page-numbers-in-the-header-within-the-outline-and-arabic-elsewhere",
    "posts_count": 4,
    "created_at": "2024-12-26T19:27:20.979Z",
    "last_posted_at": "2024-12-28T14:21:39.092Z",
    "views": 290,
    "like_count": 1,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 4,
    "accepted_answer_username": "Roland_Schatzle",
    "tags": [],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 372
  },
  "posts": [
    {
      "id": 6939,
      "post_number": 1,
      "username": "Roland_Schatzle",
      "name": "Roland Schätzle",
      "created_at": "2024-12-26T19:27:21.089Z",
      "updated_at": "2024-12-26T19:32:33.757Z",
      "cooked": "<p>I’m showing the current page number in the header as follows:</p>\n<pre><code class=\"lang-auto\">set page(\n    ...\n    header:  ...\n       text(font: heading-font, size: 9pt, number-type: \"lining\",\n          context counter(page).display()),\n</code></pre>\n<p>That works basically fine. But I would like</p>\n<ul>\n<li>to show roman numbers (“i”, “ii”, …) on the pages of the outline</li>\n<li>then reset the page counter to 1</li>\n<li>and to show arabic numbers within the header of the rest of the document</li>\n</ul>\n<p>How can this be achieved?</p>\n<p>Resetting the page number by <code>counter(page).update(1)</code>  when starting “the rest of the document” doesn’t affect the number displayed in the header of the first page. There it shows the next page number after the outline (e.g. if the outline has numbers 1 and 2, then it shows 3).</p>\n<p>And I have the problem when changing the number style (roman/arabic), that it doesn’t affect the display of the number in the header.</p>",
      "raw": "I'm showing the current page number in the header as follows:\n\n``` \nset page(\n    ...\n    header:  ...\n       text(font: heading-font, size: 9pt, number-type: \"lining\",\n          context counter(page).display()),\n```\n\nThat works basically fine. But I would like\n\n* to show roman numbers (\"i\", \"ii\", ...) on the pages of the outline\n* then reset the page counter to 1\n* and to show arabic numbers within the header of the rest of the document\n\nHow can this be achieved?\n\nResetting the page number by `counter(page).update(1)`  when starting \"the rest of the document\" doesn't affect the number displayed in the header of the first page. There it shows the next page number after the outline (e.g. if the outline has numbers 1 and 2, then it shows 3).\n\nAnd I have the problem when changing the number style (roman/arabic), that it doesn't affect the display of the number in the header.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 49,
      "score": 1169.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 966
    },
    {
      "id": 6940,
      "post_number": 2,
      "username": "Roland_Schatzle",
      "name": "Roland Schätzle",
      "created_at": "2024-12-26T19:41:11.368Z",
      "updated_at": "2024-12-26T19:41:30.903Z",
      "cooked": "<p>I could solve the problem with the (in-)correct numbering as follows:</p>\n<p>I don’t do <code>counter(page).update(1)</code> on the first page, but <code>counter(page).update(0)</code> on the page before (before the page break of the preceding page).</p>\n<p>Is this the “correct” way to do it?</p>",
      "raw": "I could solve the problem with the (in-)correct numbering as follows:\n\nI don't do `counter(page).update(1)` on the first page, but `counter(page).update(0)` on the page before (before the page break of the preceding page).\n\nIs this the \"correct\" way to do it?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 45,
      "score": 9.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 966
    },
    {
      "id": 6976,
      "post_number": 3,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2024-12-28T13:58:16.682Z",
      "updated_at": "2024-12-28T13:58:16.682Z",
      "cooked": "<p>There is a neat trick that should work since <a class=\"hashtag-cooked\" href=\"/tag/v0-12\" data-type=\"tag\" data-slug=\"v0-12\" data-id=\"142\"><span class=\"hashtag-icon-placeholder\"><svg class=\"fa d-icon d-icon-square-full svg-icon svg-node\"><use href=\"#square-full\"></use></svg></span><span>v0-12</span></a>, which is to put page counter updates <em>between</em> pages:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#pagebreak()\n#counter(page).update(0)\n#pagebreak(weak: true)\n</code></pre>\n<p>whether the first or the second pagebreak is weak shouldn’t matter, but one must be weak. This will make sure that the counter is updated after any footer on the old page, but before any header on the new page.</p>\n<p>Even then, I have updated the counter to 0, since it is incremented <em>at the beginning of each page</em>: setting it to 1 would lead to the first shown page number being 2, which <em>is</em> intended behavior.</p>\n<p>Unless you have both header and footer with line numbers, updating to zero is sufficient and the correct solution. If you have both, doing the between-page-trick is additionally necessary.</p>",
      "raw": "There is a neat trick that should work since #v0-12, which is to put page counter updates _between_ pages:\n```typ\n#pagebreak()\n#counter(page).update(0)\n#pagebreak(weak: true)\n```\nwhether the first or the second pagebreak is weak shouldn't matter, but one must be weak. This will make sure that the counter is updated after any footer on the old page, but before any header on the new page.\n\nEven then, I have updated the counter to 0, since it is incremented _at the beginning of each page_: setting it to 1 would lead to the first shown page number being 2, which _is_ intended behavior.\n\nUnless you have both header and footer with line numbers, updating to zero is sufficient and the correct solution. If you have both, doing the between-page-trick is additionally necessary.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 37,
      "score": 62.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 32
    },
    {
      "id": 6997,
      "post_number": 4,
      "username": "Roland_Schatzle",
      "name": "Roland Schätzle",
      "created_at": "2024-12-28T14:21:39.092Z",
      "updated_at": "2024-12-28T14:21:39.092Z",
      "cooked": "<p>Thanks <a class=\"mention\" href=\"/u/sillyfreak\">@SillyFreak</a> for that really neat trick!</p>\n<p>So, together with <a href=\"https://forum.typst.app/t/how-to-put-different-page-numbering-in-outline/968/6\" class=\"inline-onebox\">How to put different page numbering in outline? - #6 by Roland_Schatzle</a>, my questions are (almost) completely answered <img src=\"https://forum.typst.app/images/emoji/apple/blush.png?v=12\" title=\":blush:\" class=\"emoji\" alt=\":blush:\" loading=\"lazy\" width=\"20\" height=\"20\">.</p>",
      "raw": "Thanks @SillyFreak for that really neat trick!\n\nSo, together with https://forum.typst.app/t/how-to-put-different-page-numbering-in-outline/968/6?u=roland_schatzle, my questions are (almost) completely answered 😊.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 34,
      "score": 6.8,
      "accepted_answer": true,
      "trust_level": 1,
      "user_id": 966
    }
  ],
  "scraped_at": "2025-06-10T09:53:25.010396"
}