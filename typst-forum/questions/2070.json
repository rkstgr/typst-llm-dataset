{
  "topic_metadata": {
    "id": 2070,
    "title": "How to Draw a Custom Mark at Specific Points on the CetZ Canvas?",
    "slug": "how-to-draw-a-custom-mark-at-specific-points-on-the-cetz-canvas",
    "posts_count": 5,
    "created_at": "2024-12-12T20:01:50.963Z",
    "last_posted_at": "2025-06-06T00:34:03.588Z",
    "views": 394,
    "like_count": 2,
    "reply_count": 3,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "jwolf",
    "tags": [
      "graphics",
      "cetz"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 255
  },
  "posts": [
    {
      "id": 6564,
      "post_number": 1,
      "username": "Raul_Durand",
      "name": "Raul Durand",
      "created_at": "2024-12-12T20:01:51.116Z",
      "updated_at": "2024-12-15T10:19:26.282Z",
      "cooked": "<p>Hi everyone!</p>\n<p>I’m trying to draw individual marks, such as a circle, at specific points on a canvas. However, I’ve run into a challenge: it seems there’s no direct way to place a mark exactly where I want.</p>\n<p>Initially, I tried drawing an invisible line with a mark at the endpoint, but the mark doesn’t align precisely with the line’s endpoint coordinates. As a temporary solution, I used a Unicode character for the mark, as shown below:</p>\n<pre><code class=\"lang-auto\">content(X, anchor:\"center\", text(size:size, fill:color)[⬤])\n</code></pre>\n<p>This works, but it doesn’t scale properly when I change the canvas scale.</p>\n<p>Is there a better way to achieve this? Any advice would be greatly appreciated!</p>\n<p>Thanks in advance!</p>",
      "raw": "Hi everyone!\n\nI’m trying to draw individual marks, such as a circle, at specific points on a canvas. However, I’ve run into a challenge: it seems there’s no direct way to place a mark exactly where I want.\n\nInitially, I tried drawing an invisible line with a mark at the endpoint, but the mark doesn’t align precisely with the line’s endpoint coordinates. As a temporary solution, I used a Unicode character for the mark, as shown below:\n```\ncontent(X, anchor:\"center\", text(size:size, fill:color)[⬤])\n```\nThis works, but it doesn’t scale properly when I change the canvas scale.\n\nIs there a better way to achieve this? Any advice would be greatly appreciated!\n\nThanks in advance!",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 53,
      "score": 1405.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 583
    },
    {
      "id": 6615,
      "post_number": 2,
      "username": "jwolf",
      "name": "Johannes Wolf",
      "created_at": "2024-12-14T00:37:43.494Z",
      "updated_at": "2024-12-14T00:38:33.724Z",
      "cooked": "<p>Using marks <code>anchor</code> style-attribute (possible values are: <code>center</code>, <code>tip</code>, <code>base</code>), you should be able to control the positioning:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#canvas({\n  import draw: *\n\n  grid((-1,-1), (1,1), stroke: .25pt + gray)\n\n  //            ,---- Direction to point at\n  mark((0, 0), (1,0), symbol: \"o\", anchor: \"center\")\n  //   ^--- Position of the mark\n})\n</code></pre>\n<p>Gives:<br>\n<img src=\"https://forum.typst.app/uploads/default/original/2X/c/c4d6b2a9700ba6f354f1b95b2ba55fce8bb69ffa.png\" alt=\"grafik\" data-base62-sha1=\"s5jzu2WwIg1dAd5KmvelnxRcQ4y\" width=\"334\" height=\"325\"></p>",
      "raw": "Using marks `anchor` style-attribute (possible values are: `center`, `tip`, `base`), you should be able to control the positioning:\n```typst\n#canvas({\n  import draw: *\n\n  grid((-1,-1), (1,1), stroke: .25pt + gray)\n\n  //            ,---- Direction to point at\n  mark((0, 0), (1,0), symbol: \"o\", anchor: \"center\")\n  //   ^--- Position of the mark\n})\n```\n\nGives:\n![grafik|334x325](upload://s5jzu2WwIg1dAd5KmvelnxRcQ4y.png)",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 2,
      "reads": 49,
      "score": 209.6,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 72
    },
    {
      "id": 13604,
      "post_number": 3,
      "username": "Raul_Durand",
      "name": "Raul Durand",
      "created_at": "2025-06-02T22:17:53.011Z",
      "updated_at": "2025-06-02T22:17:53.011Z",
      "cooked": "<p>Very cool. Now, is there a way to avoid the transformation on marks after a rotation?</p>\n<p>In a 3d view, I get a perspective of the mark but I would like to see an actual circle.</p>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/f/f8d20e8900142cf23501ebec64c8d8d6ae85c419.png\" data-download-href=\"https://forum.typst.app/uploads/default/f8d20e8900142cf23501ebec64c8d8d6ae85c419\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/original/2X/f/f8d20e8900142cf23501ebec64c8d8d6ae85c419.png\" alt=\"image\" data-base62-sha1=\"zvaslDHG4AJjx8SxwT6XMtvukop\" width=\"549\" height=\"400\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">549×400 3.95 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>",
      "raw": "Very cool. Now, is there a way to avoid the transformation on marks after a rotation?\n\nIn a 3d view, I get a perspective of the mark but I would like to see an actual circle.\n\n![image|549x400](upload://zvaslDHG4AJjx8SxwT6XMtvukop.png)",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 19,
      "score": 3.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 583
    },
    {
      "id": 13605,
      "post_number": 4,
      "username": "Mathemensch",
      "name": "Alexander Schulz",
      "created_at": "2025-06-02T23:10:14.244Z",
      "updated_at": "2025-06-02T23:10:14.244Z",
      "cooked": "<p>You can find a solution here:</p><aside class=\"quote\" data-post=\"2\" data-topic=\"2312\">\n  <div class=\"title\">\n    <div class=\"quote-controls\"></div>\n    <img alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/sillyfreak/48/1483_2.png\" class=\"avatar\">\n    <a href=\"https://forum.typst.app/t/how-to-prevent-2d-shapes-from-being-distorted-in-a-3d-cetz-coordinate-system/2312/2\">How to prevent 2D shapes from being distorted in a 3D CetZ coordinate system?</a> <a class=\"badge-category__wrapper \" href=\"/c/questions/5\"><span data-category-id=\"5\" style=\"--category-badge-color: #F7C000; --category-badge-text-color: #fdfdfd;\" data-drop-close=\"true\" class=\"badge-category \" title=\"Your questions about using Typst and the web app go in this category.\"><span class=\"badge-category__name\">Questions</span></span></a>\n  </div>\n  <blockquote>\n    I think that means that you want to effectively want to draw on the xy plane: <a href=\"https://cetz-package.github.io/docs/api/draw-functions/projections/on-xy\" class=\"inline-onebox\">on-xy | CeTZ Documentation</a> \nif you want a circle at (x, y, z), you would use on-xy(z: z, circle((x, y))). (Admittedly I didn’t test it, if it doesn’t work could you include a minimal example so that it’s easier to test further attempts?)\n  </blockquote>\n</aside>\n",
      "raw": "You can find a solution here:\nhttps://forum.typst.app/t/how-to-prevent-2d-shapes-from-being-distorted-in-a-3d-cetz-coordinate-system/2312/2?u=mathemensch",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 19,
      "score": 23.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 307
    },
    {
      "id": 13801,
      "post_number": 5,
      "username": "Raul_Durand",
      "name": "Raul Durand",
      "created_at": "2025-06-06T00:34:03.588Z",
      "updated_at": "2025-06-06T00:34:03.588Z",
      "cooked": "<p><a class=\"mention\" href=\"/u/mathemensch\">@Mathemensch</a> that thread is for shapes, not for marks.</p>",
      "raw": "@Mathemensch that thread is for shapes, not for marks.",
      "reply_to_post_number": 4,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 14,
      "score": 2.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 583
    }
  ],
  "scraped_at": "2025-06-10T09:53:40.990814"
}