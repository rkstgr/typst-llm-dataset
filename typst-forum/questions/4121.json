{
  "topic_metadata": {
    "id": 4121,
    "title": "How does spacing of math with long subscripts, e.g. for sums, work? Can it be changed?",
    "slug": "how-does-spacing-of-math-with-long-subscripts-e-g-for-sums-work-can-it-be-changed",
    "posts_count": 5,
    "created_at": "2025-05-16T10:20:25.796Z",
    "last_posted_at": "2025-05-16T20:37:22.854Z",
    "views": 47,
    "like_count": 0,
    "reply_count": 2,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "janekfleper",
    "tags": [
      "math"
    ],
    "category_id": 5,
    "participant_count": 4,
    "word_count": 292
  },
  "posts": [
    {
      "id": 12579,
      "post_number": 1,
      "username": "Skar16",
      "name": "Torben",
      "created_at": "2025-05-16T10:20:26.142Z",
      "updated_at": "2025-05-16T13:55:31.327Z",
      "cooked": "<p>With the following math</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">$ sum_(k=N-log_2(N))^N 2^(-k) $ \n</code></pre>\n<p>The distance of the actual Sum operator 2^(-k)  to the sum symbol seems quite far. This is cause of the long index.</p>\n<p>Question:<br>\nHow does typst calculate the distance based on the main character (sum) or the “farest away” character that inherates from the main character?<br>\nIs it possible to avoid this and place the base near the operation(sum)?</p>",
      "raw": "With the following math\n```typst\n$ sum_(k=N-log_2(N))^N 2^(-k) $ \n```\nThe distance of the actual Sum operator 2^(-k)  to the sum symbol seems quite far. This is cause of the long index. \n\nQuestion: \nHow does typst calculate the distance based on the main character (sum) or the \"farest away\" character that inherates from the main character?\nIs it possible to avoid this and place the base near the operation(sum)?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 25,
      "score": 15.0,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 830
    },
    {
      "id": 12585,
      "post_number": 2,
      "username": "janekfleper",
      "name": "Janek Fleper",
      "created_at": "2025-05-16T12:14:02.246Z",
      "updated_at": "2025-05-16T12:14:02.246Z",
      "cooked": "<p>You can use <a href=\"https://typst.app/docs/reference/layout/place/\"><code>place()</code></a> for the index to ignore the width of the index for the spacing around the sum. To recover the correct font size and spacing in the index, you have to use the <a href=\"https://typst.app/docs/reference/math/sizes#functions-script\"><code>script()</code></a> function.</p>\n<p>With the current anchor <code>horizon + center</code> the vertical index position is not perfectly recovered. If this bothers you, you can use the parameter <code>dy</code> to adjust this.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let index(body) = place(horizon + center, $script(body)$)\n$ sum_(index(k=N-log_2(N)))^N 2^(-k) $\n</code></pre>",
      "raw": "You can use [`place()`](https://typst.app/docs/reference/layout/place/) for the index to ignore the width of the index for the spacing around the sum. To recover the correct font size and spacing in the index, you have to use the [`script()`](https://typst.app/docs/reference/math/sizes#functions-script) function.\n\nWith the current anchor `horizon + center` the vertical index position is not perfectly recovered. If this bothers you, you can use the parameter `dy` to adjust this.\n\n```\n#let index(body) = place(horizon + center, $script(body)$)\n$ sum_(index(k=N-log_2(N)))^N 2^(-k) $\n```",
      "reply_to_post_number": null,
      "reply_count": 2,
      "quote_count": 0,
      "like_count": 0,
      "reads": 22,
      "score": 14.4,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 69
    },
    {
      "id": 12595,
      "post_number": 3,
      "username": "Skar16",
      "name": "Torben",
      "created_at": "2025-05-16T15:21:47.413Z",
      "updated_at": "2025-05-16T15:21:47.413Z",
      "cooked": "<p>thanks that will work, a bit hacky but it will fit the use case. Appreciate it :)</p>",
      "raw": "thanks that will work, a bit hacky but it will fit the use case. Appreciate it :)",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 19,
      "score": 3.8,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 830
    },
    {
      "id": 12600,
      "post_number": 4,
      "username": "bluss",
      "name": "Ulrik",
      "created_at": "2025-05-16T17:15:49.536Z",
      "updated_at": "2025-05-16T17:15:49.536Z",
      "cooked": "<p>Using <code>place</code> seems more elegant, but there’s a separate implementation here <a href=\"https://forum.typst.app/t/smashoperator-analogue/1763/4\" class=\"inline-onebox\">Smashoperator Analogue - #4 by Eric</a></p>",
      "raw": "Using `place` seems more elegant, but there's a separate implementation here https://forum.typst.app/t/smashoperator-analogue/1763/4?u=bluss",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 17,
      "score": 3.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 1272
    },
    {
      "id": 12627,
      "post_number": 5,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-05-16T20:37:22.854Z",
      "updated_at": "2025-05-16T20:37:33.568Z",
      "cooked": "<p>This will reduce space under the expression. Either it’s not a big deal, or you would have to compensate this with something like a show-set rule for equation-block or <a href=\"https://typst.app/docs/reference/layout/v\"><code>v</code></a>.</p>\n<details><summary>Code</summary>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">$ sum_(k=N-log_2(N))^N 2^(-k) $\n\n#lorem(50)\n\n#let index(body) = place(horizon + center, $script(body)$)\n$ sum_(index(k=N-log_2(N)))^N 2^(-k) $\n\n#lorem(50)\n</code></pre>\n</details>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/2/202c1f4f32ce65817803ff64119b01fcd5b368d6.png\" alt=\"image\" data-base62-sha1=\"4ABOg8OaQigEahzCCJtRsYVR7sa\" width=\"119\" height=\"327\"></p>",
      "raw": "This will reduce space under the expression. Either it's not a big deal, or you would have to compensate this with something like a show-set rule for equation-block or [`v`](https://typst.app/docs/reference/layout/v).\n\n<details><summary>Code</summary>\n\n```typ\n$ sum_(k=N-log_2(N))^N 2^(-k) $\n\n#lorem(50)\n\n#let index(body) = place(horizon + center, $script(body)$)\n$ sum_(index(k=N-log_2(N)))^N 2^(-k) $\n\n#lorem(50)\n```\n\n</details>\n\n![image|159x436, 75%](upload://4ABOg8OaQigEahzCCJtRsYVR7sa.png)",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 12,
      "score": 2.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    }
  ],
  "scraped_at": "2025-06-10T09:47:45.365050"
}