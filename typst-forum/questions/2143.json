{
  "topic_metadata": {
    "id": 2143,
    "title": "How to format Roman O in math mode?",
    "slug": "how-to-format-roman-o-in-math-mode",
    "posts_count": 7,
    "created_at": "2024-12-19T01:39:14.857Z",
    "last_posted_at": "2024-12-20T14:40:27.090Z",
    "views": 153,
    "like_count": 3,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 5,
    "accepted_answer_username": "Mark_Dean",
    "tags": [
      "math"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 450
  },
  "posts": [
    {
      "id": 6753,
      "post_number": 1,
      "username": "Mark_Dean",
      "name": "Mark Dean",
      "created_at": "2024-12-19T01:39:15.021Z",
      "updated_at": "2024-12-19T04:22:59.271Z",
      "cooked": "<p>I want to write a simple chemical formula of the type:</p>\n<p>$“Cu”_2\"O\"_2$</p>\n<p>Why does typst format the O as italic and not Roman as it should be when enclosed with “”?</p>",
      "raw": "I want to write a simple chemical formula of the type:\n\n$\"Cu\"_2\"O\"_2$\n\nWhy does typst format the O as italic and not Roman as it should be when enclosed with \"\"?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 33,
      "score": 221.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 954
    },
    {
      "id": 6759,
      "post_number": 2,
      "username": "PgBiel",
      "name": "",
      "created_at": "2024-12-19T04:23:10.190Z",
      "updated_at": "2024-12-19T04:23:10.190Z",
      "cooked": "<p>Hey <a class=\"mention\" href=\"/u/mark_dean\">@Mark_Dean</a>, welcome to the forum! I’ve changed your question post’s title to better fit our guidelines: <a href=\"https://forum.typst.app/t/how-to-post-in-the-questions-category/11\" class=\"inline-onebox\">How to post in the Questions category</a></p>\n<p>For future posts, make sure your title is a question you’d ask to a friend about Typst. <img src=\"https://forum.typst.app/images/emoji/apple/wink.png?v=12\" title=\":wink:\" class=\"emoji\" alt=\":wink:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>",
      "raw": "Hey @Mark_Dean, welcome to the forum! I’ve changed your question post’s title to better fit our guidelines: https://forum.typst.app/t/how-to-post-in-the-questions-category/11\n\nFor future posts, make sure your title is a question you’d ask to a friend about Typst. :wink:",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 33,
      "score": 26.6,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 3
    },
    {
      "id": 6760,
      "post_number": 3,
      "username": "PgBiel",
      "name": "",
      "created_at": "2024-12-19T04:31:59.643Z",
      "updated_at": "2024-12-19T04:32:27.275Z",
      "cooked": "<p>This is a known bug and there have been several attempts to fix it, without success so far. It is an interaction with how typing a single letter (e.g. <code>x</code>) produces a variable.</p>\n<p>You can work around this by typing <code>upright(\"O\")</code>, or even (in a pinch) <code>\" O\"</code> or similar.</p>\n<p>But given your intentions, as you appear to be typesetting chemical equations, I’ll first and foremost recommend the <code>whalogen</code> package, which seems to be made for this: <a href=\"https://typst.app/universe/package/whalogen\" class=\"inline-onebox\">whalogen – Typst Universe</a></p>\n<p>If it doesn’t satisfy your needs, however, here are several alternatives. You can use variables to save some typing:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">// Alternative 1 (requires '#' to disambiguate with variables, more annoying)\n#let O = $upright(\"O\")$\n\n// Alternative 2 (does not require '#', better)\n#let Ox = $upright(\"O\")$\n\n// Also, just for completeness:\n#let Cu = $\"Cu\"$\n\n// Usage of both:\n\n// Requires semicolon as \"#O_2\" is a valid variable name...\n$ Cu_2 #O;_2 $\n\n// A bit saner in my opinion\n$ Cu_2 Ox_2 $\n</code></pre>\n<p>An alternative is to use a show rule to ensure all isolated 'O’s in math mode are typeset as upright. I’d recommend isolating the show rule in a dedicated function in this case, to not affect mathematical equations:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let ce(body) = {\n  show math.equation: it =&gt; {\n     show regex(\"\\bO\\b\"): math.upright\n     it\n  }\n  body\n}\n\n\n#ce($ \"Cu\"_2 O_2 $)\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/3/3477e0885fa1d4f089f015ba6afbc4d80bbc9244.png\" alt=\"Cu2O2 (no italic O)\" data-base62-sha1=\"7u9Fa7PO33h0k7mqgmrnlHjl8dm\" width=\"263\" height=\"152\"></p>\n<p>(<strong>By the way:</strong> You can also insert syntax-highlighted Typst code snippets with ```typ SOME CODE HERE``` , try it out!)</p>",
      "raw": "This is a known bug and there have been several attempts to fix it, without success so far. It is an interaction with how typing a single letter (e.g. `x`) produces a variable.\n\n\n\nYou can work around this by typing `upright(\"O\")`, or even (in a pinch) `\" O\"` or similar.\n\nBut given your intentions, as you appear to be typesetting chemical equations, I'll first and foremost recommend the `whalogen` package, which seems to be made for this: https://typst.app/universe/package/whalogen\n\nIf it doesn't satisfy your needs, however, here are several alternatives. You can use variables to save some typing:\n\n\n```typ\n// Alternative 1 (requires '#' to disambiguate with variables, more annoying)\n#let O = $upright(\"O\")$\n\n// Alternative 2 (does not require '#', better)\n#let Ox = $upright(\"O\")$\n\n// Also, just for completeness:\n#let Cu = $\"Cu\"$\n\n// Usage of both:\n\n// Requires semicolon as \"#O_2\" is a valid variable name...\n$ Cu_2 #O;_2 $\n\n// A bit saner in my opinion\n$ Cu_2 Ox_2 $\n```\n\nAn alternative is to use a show rule to ensure all isolated 'O's in math mode are typeset as upright. I'd recommend isolating the show rule in a dedicated function in this case, to not affect mathematical equations:\n\n```typ\n#let ce(body) = {\n  show math.equation: it => {\n     show regex(\"\\bO\\b\"): math.upright\n     it\n  }\n  body\n}\n\n\n#ce($ \"Cu\"_2 O_2 $)\n```\n![Cu2O2 (no italic O)|263x152](upload://7u9Fa7PO33h0k7mqgmrnlHjl8dm.png)\n\n(**By the way:** You can also insert syntax-highlighted Typst code snippets with \\`\\`\\`typ SOME CODE HERE\\`\\`\\` , try it out!)",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 34,
      "score": 36.8,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 3
    },
    {
      "id": 6770,
      "post_number": 4,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2024-12-19T10:43:36.453Z",
      "updated_at": "2024-12-19T10:44:48.757Z",
      "cooked": "<p>FYI, there exists another package for that purpose by <a class=\"mention\" href=\"/u/james\">@James</a> (I think), which seems to support more notations than whalogen (at least on the upstream version).</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#import \"@preview/chem-par:0.0.1\": *\n#show: chem-style\nCu2O2\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/9/91ce9f6b1479b9d8aa26807600029703b4402e70.png\" alt=\"image\" data-base62-sha1=\"kNRV3Tl3cbQEG9AC2Ru6hYfLK6c\" width=\"606\" height=\"298\"></p>",
      "raw": "FYI, there exists another package for that purpose by @James (I think), which seems to support more notations than whalogen (at least on the upstream version).\n\n```typ\n#import \"@preview/chem-par:0.0.1\": *\n#show: chem-style\nCu2O2\n```\n![image|606x298](upload://kNRV3Tl3cbQEG9AC2Ru6hYfLK6c.png)",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 31,
      "score": 21.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 6779,
      "post_number": 5,
      "username": "Mark_Dean",
      "name": "Mark Dean",
      "created_at": "2024-12-19T15:58:51.324Z",
      "updated_at": "2024-12-19T15:58:51.324Z",
      "cooked": "<p>Thank you all.</p>\n<p>I’m writing a CV without any math, and without much desire to include more dependencies. For me, it is sufficient to suppress all math mode italic O.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show math.equation: it =&gt; {\n     show regex(\"\\bO\\b\"): math.upright\n     it\n  }\n</code></pre>",
      "raw": "Thank you all. \n\nI'm writing a CV without any math, and without much desire to include more dependencies. For me, it is sufficient to suppress all math mode italic O. \n\n```typ\n#show math.equation: it => {\n     show regex(\"\\bO\\b\"): math.upright\n     it\n  }\n```",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 24,
      "score": 4.8,
      "accepted_answer": true,
      "trust_level": 1,
      "user_id": 954
    },
    {
      "id": 6795,
      "post_number": 6,
      "username": "PgBiel",
      "name": "",
      "created_at": "2024-12-20T05:20:47.177Z",
      "updated_at": "2024-12-20T05:20:47.177Z",
      "cooked": "<p>Sounds great <a class=\"mention\" href=\"/u/mark_dean\">@Mark_Dean</a>. If a particular reply solved your problem, would you mind marking it as a solution with the <img src=\"https://forum.typst.app/images/emoji/apple/white_check_mark.png?v=12\" title=\":white_check_mark:\" class=\"emoji\" alt=\":white_check_mark:\" loading=\"lazy\" width=\"20\" height=\"20\"> (check mark) button? Thanks!</p>",
      "raw": "Sounds great @Mark_Dean. If a particular reply solved your problem, would you mind marking it as a solution with the :white_check_mark: (check mark) button? Thanks!",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 23,
      "score": 9.6,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 3
    },
    {
      "id": 6801,
      "post_number": 7,
      "username": "Mark_Dean",
      "name": "Mark Dean",
      "created_at": "2024-12-20T14:40:27.090Z",
      "updated_at": "2024-12-20T14:40:27.090Z",
      "cooked": "<p>I just ticked it. Thanks for the help.</p>",
      "raw": "I just ticked it. Thanks for the help.",
      "reply_to_post_number": 6,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 19,
      "score": 48.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 954
    }
  ],
  "scraped_at": "2025-06-10T09:53:30.803695"
}