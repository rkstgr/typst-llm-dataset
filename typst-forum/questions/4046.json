{
  "topic_metadata": {
    "id": 4046,
    "title": "How can I automate level 1 headings always occur on a new recto page?",
    "slug": "how-can-i-automate-level-1-headings-always-occur-on-a-new-recto-page",
    "posts_count": 5,
    "created_at": "2025-05-12T10:27:31.721Z",
    "last_posted_at": "2025-05-13T19:22:51.849Z",
    "views": 80,
    "like_count": 1,
    "reply_count": 3,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "Andrew",
    "tags": [
      "scripting",
      "layout"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 349
  },
  "posts": [
    {
      "id": 12331,
      "post_number": 1,
      "username": "Mark_Hilton",
      "name": "Mark Hilton",
      "created_at": "2025-05-12T10:27:31.840Z",
      "updated_at": "2025-05-12T10:27:31.840Z",
      "cooked": "<p>I have the following code for heading 1:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show heading.where(\n  level: 1\n): it =&gt; block(sticky: true, width: 100%)[\n  #set align(center)\n  #set text(24pt, weight: \"regular\")\n  #smallcaps(it.body)\n]\n</code></pre>\n<p>I want these to begin a recto page (think Chapter start), so at the moment, I include the line:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#pagebreak(weak: true, to: \"odd\")\n</code></pre>\n<p>before each <code>= Heading text</code> within the text itself.</p>\n<p>Is it possible, and if so how, to modify the <code>#show</code> rule to incorporate the new page command immediately before the heading, so as to obviate the need of repeating it throughout the document?</p>\n<p>Many thanks.</p>\n<p><img src=\"https://forum.typst.app/images/emoji/apple/slight_smile.png?v=12\" title=\":slight_smile:\" class=\"emoji only-emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"><br>\nMark</p>",
      "raw": "I have the following code for heading 1:\n\n```typ\n#show heading.where(\n  level: 1\n): it => block(sticky: true, width: 100%)[\n  #set align(center)\n  #set text(24pt, weight: \"regular\")\n  #smallcaps(it.body)\n]\n```\n\nI want these to begin a recto page (think Chapter start), so at the moment, I include the line:\n\n```typ\n#pagebreak(weak: true, to: \"odd\")\n```\nbefore each `= Heading text` within the text itself.\n\nIs it possible, and if so how, to modify the `#show` rule to incorporate the new page command immediately before the heading, so as to obviate the need of repeating it throughout the document?\n\nMany thanks.\n\n:slight_smile: \n Mark",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 27,
      "score": 105.2,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 1276
    },
    {
      "id": 12337,
      "post_number": 2,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-05-12T12:38:59.234Z",
      "updated_at": "2025-05-12T12:41:32.591Z",
      "cooked": "<p>Don’t use show rules unless you have to, especially if you put set rules inside. You will face <a href=\"https://forum.typst.app/t/which-show-rule-takes-precedence/3904\" class=\"inline-onebox\">Which show rule takes precedence?</a> or <a href=\"https://github.com/typst/typst/issues/6219\" class=\"inline-onebox\">Set rule inside show rule (closure) for the same element gets applied for table/grid · Issue #6219 · typst/typst · GitHub</a>.</p>\n<p>Prioritize show-set rules and keep show rules minimal/non-hacky:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show heading.where(level: 1): set align(center)\n#show heading.where(level: 1): set text(24pt, weight: \"regular\")\n#show heading.where(level: 1): smallcaps\n#show heading.where(level: 1): it =&gt; pagebreak(weak: true, to: \"odd\") + it\n\n= Chapter A\n#lorem(50)\n\n= Chapter B\n#lorem(50)\n</code></pre>\n<p>This is the most idiomatic way, but since show rules are used, you won’t be able to un-smallcaps or un-pagebreak level 1 heading, unless this is set inside a non-root scope. But at least all other heading features/behavior will work.</p>",
      "raw": "Don't use show rules unless you have to, especially if you put set rules inside. You will face https://forum.typst.app/t/which-show-rule-takes-precedence/3904 or https://github.com/typst/typst/issues/6219.\n\nPrioritize show-set rules and keep show rules minimal/non-hacky:\n\n```typ\n#show heading.where(level: 1): set align(center)\n#show heading.where(level: 1): set text(24pt, weight: \"regular\")\n#show heading.where(level: 1): smallcaps\n#show heading.where(level: 1): it => pagebreak(weak: true, to: \"odd\") + it\n\n= Chapter A\n#lorem(50)\n\n= Chapter B\n#lorem(50)\n```\n\nThis is the most idiomatic way, but since show rules are used, you won't be able to un-smallcaps or un-pagebreak level 1 heading, unless this is set inside a non-root scope. But at least all other heading features/behavior will work.",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 25,
      "score": 15.0,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 12347,
      "post_number": 3,
      "username": "Mark_Hilton",
      "name": "Mark Hilton",
      "created_at": "2025-05-12T15:32:38.476Z",
      "updated_at": "2025-05-12T15:33:08.504Z",
      "cooked": "<p>Thank you. That does just what I want.</p>\n<p>As for my code, that was based on the example given in the ‘Advanced Styling’ section of the Tutorial—with input from <a class=\"mention\" href=\"/u/pgbiel\">@PgBiel</a> in answer to a related question! I guess one of the problems with Typst being still very much in development is that the Tutorial doesn’t get updated to match so quickly.</p>\n<p><img src=\"https://forum.typst.app/images/emoji/apple/slight_smile.png?v=12\" title=\":slight_smile:\" class=\"emoji only-emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"><br>\nMark</p>",
      "raw": "Thank you. That does just what I want.\n\nAs for my code, that was based on the example given in the ‘Advanced Styling’ section of the Tutorial—with input from @PgBiel in answer to a related question! I guess one of the problems with Typst being still very much in development is that the Tutorial doesn't get updated to match so quickly. \n\n:slight_smile: \n Mark",
      "reply_to_post_number": 2,
      "reply_count": 2,
      "quote_count": 0,
      "like_count": 1,
      "reads": 23,
      "score": 29.6,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 1276
    },
    {
      "id": 12349,
      "post_number": 4,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-05-12T15:52:51.597Z",
      "updated_at": "2025-05-13T20:03:05.992Z",
      "cooked": "<p>Thank you for context, I’ll look into it.</p>\n<aside class=\"onebox githubissue\" data-onebox-src=\"https://github.com/typst/typst/issues/6273\">\n  <header class=\"source\">\n\n      <a href=\"https://github.com/typst/typst/issues/6273\" target=\"_blank\" rel=\"noopener\">github.com/typst/typst</a>\n  </header>\n\n  <article class=\"onebox-body\">\n    <div class=\"github-row\">\n  <div class=\"github-icon-container\" title=\"Issue\" data-github-private-repo=\"false\">\n\t  <svg width=\"60\" height=\"60\" class=\"github-icon\" viewBox=\"0 0 14 16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z\"></path></svg>\n  </div>\n\n  <div class=\"github-info-container\">\n    <h4>\n      <a href=\"https://github.com/typst/typst/issues/6273\" target=\"_blank\" rel=\"noopener\">Non-idiomatic advanced heading styling in documentation</a>\n    </h4>\n\n    <div class=\"github-info\">\n      <div class=\"date\">\n        opened <span class=\"discourse-local-date\" data-format=\"ll\" data-date=\"2025-05-12\" data-time=\"16:00:04\" data-timezone=\"UTC\">04:00PM - 12 May 25 UTC</span>\n      </div>\n\n\n      <div class=\"user\">\n        <a href=\"https://github.com/Andrew15-5\" target=\"_blank\" rel=\"noopener\">\n          <img alt=\"Andrew15-5\" src=\"https://forum.typst.app/uploads/default/original/1X/8c66fc8b1c207ba90488266df18b206a61b1fc49.png\" class=\"onebox-avatar-inline\" width=\"20\" height=\"20\" data-dominant-color=\"707C3A\">\n          Andrew15-5\n        </a>\n      </div>\n    </div>\n\n    <div class=\"labels\">\n        <span style=\"display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;\">\n          docs\n        </span>\n    </div>\n  </div>\n</div>\n\n  <div class=\"github-row\">\n    <p class=\"github-body-container\">### Description\n\nUnder https://typst.app/docs/tutorial/advanced-styling/#columns<span class=\"show-more-container\"><a href=\"\" rel=\"noopener\" class=\"show-more\">…</a></span><span class=\"excerpt hidden\">-and-headings, there is\n\n```typ\n#show heading.where(\n  level: 1\n): it =&gt; block(width: 100%)[\n  #set align(center)\n  #set text(13pt, weight: \"regular\")\n  #smallcaps(it.body)\n]\n\n#show heading.where(\n  level: 2\n): it =&gt; text(\n  size: 11pt,\n  weight: \"regular\",\n  style: \"italic\",\n  it.body + [.],\n)\n```\n\nWhich might be good enough in isolation, but it gives a bad example for new users, as you always should prefer show-set rules over show rules. It's not idiomatic, nor the formatting is good.\n\nThis example can lead to inability to further style, or sometimes not being able to style in the first place. See [this](https://forum.typst.app/t/which-show-rule-takes-precedence/3904?u=andrew) and [this](https://github.com/typst/typst/issues/6219).\n\nIs this example so old, or was this not considered?\n\n[Context](https://forum.typst.app/t/how-can-i-automate-level-1-headings-always-occur-on-a-new-recto-page/4046?u=andrew)</span></p>\n  </div>\n\n  </article>\n\n  <div class=\"onebox-metadata\">\n    \n    \n  </div>\n\n  <div style=\"clear: both\"></div>\n</aside>\n",
      "raw": "Thank you for context, I'll look into it.\n\nhttps://github.com/typst/typst/issues/6273",
      "reply_to_post_number": 3,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 23,
      "score": 4.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 12403,
      "post_number": 5,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2025-05-13T19:22:51.849Z",
      "updated_at": "2025-05-13T19:22:51.849Z",
      "cooked": "<p>Hi <a class=\"mention\" href=\"/u/mark_hilton\">@Mark_Hilton</a>, glad you got a satisfying answer! Please don’t forget to mark it as the solution, so that others can more easily find it later.</p>",
      "raw": "Hi @Mark_Hilton, glad you got a satisfying answer! Please don’t forget to mark it as the solution, so that others can more easily find it later.",
      "reply_to_post_number": 3,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 17,
      "score": 3.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 32
    }
  ],
  "scraped_at": "2025-06-10T09:47:57.975481"
}