{
  "topic_metadata": {
    "id": 3731,
    "title": "What are the semantics of show rules wrapping headings in a block?",
    "slug": "what-are-the-semantics-of-show-rules-wrapping-headings-in-a-block",
    "posts_count": 11,
    "created_at": "2025-04-19T21:52:16.108Z",
    "last_posted_at": "2025-04-21T05:45:57.543Z",
    "views": 117,
    "like_count": 5,
    "reply_count": 7,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "Andrew",
    "tags": [
      "scripting",
      "layout"
    ],
    "category_id": 5,
    "participant_count": 4,
    "word_count": 1478
  },
  "posts": [
    {
      "id": 11350,
      "post_number": 1,
      "username": "T1ng",
      "name": "Jens",
      "created_at": "2025-04-19T21:52:16.215Z",
      "updated_at": "2025-04-21T01:19:15.211Z",
      "cooked": "<p>Earlier, I raised what I thought was a bug <a href=\"https://github.com/typst/typst/issues/6197\" rel=\"noopener nofollow ugc\">on GitHub</a>, which I then got told was intentional behavior.</p>\n<p>The question is regarding show rules targeting headings.</p>\n<p>Consider the following snippet</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set page(height: auto, width: auto, margin: 1cm)\n#show heading: block // this line does not affect anything ?!\n\n= hello\n// big space between these headings\n= hello\n// smaller space here\n#block(heading[hello])\n// big space again\n= hello\n// also big space\n= hello\n// small space again\n#block(heading[hello])\n// and big spacing for consecutive block-wrapped headings\n#block(heading[hello])\n</code></pre>\n<p>Which produces the following output:<br>\n<img src=\"https://forum.typst.app/uploads/default/original/2X/c/cbd9189e3eb39366aafeb9707629a82e371aae46.png\" alt=\"image\" data-base62-sha1=\"t5k3hiRD4C1tLcBeW9vienjphci\" width=\"138\" height=\"323\"></p>\n<p>As to my understanding, the <code>show element: function</code> syntax (<code>show heading: block</code> in this case), is esentially a wrapper for <code>function(element(content))</code> (i.e. <code>block(heading(content))</code>).</p>\n<p>Another example is the code</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show \"Project\": smallcaps\n</code></pre>\n<p>taken directly from the <a href=\"https://typst.app/docs/reference/styling/#show-rules\">docs</a>. Naturally, this would be a wrap any <code>Project</code> to <code>#smallcaps[Project]</code>.</p>\n<p>I am not quite sure I understand the answer provided on GitHub, as I read it, it would assume the order <code>heading(block(content))</code>, or some hidden semantic rule?</p>\n<p>Can someone explain to me why there is a difference between wrapping a heading manually and via a show rule – where do the semantics change?</p>",
      "raw": "Earlier, I raised what I thought was a bug [on GitHub](https://github.com/typst/typst/issues/6197), which I then got told was intentional behavior.\n\nThe question is regarding show rules targeting headings.\n\nConsider the following snippet\n\n\n```typ\n#set page(height: auto, width: auto, margin: 1cm)\n#show heading: block // this line does not affect anything ?!\n\n= hello\n// big space between these headings\n= hello\n// smaller space here\n#block(heading[hello])\n// big space again\n= hello\n// also big space\n= hello\n// small space again\n#block(heading[hello])\n// and big spacing for consecutive block-wrapped headings\n#block(heading[hello])\n```\n\nWhich produces the following output:\n![image|185x431, 75%](upload://t5k3hiRD4C1tLcBeW9vienjphci.png)\n\nAs to my understanding, the `show element: function` syntax (`show heading: block` in this case), is esentially a wrapper for `function(element(content))` (i.e. `block(heading(content))`).\n\nAnother example is the code\n```typ\n#show \"Project\": smallcaps\n```\ntaken directly from the [docs](https://typst.app/docs/reference/styling/#show-rules). Naturally, this would be a wrap any `Project` to `#smallcaps[Project]`.\n\nI am not quite sure I understand the answer provided on GitHub, as I read it, it would assume the order `heading(block(content))`, or some hidden semantic rule?\n\nCan someone explain to me why there is a difference between wrapping a heading manually and via a show rule -- where do the semantics change?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 37,
      "score": 87.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1484
    },
    {
      "id": 11351,
      "post_number": 2,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-19T22:54:26.176Z",
      "updated_at": "2025-04-19T23:15:40.391Z",
      "cooked": "<p>There are default show-set rules for <code>heading</code> in <a href=\"https://github.com/typst/typst/blob/c21c1c391b48f843c8671993a28eaf1fe0d40b89/crates/typst-library/src/model/heading.rs#L308-L329\" class=\"inline-onebox\" rel=\"noopener nofollow ugc\">typst/crates/typst-library/src/model/heading.rs at c21c1c391b48f843c8671993a28eaf1fe0d40b89 · typst/typst · GitHub</a> that are almost like:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show heading: it =&gt; {\n  let level = it.level\n  let scale = (1.4, 1.2).at(level - 1, default: 1.0)\n\n  let size = 1em * scale\n  // level 1: 1.285714286em\n  let above = 1em * (if level == 1 { 1.8 } else { 1.44 }) / scale\n  // level 1: 0.535714286em\n  let below = 0.75em / scale\n\n  set text(size, weight: \"bold\")\n  set block(above: above, below: below, sticky: true)\n  it\n}\n</code></pre>\n<p>While the default <code>block</code> settings is just</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set block(spacing: 1.2em)\n</code></pre>\n<p><code>above</code> and <code>below</code> will inherit the <code>spacing</code> unless overridden.</p>\n<p>If you do <code>show heading: block</code>, then it will wrap heading <code>block</code> into <code>block</code> and you will get <code>block(block(heading content))</code>. Since <code>heading</code> show rule doesn’t set any <code>block</code> stuff other than <code>inset</code>, the show-set rules are doing all the work on <code>block</code> and <code>text</code>.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set page(height: auto, width: auto, margin: 1cm)\n= hello 1 // below: ~0.54em\n= hello 2 // above: ~1.29em, below: ~0.54em\n#block(heading[hello 3]) // spacing: 1.2em\n#block(heading[hello 4]) // spacing: 1.2em\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/6/6b6de93e1ed952c425d169faeba0a313912626f8.png\" alt=\"image\" data-base62-sha1=\"fkmzvOwalCSsI2DDcfY5vd97hQA\" width=\"201\" height=\"290\"></p>\n<p>Here, between 1 and 2 you have 0.54 and 1.29, so the bigger margin wins.<br>\nBetween 2 and 3 you have 0.54 and <code>auto</code>, so since 0.54 <code>below</code> is more specific than 1.2 <code>spacing</code>, the 0.54 wins.<br>\nBetween 3 and 4 you have 1.2 <code>spacing</code>, so this is what used.</p>\n<p>I guess this is the logic, though I didn’t look into it before.</p>\n<p>There is also a separate problem that when you override <code>em</code> with <code>em</code> in some cases, it will stack up, see <a href=\"https://github.com/typst/typst/issues/1331\" class=\"inline-onebox\" rel=\"noopener nofollow ugc\">Smaller font when using a raw block in a show rule · Issue #1331 · typst/typst · GitHub</a>.</p>\n<hr>\n<p>After thinking for a bit, I guess the outer block absorbs the inner settings, because the inner one is the only element inside outer block, so its settings don’t affect anything around. So, in the end, I think the behavior makes sense.</p>",
      "raw": "There are default show-set rules for `heading` in https://github.com/typst/typst/blob/c21c1c391b48f843c8671993a28eaf1fe0d40b89/crates/typst-library/src/model/heading.rs#L308-L329 that are almost like:\n\n```typ\n#show heading: it => {\n  let level = it.level\n  let scale = (1.4, 1.2).at(level - 1, default: 1.0)\n\n  let size = 1em * scale\n  // level 1: 1.285714286em\n  let above = 1em * (if level == 1 { 1.8 } else { 1.44 }) / scale\n  // level 1: 0.535714286em\n  let below = 0.75em / scale\n\n  set text(size, weight: \"bold\")\n  set block(above: above, below: below, sticky: true)\n  it\n}\n```\n\nWhile the default `block` settings is just\n\n```typ\n#set block(spacing: 1.2em)\n```\n\n`above` and `below` will inherit the `spacing` unless overridden.\n\nIf you do `show heading: block`, then it will wrap heading `block` into `block` and you will get `block(block(heading content))`. Since `heading` show rule doesn't set any `block` stuff other than `inset`, the show-set rules are doing all the work on `block` and `text`.\n\n```typ\n#set page(height: auto, width: auto, margin: 1cm)\n= hello 1 // below: ~0.54em\n= hello 2 // above: ~1.29em, below: ~0.54em\n#block(heading[hello 3]) // spacing: 1.2em\n#block(heading[hello 4]) // spacing: 1.2em\n```\n\n![image|201x290](upload://fkmzvOwalCSsI2DDcfY5vd97hQA.png)\n\nHere, between 1 and 2 you have 0.54 and 1.29, so the bigger margin wins.\nBetween 2 and 3 you have 0.54 and `auto`, so since 0.54 `below` is more specific than 1.2 `spacing`, the 0.54 wins.\nBetween 3 and 4 you have 1.2 `spacing`, so this is what used.\n\nI guess this is the logic, though I didn't look into it before.\n\nThere is also a separate problem that when you override `em` with `em` in some cases, it will stack up, see https://github.com/typst/typst/issues/1331.\n\n---\n\nAfter thinking for a bit, I guess the outer block absorbs the inner settings, because the inner one is the only element inside outer block, so its settings don't affect anything around. So, in the end, I think the behavior makes sense.",
      "reply_to_post_number": null,
      "reply_count": 3,
      "quote_count": 0,
      "like_count": 3,
      "reads": 37,
      "score": 112.4,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 11352,
      "post_number": 3,
      "username": "bluss",
      "name": "Ulrik",
      "created_at": "2025-04-19T23:24:09.888Z",
      "updated_at": "2025-04-20T00:02:10.576Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"Andrew\" data-post=\"2\" data-topic=\"3731\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/andrew/48/62_2.png\" class=\"avatar\"> Andrew:</div>\n<blockquote>\n<p>There is also a separate problem that when you override <code>em</code> with <code>em</code> in some cases</p>\n</blockquote>\n</aside>\n<p>Thanks, that’s the last puzzle piece, I was trying to dissect the problem without getting a solution. (I guess you linked a more complicated problem, but just the fact that em is contextual is important here.)</p>\n<hr>\n<p>Here’s my tip for debugging: insert this code in a sandbox document on the typst webapp. Hover over the <code>it</code> in the show rule and you can observe all the settings of each block in the document.</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#set page(height: auto, width: auto, margin: 1cm)\n#show block: it =&gt; it\n#set block(stroke: 0.20pt)\n\n\n= hello1\n// big space between these headings\n= hello2\n// smaller space here\n#block(above: 1.4 * 1.29em, heading[hello3])\n</code></pre>\n<p>One would think that setting above spacing to <code>1.29em</code> on your own block would make the spacing line up. But it has to be 1.4 * 1.29em for the spacing to line up - that’s the puzzle piece Andrew put down - the reason is that the text size inside the heading is larger, so <code>1.29em</code> inside a heading is larger than <code>1.29em</code> outside the heading - since <code>1em</code> is the current contextual font size. Interesting all around.</p>",
      "raw": "[quote=\"Andrew, post:2, topic:3731\"]\nThere is also a separate problem that when you override `em` with `em` in some cases\n[/quote]\n\nThanks, that's the last puzzle piece, I was trying to dissect the problem without getting a solution. (I guess you linked a more complicated problem, but just the fact that em is contextual is important here.)\n\n----\n\nHere's my tip for debugging: insert this code in a sandbox document on the typst webapp. Hover over the `it` in the show rule and you can observe all the settings of each block in the document.\n\n```typst\n#set page(height: auto, width: auto, margin: 1cm)\n#show block: it => it\n#set block(stroke: 0.20pt)\n\n\n= hello1\n// big space between these headings\n= hello2\n// smaller space here\n#block(above: 1.4 * 1.29em, heading[hello3])\n```\n\nOne would think that setting above spacing to `1.29em` on your own block would make the spacing line up. But it has to be 1.4 * 1.29em for the spacing to line up - that's the puzzle piece Andrew put down - the reason is that the text size inside the heading is larger, so `1.29em` inside a heading is larger than `1.29em` outside the heading - since `1em` is the current contextual font size. Interesting all around.",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 1,
      "like_count": 0,
      "reads": 33,
      "score": 11.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 1272
    },
    {
      "id": 11353,
      "post_number": 4,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-19T23:32:34.846Z",
      "updated_at": "2025-04-19T23:33:17.709Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"bluss\" data-post=\"3\" data-topic=\"3731\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/b/441A5E/48.png\" class=\"avatar\"> bluss:</div>\n<blockquote>\n<p>you can observe all the settings</p>\n</blockquote>\n</aside>\n<p>You can’t observe <code>spacing</code> in any way, since it’s <code>#[external]</code>.</p>",
      "raw": "[quote=\"bluss, post:3, topic:3731\"]\nyou can observe all the settings\n[/quote]\n\nYou can't observe `spacing` in any way, since it's `#[external]`.",
      "reply_to_post_number": 3,
      "reply_count": 0,
      "quote_count": 1,
      "like_count": 0,
      "reads": 30,
      "score": 6.0,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 11361,
      "post_number": 5,
      "username": "T1ng",
      "name": "Jens",
      "created_at": "2025-04-20T10:21:20.171Z",
      "updated_at": "2025-04-20T10:21:20.171Z",
      "cooked": "<p>Thank you so much for the detailed reply! It all makes sense to me now.</p>\n<p>I guess my solution will be to use</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show heading: set block(spacing: 1.2em)\n</code></pre>\n<p>instead.</p>\n<p>This has lead me to a follow-up question though.</p>\n<p>When playing around with it, I noticed that the spacing in this example is still smaller between heading 3 and 4. Why is that? Does the explicit spacing set by the <code>show</code> rule not overrule any other spacing (and are they not the same, as <code>auto</code> resolves to <code>1.2em</code>)?</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set page(height: auto, width: auto, margin: 1cm)\n#show heading: set block(spacing: 1.2em)\n\n= hello 1\n= hello 2\n#block(heading[hello 3])\n#block(heading[hello 4])\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/f/f75a6df8eba84eaa60aa1ebade236244d9b4a031.png\" alt=\"drafting(2)\" data-base62-sha1=\"zibG8H6MURmZP5x3hTPehVpeTxn\" width=\"208\" height=\"293\"></p>",
      "raw": "Thank you so much for the detailed reply! It all makes sense to me now.\n\nI guess my solution will be to use \n```typ\n#show heading: set block(spacing: 1.2em)\n```\ninstead.\n\nThis has lead me to a follow-up question though.\n\nWhen playing around with it, I noticed that the spacing in this example is still smaller between heading 3 and 4. Why is that? Does the explicit spacing set by the `show` rule not overrule any other spacing (and are they not the same, as `auto` resolves to `1.2em`)?\n```typ\n#set page(height: auto, width: auto, margin: 1cm)\n#show heading: set block(spacing: 1.2em)\n\n= hello 1\n= hello 2\n#block(heading[hello 3])\n#block(heading[hello 4])\n```\n\n![drafting(2)|208x293](upload://zibG8H6MURmZP5x3hTPehVpeTxn.png)",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 24,
      "score": 24.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1484
    },
    {
      "id": 11362,
      "post_number": 6,
      "username": "bluss",
      "name": "Ulrik",
      "created_at": "2025-04-20T10:59:45.221Z",
      "updated_at": "2025-04-20T11:00:00.356Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"T1ng\" data-post=\"5\" data-topic=\"3731\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/t/66104C/48.png\" class=\"avatar\"> T1ng:</div>\n<blockquote>\n<p>Why is that?</p>\n</blockquote>\n</aside>\n<p>I think it’s about the other point I brought up. em as a unit is relative to current font size.</p>\n<p>The font size is larger inside <code>heading</code> than outside it. So for blocks inside <code>heading</code>, 1.2em is larger than 1.2em for blocks outside/wrapping the heading.</p>\n<p>So can we test that?</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show heading: set text(size: 11pt)\n#set text(size: 11pt)\n</code></pre>\n<p>Set the same text sizes in document body and the headings, and the spacing seems to line up with your setting, so it checks out.</p>",
      "raw": "[quote=\"T1ng, post:5, topic:3731\"]\nWhy is that?\n[/quote]\n\nI think it's about the other point I brought up. em as a unit is relative to current font size.\n\nThe font size is larger inside `heading` than outside it. So for blocks inside `heading`, 1.2em is larger than 1.2em for blocks outside/wrapping the heading.\n\nSo can we test that?\n\n```typ\n#show heading: set text(size: 11pt)\n#set text(size: 11pt)\n```\n\nSet the same text sizes in document body and the headings, and the spacing seems to line up with your setting, so it checks out.",
      "reply_to_post_number": 5,
      "reply_count": 0,
      "quote_count": 1,
      "like_count": 1,
      "reads": 22,
      "score": 19.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 1272
    },
    {
      "id": 11371,
      "post_number": 7,
      "username": "PgBiel",
      "name": "",
      "created_at": "2025-04-21T01:20:00.652Z",
      "updated_at": "2025-04-21T01:20:00.652Z",
      "cooked": "<p>Hey <a class=\"mention\" href=\"/u/t1ng\">@T1ng</a>, welcome to the forum! I’ve changed your question post’s title to better fit our guidelines: <a href=\"https://forum.typst.app/t/how-to-post-in-the-questions-category/11\" class=\"inline-onebox\">How to post in the Questions category</a></p>\n<p>Make sure your title is a question you’d ask to a friend about Typst. <img src=\"https://forum.typst.app/images/emoji/apple/wink.png?v=12\" title=\":wink:\" class=\"emoji\" alt=\":wink:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>",
      "raw": "Hey @T1ng, welcome to the forum! I’ve changed your question post’s title to better fit our guidelines: https://forum.typst.app/t/how-to-post-in-the-questions-category/11\n\nMake sure your title is a question you’d ask to a friend about Typst. :wink:",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 20,
      "score": 4.0,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 3
    },
    {
      "id": 11372,
      "post_number": 8,
      "username": "PgBiel",
      "name": "",
      "created_at": "2025-04-21T01:23:59.945Z",
      "updated_at": "2025-04-21T01:23:59.945Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"Andrew\" data-post=\"2\" data-topic=\"3731\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/andrew/48/62_2.png\" class=\"avatar\"> Andrew:</div>\n<blockquote>\n<p>After thinking for a bit, I guess the outer block absorbs the inner settings, because the inner one is the only element inside outer block, so its settings don’t affect anything around. So, in the end, I think the behavior makes sense.</p>\n</blockquote>\n</aside>\n<p>It doesn’t, it’s just that default show-set rules always apply to whatever you replace an element with in a show rule. There is currently no way to “disable” them.</p>\n<p>For example, <code>show heading: [abc]</code> will still show “abc” in a larger and bold font, even if you theoretically “discarded” the original heading, as its default show-set rules still apply.</p>\n<p>The reason default show-set rules are used in the first place is so you can override those settings (like bold headings) without having to rewrite the heading from scratch in a show rule, through your own show-set rules.</p>\n<p>Therefore, <code>show heading: set block(spacing: ...)</code> is indeed the correct answer if you want to change headings’ inter-block spacing back to the default.</p>",
      "raw": "[quote=\"Andrew, post:2, topic:3731\"]\nAfter thinking for a bit, I guess the outer block absorbs the inner settings, because the inner one is the only element inside outer block, so its settings don’t affect anything around. So, in the end, I think the behavior makes sense.\n[/quote]\n\nIt doesn't, it's just that default show-set rules always apply to whatever you replace an element with in a show rule. There is currently no way to \"disable\" them.\n\nFor example, `show heading: [abc]` will still show \"abc\" in a larger and bold font, even if you theoretically \"discarded\" the original heading, as its default show-set rules still apply. \n\nThe reason default show-set rules are used in the first place is so you can override those settings (like bold headings) without having to rewrite the heading from scratch in a show rule, through your own show-set rules.\n\nTherefore, `show heading: set block(spacing: ...)` is indeed the correct answer if you want to change headings' inter-block spacing back to the default.",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 1,
      "like_count": 0,
      "reads": 20,
      "score": 9.0,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 3
    },
    {
      "id": 11373,
      "post_number": 9,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-21T02:35:15.657Z",
      "updated_at": "2025-04-21T02:35:15.657Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"PgBiel\" data-post=\"8\" data-topic=\"3731\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/p/F64C96/48.png\" class=\"avatar\"> PgBiel:</div>\n<blockquote>\n<p>It doesn’t, it’s just that default show-set rules always apply to whatever you replace an element with in a show rule. There is currently no way to “disable” them.</p>\n</blockquote>\n</aside>\n<p>What? I’m talking about <code>block(heading[])</code>, there is no show rule.</p>",
      "raw": "[quote=\"PgBiel, post:8, topic:3731\"]\nIt doesn’t, it’s just that default show-set rules always apply to whatever you replace an element with in a show rule. There is currently no way to “disable” them.\n[/quote]\n\nWhat? I'm talking about `block(heading[])`, there is no show rule.",
      "reply_to_post_number": 8,
      "reply_count": 1,
      "quote_count": 1,
      "like_count": 0,
      "reads": 20,
      "score": 9.0,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 11374,
      "post_number": 10,
      "username": "PgBiel",
      "name": "",
      "created_at": "2025-04-21T03:08:48.090Z",
      "updated_at": "2025-04-21T03:09:13.960Z",
      "cooked": "<p>I still don’t get what you mean since the outer block does not inherit the inner block’s settings at all here, unless by absorb you mean that it causes the inner block’s settings to not apply at all, in which case that would be correct.</p>\n<p>In addition, regarding</p>\n<aside class=\"quote no-group\" data-username=\"Andrew\" data-post=\"2\" data-topic=\"3731\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/andrew/48/62_2.png\" class=\"avatar\"> Andrew:</div>\n<blockquote>\n<p>If you do <code>show heading: block</code>, then it will wrap heading <code>block</code> into <code>block</code> and you will get <code>block(block(heading content))</code>.</p>\n</blockquote>\n</aside>\n<p>I should note (as a brief clarification for others) that <code>show heading: block</code> <strong>does</strong> create  a <code>block(heading[])</code>, that is, it is not <code>block(block(heading contents))</code> <strong>at first</strong> (but it does become that after applying the default heading show rule). However, the heading default show-set rules still apply to the whole new <code>block(heading[])</code> created by that show rule, not only to the heading inside that block, for the reasons mentioned previously.</p>",
      "raw": "I still don't get what you mean since the outer block does not inherit the inner block's settings at all here, unless by absorb you mean that it causes the inner block's settings to not apply at all, in which case that would be correct.\n\nIn addition, regarding\n[quote=\"Andrew, post:2, topic:3731\"]\nIf you do `show heading: block`, then it will wrap heading `block` into `block` and you will get `block(block(heading content))`.\n[/quote]\n\n I should note (as a brief clarification for others) that `show heading: block` **does** create  a `block(heading[])`, that is, it is not `block(block(heading contents))` **at first** (but it does become that after applying the default heading show rule). However, the heading default show-set rules still apply to the whole new `block(heading[])` created by that show rule, not only to the heading inside that block, for the reasons mentioned previously.",
      "reply_to_post_number": 9,
      "reply_count": 1,
      "quote_count": 1,
      "like_count": 0,
      "reads": 19,
      "score": 13.8,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 3
    },
    {
      "id": 11377,
      "post_number": 11,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-21T05:45:57.543Z",
      "updated_at": "2025-04-21T05:45:57.543Z",
      "cooked": "<blockquote>\n<p>by absorb you mean that it causes the inner block’s settings to not apply at all</p>\n</blockquote>\n<p>Yes.</p>",
      "raw": "> by absorb you mean that it causes the inner block’s settings to not apply at all\n\nYes.",
      "reply_to_post_number": 10,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 17,
      "score": 3.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    }
  ],
  "scraped_at": "2025-06-10T09:48:56.997155"
}