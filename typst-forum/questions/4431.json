{
  "topic_metadata": {
    "id": 4431,
    "title": "How can I add extra spacing above 'heading 1' on new pages",
    "slug": "how-can-i-add-extra-spacing-above-heading-1-on-new-pages",
    "posts_count": 7,
    "created_at": "2025-06-02T10:56:38.979Z",
    "last_posted_at": "2025-06-04T10:17:17.169Z",
    "views": 70,
    "like_count": 3,
    "reply_count": 4,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 6,
    "accepted_answer_username": "flokl",
    "tags": [
      "scripting",
      "layout"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 966
  },
  "posts": [
    {
      "id": 13573,
      "post_number": 1,
      "username": "Mark_Hilton",
      "name": "Mark Hilton",
      "created_at": "2025-06-02T10:56:39.060Z",
      "updated_at": "2025-06-02T12:44:53.003Z",
      "cooked": "<p>Thanks to help from many here, most of my issues setting up my template have been resolved, but I have one more. Here is my code example, modified to take in recent solutions.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">// Page layout including headers and footer, removed on blank pages\n#import \"@preview/hydra:0.6.1\": hydra\n\n/// Check whether a page is an empty page.\n#let is-page-empty() = {\n  let page-num = here().page()\n  query(selector.or(&lt;ep-start&gt;, &lt;ep-end&gt;))\n    .chunks(2)\n    .any(((start, end)) =&gt; {\n      start.location().page() &lt; page-num and page-num &lt; end.location().page()\n    })\n}\n\n#set page(\n  paper: \"a7\",\n  margin: (inside: 1.5cm, outside: 1cm, y: 1.5cm),\n  header: context if not is-page-empty() {\n    if calc.odd(here().page()) {\n      align(right, smallcaps(hydra(1)))\n    } else {\n      align(left, emph(hydra(2)))\n    }\n    v(-0.5em\n  )\n    line(length: 100%)\n  },\n  footer: context if not is-page-empty() {\n    align(center, counter(page).display())\n  },\n)\n\n#show pagebreak: it =&gt; [#metadata[]&lt;ep-start&gt;] + it + [#metadata[]&lt;ep-end&gt;]\n\n#show heading.where(level: 1): it =&gt; {\n  set align(center)\n  set text(18pt, weight: \"semibold\")\n  pagebreak(weak: true, to: \"odd\") + it\n}\n#show heading.where(level: 2): set text(14pt, weight: \"semibold\")\n\n= Part 1\n\n#lorem(75)\n\n== Section 1.a\n\n#lorem(50)\n\n= Part 2\n\n#lorem(75)\n\n== Section 2.a\n\n#lorem(25)\n</code></pre>\n<p>However, I would like, book style, to have a separation, of say 5em, between the header and the Part heading. I have tried everything I can think of using a block or <code>#v</code> but, with my efforts, at best they have had no effect, at worst the heading disappears completely.</p>\n<p>Can someone please help me to accomplish this? Thanks.</p>\n<p><img src=\"https://forum.typst.app/images/emoji/apple/slight_smile.png?v=12\" title=\":slight_smile:\" class=\"emoji only-emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"><br>\nMark</p>",
      "raw": "Thanks to help from many here, most of my issues setting up my template have been resolved, but I have one more. Here is my code example, modified to take in recent solutions.\n\n```typ\n// Page layout including headers and footer, removed on blank pages\n#import \"@preview/hydra:0.6.1\": hydra\n\n/// Check whether a page is an empty page.\n#let is-page-empty() = {\n  let page-num = here().page()\n  query(selector.or(<ep-start>, <ep-end>))\n    .chunks(2)\n    .any(((start, end)) => {\n      start.location().page() < page-num and page-num < end.location().page()\n    })\n}\n\n#set page(\n  paper: \"a7\",\n  margin: (inside: 1.5cm, outside: 1cm, y: 1.5cm),\n  header: context if not is-page-empty() {\n    if calc.odd(here().page()) {\n      align(right, smallcaps(hydra(1)))\n    } else {\n      align(left, emph(hydra(2)))\n    }\n    v(-0.5em\n  )\n    line(length: 100%)\n  },\n  footer: context if not is-page-empty() {\n    align(center, counter(page).display())\n  },\n)\n\n#show pagebreak: it => [#metadata[]<ep-start>] + it + [#metadata[]<ep-end>]\n\n#show heading.where(level: 1): it => {\n  set align(center)\n  set text(18pt, weight: \"semibold\")\n  pagebreak(weak: true, to: \"odd\") + it\n}\n#show heading.where(level: 2): set text(14pt, weight: \"semibold\")\n\n= Part 1\n\n#lorem(75)\n\n== Section 1.a\n\n#lorem(50)\n\n= Part 2\n\n#lorem(75)\n\n== Section 2.a\n\n#lorem(25)\n```\nHowever, I would like, book style, to have a separation, of say 5em, between the header and the Part heading. I have tried everything I can think of using a block or `#v` but, with my efforts, at best they have had no effect, at worst the heading disappears completely.\n\nCan someone please help me to accomplish this? Thanks.\n\n:slight_smile: \n Mark",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 29,
      "score": 25.6,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 1276
    },
    {
      "id": 13587,
      "post_number": 2,
      "username": "bluss",
      "name": "Ulrik",
      "created_at": "2025-06-02T13:21:43.486Z",
      "updated_at": "2025-06-02T13:21:43.486Z",
      "cooked": "<p>Using something like this with <code>v</code> should work just fine:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show heading.where(level: 1): it =&gt; {\n  set align(center)\n  set text(18pt, weight: \"semibold\")\n  pagebreak(weak: true, to: \"odd\")\n  v(5cm)\n  it\n}\n</code></pre>\n<p>(Whether to write it like that or with <code>+</code> doesn’t matter, it’s the same thing)</p>\n<pre data-code-wrap=\"typc\"><code class=\"lang-typc\">pagebreak(weak: true, to: \"odd\") + v(5cm) + it\n</code></pre>",
      "raw": "Using something like this with `v` should work just fine:\n\n```\n#show heading.where(level: 1): it => {\n  set align(center)\n  set text(18pt, weight: \"semibold\")\n  pagebreak(weak: true, to: \"odd\")\n  v(5cm)\n  it\n}\n```\n\n\n(Whether to write it like that or with `+` doesn't matter, it's the same thing)\n```typc\npagebreak(weak: true, to: \"odd\") + v(5cm) + it\n```",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 28,
      "score": 10.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 1272
    },
    {
      "id": 13593,
      "post_number": 3,
      "username": "Mark_Hilton",
      "name": "Mark Hilton",
      "created_at": "2025-06-02T17:26:29.215Z",
      "updated_at": "2025-06-02T17:26:29.215Z",
      "cooked": "<p>Thanks for the reply, but that adds the space <strong>after</strong> the heading, not above the heading, which is where I want it.</p>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/3/390d6e3c99bf9de23774fa9c0584620f53391f09.png\" data-download-href=\"https://forum.typst.app/uploads/default/390d6e3c99bf9de23774fa9c0584620f53391f09\" title=\"SCR-20250602-qcbw\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/3/390d6e3c99bf9de23774fa9c0584620f53391f09_2_359x500.png\" alt=\"SCR-20250602-qcbw\" data-base62-sha1=\"88HZqw78PuOvGzSFkEORE9VcGQV\" width=\"359\" height=\"500\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/3/390d6e3c99bf9de23774fa9c0584620f53391f09_2_359x500.png, https://forum.typst.app/uploads/default/optimized/2X/3/390d6e3c99bf9de23774fa9c0584620f53391f09_2_538x750.png 1.5x, https://forum.typst.app/uploads/default/original/2X/3/390d6e3c99bf9de23774fa9c0584620f53391f09.png 2x\" data-dominant-color=\"F5F5F5\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">SCR-20250602-qcbw</span><span class=\"informations\">594×826 75.8 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p><img src=\"https://forum.typst.app/images/emoji/apple/slight_smile.png?v=12\" title=\":slight_smile:\" class=\"emoji only-emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"><br>\nMark</p>",
      "raw": "Thanks for the reply, but that adds the space **after** the heading, not above the heading, which is where I want it.\n\n![SCR-20250602-qcbw|359x500](upload://88HZqw78PuOvGzSFkEORE9VcGQV.png)\n\n:slight_smile: \n Mark",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 24,
      "score": 4.6,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 1276
    },
    {
      "id": 13599,
      "post_number": 4,
      "username": "bluss",
      "name": "Ulrik",
      "created_at": "2025-06-02T18:05:29.955Z",
      "updated_at": "2025-06-02T18:07:14.814Z",
      "cooked": "<p>Hm. In my example it didn’t do that, so maybe you can share the complete code?</p>\n<p>Ok I can take your example and it seems to work. There’s a separate thing with hydra (just tweak what happens on new part pages) that can be solved separately.</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">// Page layout including headers and footer, removed on blank pages\n#import \"@preview/hydra:0.6.1\": hydra\n\n/// Check whether a page is an empty page.\n#let is-page-empty() = {\n  let page-num = here().page()\n  query(selector.or(&lt;ep-start&gt;, &lt;ep-end&gt;))\n    .chunks(2)\n    .any(((start, end)) =&gt; {\n      start.location().page() &lt; page-num and page-num &lt; end.location().page()\n    })\n}\n\n#set page(\n  paper: \"a7\",\n  margin: (inside: 1.5cm, outside: 1cm, y: 1.5cm),\n  header: context if not is-page-empty() {\n    if calc.odd(here().page()) {\n      align(right, smallcaps(hydra(1)))\n    } else {\n      align(left, emph(hydra(2)))\n    }\n    v(-0.5em\n  )\n    line(length: 100%)\n  },\n  footer: context if not is-page-empty() {\n    align(center, counter(page).display())\n  },\n)\n\n#show pagebreak: it =&gt; [#metadata[]&lt;ep-start&gt;] + it + [#metadata[]&lt;ep-end&gt;]\n\n#show heading.where(level: 1): it =&gt; {\n  set align(center)\n  set text(18pt, weight: \"semibold\")\n  pagebreak(weak: true, to: \"odd\") + v(5em) + it\n}\n#show heading.where(level: 2): set text(14pt, weight: \"semibold\")\n\n= Part 1\n\n#lorem(75)\n\n== Section 1.a\n\n#lorem(50)\n\n= Part 2\n\n#lorem(75)\n\n== Section 2.a\n\n#lorem(25)\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/9/930c497d10e479a039610d61499328a5d1cadf8e.png\" data-download-href=\"https://forum.typst.app/uploads/default/930c497d10e479a039610d61499328a5d1cadf8e\" title=\"bild\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/9/930c497d10e479a039610d61499328a5d1cadf8e_2_177x250.png\" alt=\"bild\" data-base62-sha1=\"kYQvOf4nsltaDgBhmBFWWfovlNQ\" width=\"177\" height=\"250\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/9/930c497d10e479a039610d61499328a5d1cadf8e_2_177x250.png, https://forum.typst.app/uploads/default/optimized/2X/9/930c497d10e479a039610d61499328a5d1cadf8e_2_265x375.png 1.5x, https://forum.typst.app/uploads/default/optimized/2X/9/930c497d10e479a039610d61499328a5d1cadf8e_2_354x500.png 2x\" data-dominant-color=\"F5F5F5\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">bild</span><span class=\"informations\">442×623 42.3 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>",
      "raw": "Hm. In my example it didn't do that, so maybe you can share the complete code?\n\nOk I can take your example and it seems to work. There's a separate thing with hydra (just tweak what happens on new part pages) that can be solved separately.\n\n```typst\n// Page layout including headers and footer, removed on blank pages\n#import \"@preview/hydra:0.6.1\": hydra\n\n/// Check whether a page is an empty page.\n#let is-page-empty() = {\n  let page-num = here().page()\n  query(selector.or(<ep-start>, <ep-end>))\n    .chunks(2)\n    .any(((start, end)) => {\n      start.location().page() < page-num and page-num < end.location().page()\n    })\n}\n\n#set page(\n  paper: \"a7\",\n  margin: (inside: 1.5cm, outside: 1cm, y: 1.5cm),\n  header: context if not is-page-empty() {\n    if calc.odd(here().page()) {\n      align(right, smallcaps(hydra(1)))\n    } else {\n      align(left, emph(hydra(2)))\n    }\n    v(-0.5em\n  )\n    line(length: 100%)\n  },\n  footer: context if not is-page-empty() {\n    align(center, counter(page).display())\n  },\n)\n\n#show pagebreak: it => [#metadata[]<ep-start>] + it + [#metadata[]<ep-end>]\n\n#show heading.where(level: 1): it => {\n  set align(center)\n  set text(18pt, weight: \"semibold\")\n  pagebreak(weak: true, to: \"odd\") + v(5em) + it\n}\n#show heading.where(level: 2): set text(14pt, weight: \"semibold\")\n\n= Part 1\n\n#lorem(75)\n\n== Section 1.a\n\n#lorem(50)\n\n= Part 2\n\n#lorem(75)\n\n== Section 2.a\n\n#lorem(25)\n```\n\n![bild|354x500, 50%](upload://kYQvOf4nsltaDgBhmBFWWfovlNQ.png)",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 23,
      "score": 9.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 1272
    },
    {
      "id": 13634,
      "post_number": 5,
      "username": "Mark_Hilton",
      "name": "Mark Hilton",
      "created_at": "2025-06-03T11:40:54.714Z",
      "updated_at": "2025-06-03T11:40:54.714Z",
      "cooked": "<p>Thank you for this. In all my attempts the one thing I did not try was putting <code>+</code> before the <code>(5em)</code>! You say:</p>\n<blockquote>\n<p>Ok I can take your example and it seems to work. There’s a separate thing with hydra (just tweak what happens on new part pages) that can be solved separately.</p>\n</blockquote>\n<p>Absolutely, but as always I’m stymied in trying to combine the “tweak” with existing code. The manual says:</p>\n<blockquote>\n<p>If <a class=\"hashtag-cooked\" href=\"/tag/hydra\" data-type=\"tag\" data-slug=\"hydra\" data-id=\"136\"><span class=\"hashtag-icon-placeholder\"><svg class=\"fa d-icon d-icon-square-full svg-icon svg-node\"><use href=\"#square-full\"></use></svg></span><span>hydra</span></a> is used with ⟨skip-starting⟩: true on such a starting page, it will not show anything. This is turned on by default.</p>\n</blockquote>\n<p>As with the code lines:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\"> footer: context if not is-page-empty() {\n    align(center, counter(page).display())}\n</code></pre>\n<p>where the default placing of the page number is overridden, so too adding the <code>+(5em)</code> seems to override the default and we end up with</p>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/c/cecdaae8d115e17f2a43f8d42ba8e158defbe53c.png\" data-download-href=\"https://forum.typst.app/uploads/default/cecdaae8d115e17f2a43f8d42ba8e158defbe53c\" title=\"SCR-20250603-laxk\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/c/cecdaae8d115e17f2a43f8d42ba8e158defbe53c_2_354x500.png\" alt=\"SCR-20250603-laxk\" data-base62-sha1=\"tvsZZ1kpQNMageeJqlcIIOIQz7u\" width=\"354\" height=\"500\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/c/cecdaae8d115e17f2a43f8d42ba8e158defbe53c_2_354x500.png, https://forum.typst.app/uploads/default/optimized/2X/c/cecdaae8d115e17f2a43f8d42ba8e158defbe53c_2_531x750.png 1.5x, https://forum.typst.app/uploads/default/original/2X/c/cecdaae8d115e17f2a43f8d42ba8e158defbe53c.png 2x\" data-dominant-color=\"F6F6F6\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">SCR-20250603-laxk</span><span class=\"informations\">574×810 74.8 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>So, it seems that the “tweak” in question is to include <code>starting-page: true</code> somewhere in the code, or, in this case to turn on “Book mode”:</p>\n<blockquote>\n<p>If <a class=\"hashtag-cooked\" href=\"/tag/hydra\" data-type=\"tag\" data-slug=\"hydra\" data-id=\"136\"><span class=\"hashtag-icon-placeholder\"><svg class=\"fa d-icon d-icon-square-full svg-icon svg-node\"><use href=\"#square-full\"></use></svg></span><span>hydra</span></a> is used on a leading page with ⟨book⟩: true, then it will not show an active element, if it is still visible on the trailing page. This is turned off by default.</p>\n</blockquote>\n<p>But where this should be placed in the code and in what form is not made at all clear to the likes of me! Again I just end up with errors that I can’t resolve.</p>\n<p><img src=\"https://forum.typst.app/images/emoji/apple/slight_smile.png?v=12\" title=\":slight_smile:\" class=\"emoji only-emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"><br>\nMark</p>",
      "raw": "Thank you for this. In all my attempts the one thing I did not try was putting `+` before the `(5em)`! You say:\n\n> Ok I can take your example and it seems to work. There’s a separate thing with hydra (just tweak what happens on new part pages) that can be solved separately.\n\nAbsolutely, but as always I'm stymied in trying to combine the \"tweak\" with existing code. The manual says:\n\n> If #hydra is used with ⟨skip-starting⟩: true on such a starting page, it will not show anything. This is turned on by default.\n\nAs with the code lines:\n\n```typ\n footer: context if not is-page-empty() {\n    align(center, counter(page).display())}\n```\nwhere the default placing of the page number is overridden, so too adding the `+(5em)` seems to override the default and we end up with\n\n![SCR-20250603-laxk|354x500](upload://tvsZZ1kpQNMageeJqlcIIOIQz7u.png)\n\nSo, it seems that the \"tweak\" in question is to include `starting-page: true` somewhere in the code, or, in this case to turn on \"Book mode\":\n\n> If #hydra is used on a leading page with ⟨book⟩: true, then it will not show an active element, if it is still visible on the trailing page. This is turned off by default.\n\nBut where this should be placed in the code and in what form is not made at all clear to the likes of me! Again I just end up with errors that I can't resolve.\n\n:slight_smile: \n Mark",
      "reply_to_post_number": 4,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 19,
      "score": 8.6,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 1276
    },
    {
      "id": 13642,
      "post_number": 6,
      "username": "flokl",
      "name": "",
      "created_at": "2025-06-03T15:07:48.102Z",
      "updated_at": "2025-06-03T15:07:48.102Z",
      "cooked": "<p>Page 5 of the <a href=\"https://raw.githubusercontent.com/typst/packages/main/packages/preview/hydra/0.6.1/assets/manual.pdf\">hydra manual</a> contains the fix for your exact problem :).</p>\n<blockquote>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">// do\n#show heading: it =&gt; block(v(8cm) + it\n// don't\n#show heading: it =&gt; v(8cm) + it\n</code></pre>\n</blockquote>\n<p>You have to wrap the vertical spacing and the heading in a block.</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">...\npagebreak(weak: true, to: \"odd\")\nblock(v(5em) + it)\n...\n</code></pre>",
      "raw": "Page 5 of the [hydra manual](https://raw.githubusercontent.com/typst/packages/main/packages/preview/hydra/0.6.1/assets/manual.pdf) contains the fix for your exact problem :). \n> ```typst\n> // do\n> #show heading: it => block(v(8cm) + it\n> // don't\n> #show heading: it => v(8cm) + it\n> ```\n\nYou have to wrap the vertical spacing and the heading in a block.\n```typst\n...\npagebreak(weak: true, to: \"odd\")\nblock(v(5em) + it)\n...\n```",
      "reply_to_post_number": 5,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 2,
      "reads": 16,
      "score": 38.0,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 8
    },
    {
      "id": 13677,
      "post_number": 7,
      "username": "Mark_Hilton",
      "name": "Mark Hilton",
      "created_at": "2025-06-04T10:17:17.169Z",
      "updated_at": "2025-06-04T10:17:17.169Z",
      "cooked": "<p>Thank you so much!</p>\n<p>I have to say that I had read the manual many times, but couldn’t get that to work; it just returned an error that I couldn’t resolve, so I don’t know what I had typed wrong. As I have said, where the example code doesn’t match the more complex code you already have working, marrying the two is not immediately obvious to us beginners.</p>\n<p><img src=\"https://forum.typst.app/images/emoji/apple/slight_smile.png?v=12\" title=\":slight_smile:\" class=\"emoji only-emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"><br>\nMark</p>",
      "raw": "Thank you so much!\n\nI have to say that I had read the manual many times, but couldn't get that to work; it just returned an error that I couldn't resolve, so I don't know what I had typed wrong. As I have said, where the example code doesn't match the more complex code you already have working, marrying the two is not immediately obvious to us beginners.\n\n:slight_smile: \n Mark",
      "reply_to_post_number": 6,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 11,
      "score": 17.0,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 1276
    }
  ],
  "scraped_at": "2025-06-10T09:46:52.504411"
}