{
  "topic_metadata": {
    "id": 3975,
    "title": "How to define document metadata once and access it in other functions?",
    "slug": "how-to-define-document-metadata-once-and-access-it-in-other-functions",
    "posts_count": 5,
    "created_at": "2025-05-07T06:59:32.270Z",
    "last_posted_at": "2025-05-07T16:38:37.146Z",
    "views": 71,
    "like_count": 2,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "aarnent",
    "tags": [
      "scripting"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 326
  },
  "posts": [
    {
      "id": 12077,
      "post_number": 1,
      "username": "fungai2000",
      "name": "",
      "created_at": "2025-05-07T06:59:32.367Z",
      "updated_at": "2025-05-13T17:05:50.616Z",
      "cooked": "<p>In my main.typ file, I have defined my document’s metadata:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set document(\n  title: [My book],\n  author: \"Name Surname\",\n  description: [Abstract],\n  date: auto\n)\n</code></pre>\n<p>Is there a way to access the values of the title, author, etc. in other functions?</p>\n<p>At the moment, I am defining the same title, author, etc. information again in <code>let</code> functions, and then accessing those when I come to create my title and front matter pages.</p>",
      "raw": "In my main.typ file, I have defined my document's metadata:\n\n```typ\n#set document(\n  title: [My book],\n  author: \"Name Surname\",\n  description: [Abstract],\n  date: auto\n)\n```\n\nIs there a way to access the values of the title, author, etc. in other functions?\n\nAt the moment, I am defining the same title, author, etc. information again in `let` functions, and then accessing those when I come to create my title and front matter pages.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 22,
      "score": 119.4,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 1518
    },
    {
      "id": 12079,
      "post_number": 2,
      "username": "aarnent",
      "name": "",
      "created_at": "2025-05-07T07:29:04.634Z",
      "updated_at": "2025-05-07T07:31:21.815Z",
      "cooked": "<p>You can access these using <a href=\"https://typst.app/docs/reference/context/\">context</a>. So for example,</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#context document.title\n</code></pre>\n<p>Or if you want to use those values in a function, do</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#let my-func(arg) = context {\n    // stuff here\n    let title = document.title\n    // more stuff here\n}\n</code></pre>\n<p>BTW, you can make your code blocks have correct syntax highlighting by adding the <code>typ</code> tag, like</p>\n<pre><code class=\"lang-auto\">```typ\n\n```\n</code></pre>",
      "raw": "You can access these using [context](https://typst.app/docs/reference/context/). So for example,\n\n```typst\n#context document.title\n```\n\nOr if you want to use those values in a function, do\n\n```typst\n#let my-func(arg) = context {\n    // stuff here\n    let title = document.title\n    // more stuff here\n}\n```\n\nBTW, you can make your code blocks have correct syntax highlighting by adding the `typ` tag, like\n\n````\n```typ\n\n```\n````",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 22,
      "score": 19.4,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 501
    },
    {
      "id": 12081,
      "post_number": 3,
      "username": "fungai2000",
      "name": "",
      "created_at": "2025-05-07T08:42:15.071Z",
      "updated_at": "2025-05-13T17:06:33.072Z",
      "cooked": "<p>Thank you very much for this!</p>\n<p>It seems to work perfectly for content blocks (like the title or description in my example above). However, for strings (like the author), I am getting the following output on my title page:</p>\n<pre data-code-wrap=\"typc\"><code class=\"lang-typc\">(\"Name Surname\",)\n</code></pre>\n<p>rather than:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">Name Surname\n</code></pre>\n<p>Aside from the <code>#set document</code> function I already mentioned above, I have the following in my file:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let author(content) = context {\n  set text(size: 12pt)\n  document.author\n}\n</code></pre>\n<p>and on the title page:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#title[]\n#subtitle[]\n#author[]\n</code></pre>\n<p>Might you have an idea what I am doing wrong or how to solve for this?</p>",
      "raw": "Thank you very much for this!\n\nIt seems to work perfectly for content blocks (like the title or description in my example above). However, for strings (like the author), I am getting the following output on my title page:\n\n```typc\n(\"Name Surname\",)\n```\nrather than:\n```typ\nName Surname\n```\n\nAside from the `#set document` function I already mentioned above, I have the following in my file:\n\n```typ\n#let author(content) = context {\n  set text(size: 12pt)\n  document.author\n}\n```\nand on the title page:\n```typ\n#title[]\n#subtitle[]\n#author[]\n```\n\nMight you have an idea what I am doing wrong or how to solve for this?",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 19,
      "score": 8.8,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 1518
    },
    {
      "id": 12101,
      "post_number": 4,
      "username": "fungai2000",
      "name": "",
      "created_at": "2025-05-07T15:51:35.138Z",
      "updated_at": "2025-05-07T15:58:27.238Z",
      "cooked": "<p>I seem to have stumbled upon the answer over on the <a href=\"https://discord.com/channels/1054443721975922748/1088371919725793360/1226168847908999249\" rel=\"noopener nofollow ugc\">Discord channel</a> by <a class=\"mention\" href=\"/u/dipamsen\">@dipamsen</a> :</p>\n<pre><code class=\"lang-auto\">document.author.first()\n</code></pre>\n<p>It is explained there that <code>author</code> is actually a list of strings for multiple authors, so the <code>first</code> command gets the first element in the list.</p>\n<p>Thanks to both <a class=\"mention\" href=\"/u/aarnent\">@aarnent</a> and <a class=\"mention\" href=\"/u/dipamsen\">@dipamsen</a> for getting me to the goal.</p>",
      "raw": "I seem to have stumbled upon the answer over on the [Discord channel](https://discord.com/channels/1054443721975922748/1088371919725793360/1226168847908999249) by @dipamsen :\n\n```(typ)\ndocument.author.first()\n```\n\nIt is explained there that `author` is actually a list of strings for multiple authors, so the `first` command gets the first element in the list. \n\nThanks to both @aarnent and @dipamsen for getting me to the goal.",
      "reply_to_post_number": 3,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 17,
      "score": 3.4,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 1518
    },
    {
      "id": 12108,
      "post_number": 5,
      "username": "PgBiel",
      "name": "",
      "created_at": "2025-05-07T16:38:37.146Z",
      "updated_at": "2025-05-07T16:38:37.146Z",
      "cooked": "<p>Hey <a class=\"mention\" href=\"/u/fungai2000\">@fungai2000</a>, glad you managed to solve it. I’ve marked <a class=\"mention\" href=\"/u/aarnent\">@aarnent</a>’s answer as a solution - let me know if you still need further help.</p>",
      "raw": "Hey @fungai2000, glad you managed to solve it. I've marked @aarnent's answer as a solution - let me know if you still need further help.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 17,
      "score": 18.4,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 3
    }
  ],
  "scraped_at": "2025-06-10T09:48:14.165868"
}