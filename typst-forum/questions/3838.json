{
  "topic_metadata": {
    "id": 3838,
    "title": "How do I underline URLs with display texts containing more than one character?",
    "slug": "how-do-i-underline-urls-with-display-texts-containing-more-than-one-character",
    "posts_count": 6,
    "created_at": "2025-04-27T23:26:20.973Z",
    "last_posted_at": "2025-05-02T20:15:44.743Z",
    "views": 99,
    "like_count": 4,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 3,
    "accepted_answer_username": "bluss",
    "tags": [
      "layout"
    ],
    "category_id": 5,
    "participant_count": 4,
    "word_count": 378
  },
  "posts": [
    {
      "id": 11700,
      "post_number": 1,
      "username": "Kapati",
      "name": "Kapati",
      "created_at": "2025-04-27T23:26:21.204Z",
      "updated_at": "2025-04-29T09:40:36.210Z",
      "cooked": "<p>I use following code to automatically underline all my URLs:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#show link: underline\n</code></pre>\n<p>How can I prevent a single link like</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#link(&lt;K-1&gt;)[1]\n</code></pre>\n<p>from being underlined?</p>",
      "raw": "I use following code to automatically underline all my URLs:\n```typst\n#show link: underline\n```\n\nHow can I prevent a single link like\n```typst\n#link(<K-1>)[1]\n```\nfrom being underlined?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 25,
      "score": 205.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1519
    },
    {
      "id": 11702,
      "post_number": 2,
      "username": "Electron_Wizard",
      "name": "Electron Wizard",
      "created_at": "2025-04-28T01:22:40.208Z",
      "updated_at": "2025-04-29T09:47:29.954Z",
      "cooked": "<p>Hi <a class=\"mention\" href=\"/u/kapati\">@Kapati</a></p>\n<p>I’ve renamed your title to keep it consistent with the forum guidelines for questions. For the future, pose your questions like how you would ask a friend.</p>\n<p>Although I don’t have access to my computer (am traveling now and don’t have anything better to do than answer some questions on this forum), I hope I can help you in some way.</p>\n<p>An option would be to check the length of the display text by converting it somehow to a string and retrieving the length. If it’s length 1, then display the link without underline (through <code>#show</code>) and else just display it as it is.</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#show link: it =&gt; {\n  // check for length of the display text and change the display accordingly (#show link: set underline(none) or something, I don't know the syntax from memory...\n\n  if length == 1 {\n    it\n  } else {\n    underline(it)\n  }\n}\n</code></pre>\n<p><code>length</code> would be assigned somewhere before the if statement by you ;)</p>\n<p><strong>NOTE</strong> changed pseudo code to reflect Typst default of not underlining URLs</p>",
      "raw": "Hi @Kapati \n\nI've renamed your title to keep it consistent with the forum guidelines for questions. For the future, pose your questions like how you would ask a friend.\n\nAlthough I don't have access to my computer (am traveling now and don't have anything better to do than answer some questions on this forum), I hope I can help you in some way.\n\nAn option would be to check the length of the display text by converting it somehow to a string and retrieving the length. If it's length 1, then display the link without underline (through `#show`) and else just display it as it is.\n\n```typst\n#show link: it => {\n  // check for length of the display text and change the display accordingly (#show link: set underline(none) or something, I don't know the syntax from memory...\n\n  if length == 1 {\n    it\n  } else {\n    underline(it)\n  }\n}\n```\n\n`length` would be assigned somewhere before the if statement by you ;)\n\n**NOTE** changed pseudo code to reflect Typst default of not underlining URLs",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 25,
      "score": 15.0,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 997
    },
    {
      "id": 11711,
      "post_number": 3,
      "username": "bluss",
      "name": "Ulrik",
      "created_at": "2025-04-28T08:37:36.666Z",
      "updated_at": "2025-04-28T08:37:36.666Z",
      "cooked": "<p>If the question is, for any particular link, how do I “cancel” that general show rule? It’s not always so easy, but for this underline rule it should be fine. Like this:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#show link: underline\nLink target&lt;K-1&gt;\n\n#link(&lt;K-1&gt;)[1]\n\n#let nounderline(body) = {\n  show underline: it =&gt; it.body\n  body\n}\n#nounderline(link(&lt;K-1&gt;)[1])\n</code></pre>\n<p>So you can wrap anywhere you want to disable underline in your <code>nounderline</code> function.</p>",
      "raw": "If the question is, for any particular link, how do I \"cancel\" that general show rule? It's not always so easy, but for this underline rule it should be fine. Like this:\n\n\n```typst\n#show link: underline\nLink target<K-1>\n\n#link(<K-1>)[1]\n\n#let nounderline(body) = {\n  show underline: it => it.body\n  body\n}\n#nounderline(link(<K-1>)[1])\n```\n\nSo you can wrap anywhere you want to disable underline in your `nounderline` function.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 22,
      "score": 19.4,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 1272
    },
    {
      "id": 11714,
      "post_number": 4,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-28T10:35:30.037Z",
      "updated_at": "2025-04-28T10:35:30.037Z",
      "cooked": "<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#import \"@preview/t4t:0.4.2\": get\n\n#show link: it =&gt; {\n  let text = get.text(it.body)\n  if text != none and text.clusters().len() == 1 { return it }\n  underline(it)\n}\n\n#link(\"link\")[#text(green)[1]]\n\n#link(\"link\")[12]\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/6/6d051c9aa5756b0afe4a8520632b219cf0680010.png\" alt=\"image\" data-base62-sha1=\"fyqZL5iMJI3USgCoi45q8Lbq73W\" width=\"46\" height=\"74\"></p>",
      "raw": "```typ\n#import \"@preview/t4t:0.4.2\": get\n\n#show link: it => {\n  let text = get.text(it.body)\n  if text != none and text.clusters().len() == 1 { return it }\n  underline(it)\n}\n\n#link(\"link\")[#text(green)[1]]\n\n#link(\"link\")[12]\n```\n\n![image|46x74](upload://fyqZL5iMJI3USgCoi45q8Lbq73W.png)",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 2,
      "reads": 21,
      "score": 39.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 11774,
      "post_number": 5,
      "username": "Electron_Wizard",
      "name": "Electron Wizard",
      "created_at": "2025-04-29T09:45:31.811Z",
      "updated_at": "2025-04-29T09:45:31.811Z",
      "cooked": "<p>I adjusted the title to better reflect the Typst default of not underlining URLs.</p>\n<p><a class=\"mention\" href=\"/u/andrew\">@Andrew</a> got a good solution on how to solve this. As by default the URLs are not underlined, we simply look for the correct condition (length &gt; 2 characters) and apply the underline under said condition.</p>",
      "raw": "I adjusted the title to better reflect the Typst default of not underlining URLs.\n\n@Andrew got a good solution on how to solve this. As by default the URLs are not underlined, we simply look for the correct condition (length > 2 characters) and apply the underline under said condition.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 21,
      "score": 24.2,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 997
    },
    {
      "id": 11905,
      "post_number": 6,
      "username": "Kapati",
      "name": "Kapati",
      "created_at": "2025-05-02T20:15:44.743Z",
      "updated_at": "2025-05-02T20:15:44.743Z",
      "cooked": "<p>Thank you all! I think I found a good solution with bluss answer.</p>",
      "raw": "Thank you all! I think I found a good solution with bluss answer.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 16,
      "score": 3.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1519
    }
  ],
  "scraped_at": "2025-06-10T09:48:35.581217"
}