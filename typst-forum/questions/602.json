{
  "topic_metadata": {
    "id": 602,
    "title": "How to remove lines around raw text block?",
    "slug": "how-to-remove-lines-around-raw-text-block",
    "posts_count": 5,
    "created_at": "2024-09-23T08:07:04.050Z",
    "last_posted_at": "2024-09-23T09:06:35.833Z",
    "views": 128,
    "like_count": 2,
    "reply_count": 2,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 5,
    "accepted_answer_username": "Eric",
    "tags": [
      "layout"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 500
  },
  "posts": [
    {
      "id": 2336,
      "post_number": 1,
      "username": "fhaiuwfhlawf",
      "name": "fhaiuwfhlawf",
      "created_at": "2024-09-23T08:07:04.142Z",
      "updated_at": "2024-09-23T08:43:24.377Z",
      "cooked": "<p>Please see image:<br>\n<div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/1X/75251610dc75042ad2e7e020e5279f0b6f08fa39.png\" data-download-href=\"https://forum.typst.app/uploads/default/75251610dc75042ad2e7e020e5279f0b6f08fa39\" title=\"rawtextblocktest\"><img src=\"https://forum.typst.app/uploads/default/optimized/1X/75251610dc75042ad2e7e020e5279f0b6f08fa39_2_353x500.png\" alt=\"rawtextblocktest\" data-base62-sha1=\"gIjjTl9RbFnymkxw2gEZ92iiNyF\" width=\"353\" height=\"500\" srcset=\"https://forum.typst.app/uploads/default/optimized/1X/75251610dc75042ad2e7e020e5279f0b6f08fa39_2_353x500.png, https://forum.typst.app/uploads/default/optimized/1X/75251610dc75042ad2e7e020e5279f0b6f08fa39_2_529x750.png 1.5x, https://forum.typst.app/uploads/default/original/1X/75251610dc75042ad2e7e020e5279f0b6f08fa39.png 2x\" data-dominant-color=\"FCFCFC\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">rawtextblocktest</span><span class=\"informations\">595×842 108 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>I wish:</p>\n<ul>\n<li>START is not spaced from the paragraph by a line</li>\n<li>AB and CD is spaced by a line.</li>\n<li>XYZ is not spaced from the paragraph by a line</li>\n</ul>\n<p>Also the raw behavior is weird, try adding a blank line below XYZ, there will be no change in output document. But adding another line will, but now “two lines in raw” is “one line in output raw”, this is not counting the line I wish to remove.</p>\n<p>Thank you.</p>\n<p>This is the source code:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#lorem(40)\n\n#par(leading: 0.4em)[\n```\nSTART\n _   _      _ _        __        __         _     _ _ \n| | | | ___| | | ___   \\ \\      / /__  _ __| | __| | |\n| |_| |/ _ \\ | |/ _ \\   \\ \\ /\\ / / _ \\| '__| |/ _` | |\n|  _  |  __/ | | (_) |   \\ V  V / (_) | |  | | (_| |_|\n|_| |_|\\___|_|_|\\___/     \\_/\\_/ \\___/|_|  |_|\\__,_(_)\nThis is test, hello you\nare not the man.\nAB\n```\n]\n```\nCD\n _   _      _ _        __        __         _     _ _ \n| | | | ___| | | ___   \\ \\      / /__  _ __| | __| | |\n| |_| |/ _ \\ | |/ _ \\   \\ \\ /\\ / / _ \\| '__| |/ _` | |\n|  _  |  __/ | | (_) |   \\ V  V / (_) | |  | | (_| |_|\n|_| |_|\\___|_|_|\\___/     \\_/\\_/ \\___/|_|  |_|\\__,_(_)\nThis is test, hello you\nare not the man.\nXYZ\n```\n#lorem(40)\n</code></pre>",
      "raw": "Please see image:\n![rawtextblocktest|353x500](upload://gIjjTl9RbFnymkxw2gEZ92iiNyF.png)\n\nI wish: \n- START is not spaced from the paragraph by a line\n- AB and CD is spaced by a line.\n- XYZ is not spaced from the paragraph by a line\n\nAlso the raw behavior is weird, try adding a blank line below XYZ, there will be no change in output document. But adding another line will, but now \"two lines in raw\" is \"one line in output raw\", this is not counting the line I wish to remove. \n\nThank you.\n\nThis is the source code:\n````typ\n#lorem(40)\n\n#par(leading: 0.4em)[\n```\nSTART\n _   _      _ _        __        __         _     _ _ \n| | | | ___| | | ___   \\ \\      / /__  _ __| | __| | |\n| |_| |/ _ \\ | |/ _ \\   \\ \\ /\\ / / _ \\| '__| |/ _` | |\n|  _  |  __/ | | (_) |   \\ V  V / (_) | |  | | (_| |_|\n|_| |_|\\___|_|_|\\___/     \\_/\\_/ \\___/|_|  |_|\\__,_(_)\nThis is test, hello you\nare not the man.\nAB\n```\n]\n```\nCD\n _   _      _ _        __        __         _     _ _ \n| | | | ___| | | ___   \\ \\      / /__  _ __| | __| | |\n| |_| |/ _ \\ | |/ _ \\   \\ \\ /\\ / / _ \\| '__| |/ _` | |\n|  _  |  __/ | | (_) |   \\ V  V / (_) | |  | | (_| |_|\n|_| |_|\\___|_|_|\\___/     \\_/\\_/ \\___/|_|  |_|\\__,_(_)\nThis is test, hello you\nare not the man.\nXYZ\n```\n#lorem(40)\n````",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 30,
      "score": 556.0,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 445
    },
    {
      "id": 2337,
      "post_number": 2,
      "username": "fhaiuwfhlawf",
      "name": "fhaiuwfhlawf",
      "created_at": "2024-09-23T08:08:59.114Z",
      "updated_at": "2024-09-23T08:08:59.114Z",
      "cooked": "<p>Oh no the markdown ruined my source code.<br>\nPlease see source code here: <a href=\"https://pastebin.com/FGLpiTPz\" rel=\"noopener nofollow ugc\">https://pastebin.com/FGLpiTPz</a></p>\n<aside class=\"onebox allowlistedgeneric\" data-onebox-src=\"https://pastebin.com/FGLpiTPz\">\n  <header class=\"source\">\n      <img src=\"https://forum.typst.app/uploads/default/original/1X/fc65bc191dbf268c70f2e739d1d5ae0f38244ef7.png\" class=\"site-icon\" data-dominant-color=\"B4B6B9\" width=\"16\" height=\"16\">\n\n      <a href=\"https://pastebin.com/FGLpiTPz\" target=\"_blank\" rel=\"noopener nofollow ugc\">Pastebin</a>\n  </header>\n\n  <article class=\"onebox-body\">\n    \n\n<h3><a href=\"https://pastebin.com/FGLpiTPz\" target=\"_blank\" rel=\"noopener nofollow ugc\">#lorem(40)#par(leading: 0.4em)[``````START _   _      _ _        __ -...</a></h3>\n\n  <p>Pastebin.com is the number one paste tool since 2002. Pastebin is a website where you can store text online for a set period of time.</p>\n\n\n  </article>\n\n  <div class=\"onebox-metadata\">\n    \n    \n  </div>\n\n  <div style=\"clear: both\"></div>\n</aside>\n",
      "raw": "Oh no the markdown ruined my source code.\nPlease see source code here: [https://pastebin.com/FGLpiTPz](https://pastebin.com/FGLpiTPz)\n\nhttps://pastebin.com/FGLpiTPz",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 28,
      "score": 5.6,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 445
    },
    {
      "id": 2344,
      "post_number": 3,
      "username": "Eric",
      "name": "Eric Biedert",
      "created_at": "2024-09-23T08:55:35.879Z",
      "updated_at": "2024-09-23T09:07:35.324Z",
      "cooked": "<aside class=\"quote no-group quote-modified\" data-username=\"fhaiuwfhlawf\" data-post=\"1\" data-topic=\"602\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/f/2DAB7D/48.png\" class=\"avatar\"> fhaiuwfhlawf:</div>\n<blockquote>\n<ul>\n<li>START is not spaced from the paragraph by a line</li>\n<li>XYZ is not spaced from the paragraph by a line</li>\n</ul>\n</blockquote>\n</aside>\n<p>These spaces come from <em>block spacing</em> that is automatically added before and after all kinds of blocks, including these code blocks. You can configure them with the <a href=\"https://typst.app/docs/reference/layout/block/#parameters-spacing\"><code>spacing</code>, <code>above</code> and <code>below</code> properties of the <code>block</code> element</a>. To remove this spacing, you can use a show-set rule and set the values to the same value used as the paragraph’s <code>leading</code> (by default <code>0.65em</code>):</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show raw.where(block: true): set block(\n  above: 0.65em,\n  below: 0.65em\n)\n</code></pre>\n<p>You can’t currently use the <code>spacing</code> property in this case, as paragraphs themselves are also blocks and their block spacing would override the custom spacing you set. This may change with the next Typst version though.</p>\n<aside class=\"quote no-group\" data-username=\"fhaiuwfhlawf\" data-post=\"1\" data-topic=\"602\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/f/2DAB7D/48.png\" class=\"avatar\"> fhaiuwfhlawf:</div>\n<blockquote>\n<ul>\n<li>AB and CD is spaced by a line</li>\n</ul>\n</blockquote>\n</aside>\n<p>With the above, the additional spacing vanishes, so as you already found out, you then need to append two line breaks in the <code>raw</code> block to end the resulting code with an empty line.</p>",
      "raw": "[quote=\"fhaiuwfhlawf, post:1, topic:602\"]\n* START is not spaced from the paragraph by a line\n* XYZ is not spaced from the paragraph by a line\n[/quote]\nThese spaces come from _block spacing_ that is automatically added before and after all kinds of blocks, including these code blocks. You can configure them with the [`spacing`, `above` and `below` properties of the `block` element](https://typst.app/docs/reference/layout/block/#parameters-spacing). To remove this spacing, you can use a show-set rule and set the values to the same value used as the paragraph's `leading` (by default `0.65em`):\n```typ\n#show raw.where(block: true): set block(\n  above: 0.65em,\n  below: 0.65em\n)\n```\nYou can't currently use the `spacing` property in this case, as paragraphs themselves are also blocks and their block spacing would override the custom spacing you set. This may change with the next Typst version though.\n\n[quote=\"fhaiuwfhlawf, post:1, topic:602\"]\n* AB and CD is spaced by a line\n[/quote]\nWith the above, the additional spacing vanishes, so as you already found out, you then need to append two line breaks in the `raw` block to end the resulting code with an empty line.",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 1,
      "like_count": 1,
      "reads": 25,
      "score": 25.0,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 88
    },
    {
      "id": 2346,
      "post_number": 4,
      "username": "fhaiuwfhlawf",
      "name": "fhaiuwfhlawf",
      "created_at": "2024-09-23T09:03:33.310Z",
      "updated_at": "2024-09-23T09:03:33.310Z",
      "cooked": "<p>Eric Thank you for the reply Im very noob. I put your code in, but it shows (IMAGE)<br>\n<div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/1X/0e9fc5903dc18450dc4aed7a9f69f8059ecbbb29.png\" data-download-href=\"https://forum.typst.app/uploads/default/0e9fc5903dc18450dc4aed7a9f69f8059ecbbb29\" title=\"Screenshot 2567-09-23 at 16.01.43\"><img src=\"https://forum.typst.app/uploads/default/optimized/1X/0e9fc5903dc18450dc4aed7a9f69f8059ecbbb29_2_690x310.png\" alt=\"Screenshot 2567-09-23 at 16.01.43\" data-base62-sha1=\"25mZCIDC4cXCbnxCkWpSU6VZFeV\" width=\"690\" height=\"310\" srcset=\"https://forum.typst.app/uploads/default/optimized/1X/0e9fc5903dc18450dc4aed7a9f69f8059ecbbb29_2_690x310.png, https://forum.typst.app/uploads/default/optimized/1X/0e9fc5903dc18450dc4aed7a9f69f8059ecbbb29_2_1035x465.png 1.5x, https://forum.typst.app/uploads/default/optimized/1X/0e9fc5903dc18450dc4aed7a9f69f8059ecbbb29_2_1380x620.png 2x\" data-dominant-color=\"F4F4F5\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">Screenshot 2567-09-23 at 16.01.43</span><span class=\"informations\">1872×842 200 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div><br>\nPlease help</p>\n<p>Also ABCD part is big typo from me, so it’s good thats its that way.<br>\nThank you.</p>",
      "raw": "Eric Thank you for the reply Im very noob. I put your code in, but it shows (IMAGE)\n![Screenshot 2567-09-23 at 16.01.43|690x310](upload://25mZCIDC4cXCbnxCkWpSU6VZFeV.png)\nPlease help\n\nAlso ABCD part is big typo from me, so it's good thats its that way.\nThank you.",
      "reply_to_post_number": 3,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 23,
      "score": 9.6,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 445
    },
    {
      "id": 2347,
      "post_number": 5,
      "username": "Eric",
      "name": "Eric Biedert",
      "created_at": "2024-09-23T09:06:35.833Z",
      "updated_at": "2024-09-23T09:06:35.833Z",
      "cooked": "<p>Oh sorry, the parameters are called <code>above</code> and <code>below</code> and not <code>before</code> and <code>after</code>!</p>",
      "raw": "Oh sorry, the parameters are called `above` and `below` and not `before` and `after`!",
      "reply_to_post_number": 4,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 22,
      "score": 29.4,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 88
    }
  ],
  "scraped_at": "2025-06-10T09:58:17.255173"
}