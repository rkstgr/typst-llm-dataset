{
  "topic_metadata": {
    "id": 1426,
    "title": "How to set an exact line height no matter which font is used in the line?",
    "slug": "how-to-set-an-exact-line-height-no-matter-which-font-is-used-in-the-line",
    "posts_count": 9,
    "created_at": "2024-10-30T04:00:05.600Z",
    "last_posted_at": "2025-03-11T08:38:47.541Z",
    "views": 976,
    "like_count": 3,
    "reply_count": 5,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "SolidTux",
    "tags": [
      "layout",
      "fonts"
    ],
    "category_id": 5,
    "participant_count": 4,
    "word_count": 548
  },
  "posts": [
    {
      "id": 4823,
      "post_number": 1,
      "username": "Ethan_Pixar",
      "name": "Ethan Pixar",
      "created_at": "2024-10-30T04:00:05.723Z",
      "updated_at": "2024-10-30T04:12:58.565Z",
      "cooked": "<p>I am a multilingual user, English and Chinese at the same time. Currently I need four different fonts and I set them up like this:</p>\n<pre><code class=\"lang-auto\">//default fonts &amp; text settings\n#let ENsans = \"Helvetica Neue\"\n#let ENserif = \"Charter\"\n#let Hei = \"Heiti SC\"\n#let Song = \"Songti SC\"\n\n//font Groups\n#let sans = (ENsans, Hei)\n#let serif = (ENserif, Song)\n#set text(\n  font: serif,\n  size: 12pt,\n  weight: \"regular\",\n)\n</code></pre>\n<p>The problem is that in cases where I need two fonts in a line (Charter for English &amp; Songti for Chinese), the default line height is the determined by the highest font in the line, which make the paragraphy line distributed unevenly. An example of the problem can be seen in the picture below.</p>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/9/911a09495f200ee23b778bfa5fd280253961ce82.png\" data-download-href=\"https://forum.typst.app/uploads/default/911a09495f200ee23b778bfa5fd280253961ce82\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/9/911a09495f200ee23b778bfa5fd280253961ce82_2_386x500.png\" alt=\"image\" data-base62-sha1=\"kHD0YgGOzW2Tyoj7WnCjw6xWhKq\" width=\"386\" height=\"500\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/9/911a09495f200ee23b778bfa5fd280253961ce82_2_386x500.png, https://forum.typst.app/uploads/default/optimized/2X/9/911a09495f200ee23b778bfa5fd280253961ce82_2_579x750.png 1.5x, https://forum.typst.app/uploads/default/original/2X/9/911a09495f200ee23b778bfa5fd280253961ce82.png 2x\" data-dominant-color=\"E6E6E6\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">726×940 125 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>The lines with English words like “LaTeX”, “Markdown” are noticably higher, even when they are in the same paragraph.</p>\n<p>I have tried <code>#set par(leading: 0.65em)</code>, but this only affects the spacing between lines instead of the exact height of the line. How can I force the height of lines to be the same? And if it is not possible, 使用中文的同志们有没有样式比较正常的同时支持中英文的字体推荐呢？</p>",
      "raw": "I am a multilingual user, English and Chinese at the same time. Currently I need four different fonts and I set them up like this: \n\n```\n//default fonts & text settings\n#let ENsans = \"Helvetica Neue\"\n#let ENserif = \"Charter\"\n#let Hei = \"Heiti SC\"\n#let Song = \"Songti SC\"\n\n//font Groups\n#let sans = (ENsans, Hei)\n#let serif = (ENserif, Song)\n#set text(\n  font: serif,\n  size: 12pt,\n  weight: \"regular\",\n)\n```\n\nThe problem is that in cases where I need two fonts in a line (Charter for English & Songti for Chinese), the default line height is the determined by the highest font in the line, which make the paragraphy line distributed unevenly. An example of the problem can be seen in the picture below.\n\n![image|386x500](upload://kHD0YgGOzW2Tyoj7WnCjw6xWhKq.png)\n\n\nThe lines with English words like \"LaTeX\", \"Markdown\" are noticably higher, even when they are in the same paragraph.\n\nI have tried `#set par(leading: 0.65em)`, but this only affects the spacing between lines instead of the exact height of the line. How can I force the height of lines to be the same? And if it is not possible, 使用中文的同志们有没有样式比较正常的同时支持中英文的字体推荐呢？",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 58,
      "score": 5056.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 484
    },
    {
      "id": 4829,
      "post_number": 2,
      "username": "SolidTux",
      "name": "Daniel Hauck",
      "created_at": "2024-10-30T08:40:04.543Z",
      "updated_at": "2024-10-30T08:40:04.543Z",
      "cooked": "<p>You need <code>set text(top-edge: 1em)</code> or something similar. The <a href=\"https://typst.app/docs/reference/text/text/#parameters-top-edge\">default</a> is <code>cap-height</code>, which is font-dependent.</p>",
      "raw": "You need `set text(top-edge: 1em)` or something similar. The [default](https://typst.app/docs/reference/text/text/#parameters-top-edge) is `cap-height`, which is font-dependent.",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 56,
      "score": 101.0,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 572
    },
    {
      "id": 4831,
      "post_number": 3,
      "username": "Ethan_Pixar",
      "name": "Ethan Pixar",
      "created_at": "2024-10-30T09:16:49.407Z",
      "updated_at": "2024-10-30T09:17:22.905Z",
      "cooked": "<p>Great Thanks! This does solve the problem!! The lines are now distributing evenly!</p>\n<p>However another problem occurring is that, the baseline of English words are a little bit too high up, compare to that of Chinese characters, can I adjust another parameter to make the baseline higher?<br>\n<div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/a/ad2c6d599ba6bf5c9a0860a45d368c22d2250523.png\" data-download-href=\"https://forum.typst.app/uploads/default/ad2c6d599ba6bf5c9a0860a45d368c22d2250523\" title=\"c4cae2aa70e12d48a7c383c06d6ea500\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/a/ad2c6d599ba6bf5c9a0860a45d368c22d2250523_2_572x500.png\" alt=\"c4cae2aa70e12d48a7c383c06d6ea500\" data-base62-sha1=\"oHXMNFq9bzimnlo3PAGXPBDClF1\" width=\"572\" height=\"500\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/a/ad2c6d599ba6bf5c9a0860a45d368c22d2250523_2_572x500.png, https://forum.typst.app/uploads/default/original/2X/a/ad2c6d599ba6bf5c9a0860a45d368c22d2250523.png 1.5x, https://forum.typst.app/uploads/default/original/2X/a/ad2c6d599ba6bf5c9a0860a45d368c22d2250523.png 2x\" data-dominant-color=\"E2E2E2\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">c4cae2aa70e12d48a7c383c06d6ea500</span><span class=\"informations\">630×550 80.7 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>I also did this experiment:</p>\n<pre><code class=\"lang-auto\">rect(fill: aqua)[\n  然后我又尝试用 LaTeX 来写实\n]\n</code></pre>\n<p>As you can see,<br>\n<img src=\"https://forum.typst.app/uploads/default/original/2X/3/390d33a8b4b6c6e98622c9e9e1352f732ad5f901.png\" alt=\"image\" data-base62-sha1=\"88Hv21vU63tbTuAbDvUJ8iXHsFb\" width=\"510\" height=\"104\"><br>\nthe baseline is a bit low in the line.</p>",
      "raw": "Great Thanks! This does solve the problem!! The lines are now distributing evenly!\n\nHowever another problem occurring is that, the baseline of English words are a little bit too high up, compare to that of Chinese characters, can I adjust another parameter to make the baseline higher? \n![c4cae2aa70e12d48a7c383c06d6ea500|572x500](upload://oHXMNFq9bzimnlo3PAGXPBDClF1.png)\n\nI also did this experiment:\n```\nrect(fill: aqua)[\n  然后我又尝试用 LaTeX 来写实\n]\n```\nAs you can see, \n![image|510x104](upload://88Hv21vU63tbTuAbDvUJ8iXHsFb.png)\nthe baseline is a bit low in the line.",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 53,
      "score": 165.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 484
    },
    {
      "id": 4832,
      "post_number": 4,
      "username": "SolidTux",
      "name": "Daniel Hauck",
      "created_at": "2024-10-30T09:44:29.233Z",
      "updated_at": "2024-10-30T09:44:29.233Z",
      "cooked": "<p>There is a <a href=\"https://typst.app/docs/reference/text/text/#parameters-baseline\">baseline parameter</a>, but I’ve never used it.</p>",
      "raw": "There is a [baseline parameter](https://typst.app/docs/reference/text/text/#parameters-baseline), but I've never used it.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 42,
      "score": 18.2,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 572
    },
    {
      "id": 9571,
      "post_number": 5,
      "username": "Radon",
      "name": "Radon",
      "created_at": "2025-03-10T13:33:54.785Z",
      "updated_at": "2025-03-10T13:33:54.785Z",
      "cooked": "<p>I’ve tried <code>show text.where(font: \"xxx\"): show text(baseline: xxem)</code> to set specific baseline for Chinese fonts. But this doesn’t work <img src=\"https://forum.typst.app/images/emoji/apple/smiling_face_with_tear.png?v=12\" title=\":smiling_face_with_tear:\" class=\"emoji\" alt=\":smiling_face_with_tear:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>",
      "raw": "I've tried `show text.where(font: \"xxx\"): show text(baseline: xxem)` to set specific baseline for Chinese fonts. But this doesn't work :smiling_face_with_tear:",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 28,
      "score": 15.4,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 1323
    },
    {
      "id": 9603,
      "post_number": 6,
      "username": "sijo",
      "name": "",
      "created_at": "2025-03-10T15:26:09.664Z",
      "updated_at": "2025-03-10T15:26:09.664Z",
      "cooked": "<p>Maybe you’re not using the right font name in the show rule… After you do <code>set text(font: ...)</code>, try something like <code>context panic(text.font)</code> to see what name is actually used by Typst.</p>",
      "raw": "Maybe you're not using the right font name in the show rule... After you do `set text(font: ...)`, try something like `context panic(text.font)` to see what name is actually used by Typst.",
      "reply_to_post_number": 5,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 25,
      "score": 9.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 332
    },
    {
      "id": 9621,
      "post_number": 7,
      "username": "Radon",
      "name": "Radon",
      "created_at": "2025-03-11T01:19:05.631Z",
      "updated_at": "2025-03-11T01:19:05.631Z",
      "cooked": "<p>Still no good. But thanks for the advice. I’ll try a different font instead.</p>",
      "raw": "Still no good. But thanks for the advice. I'll try a different font instead.",
      "reply_to_post_number": 6,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 24,
      "score": 14.6,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 1323
    },
    {
      "id": 9624,
      "post_number": 8,
      "username": "sijo",
      "name": "",
      "created_at": "2025-03-11T08:23:15.817Z",
      "updated_at": "2025-03-11T08:24:13.406Z",
      "cooked": "<p>It seems that the <code>show text.where(font: \"xxx\"): set text(...)</code> method works only when <code>text.font</code> is set to a single value… So this works:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show text.where(font: \"noto sans tc\"): set text(baseline: -0.3em)\n#lorem(5)\n#set text(font: \"Noto Sans TC\")\n天地玄黄 宇宙洪荒 日月盈昃 辰宿列张 寒来暑往 秋收冬藏\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/6/65eb36271b5ef90a770dc2efdfa20f3c841a4db4.png\" alt=\"image\" data-base62-sha1=\"exCa6cpL9lHMHLaLzwipgcQxsxe\" width=\"480\" height=\"30\"></p>\n<p>but this doesn’t work:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set text(font: (\n  (name: \"Noto Sans TC\", covers: regex(\"[\\p{Han}]\")),\n  \"Libertinus Serif\",\n))\n#show text.where(font: \"noto sans tc\"): set text(baseline: -0.3em)\n#lorem(5)\n天地玄黄 宇宙洪荒 日月盈昃 辰宿列张 寒来暑往 秋收冬藏\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/2/2d651d25d87680fde132c7483ebd739078eb8b33.png\" alt=\"image\" data-base62-sha1=\"6tA7xtSJPYCec1jhqOusPiW0iIz\" width=\"485\" height=\"27\"></p>\n<p>A more robust and cleaner way to do this could be with functions to set the font explicitly for each piece of text:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let latin = text.with(font: \"Libertinus Sans\")\n#let chinese = text.with(font: \"Noto Sans TC\", baseline: -0.3em)\n\n#latin[#lorem(5)]\n#chinese[天地玄黄 宇宙洪荒 日月盈昃 辰宿列张 寒来暑往 秋收冬藏]\n</code></pre>",
      "raw": "It seems that the `show text.where(font: \"xxx\"): set text(...)` method works only when `text.font` is set to a single value... So this works:\n\n```typ\n#show text.where(font: \"noto sans tc\"): set text(baseline: -0.3em)\n#lorem(5)\n#set text(font: \"Noto Sans TC\")\n天地玄黄 宇宙洪荒 日月盈昃 辰宿列张 寒来暑往 秋收冬藏\n```\n\n![image|640x40, 75%](upload://exCa6cpL9lHMHLaLzwipgcQxsxe.png)\n\nbut this doesn't work:\n\n```typ\n#set text(font: (\n  (name: \"Noto Sans TC\", covers: regex(\"[\\p{Han}]\")),\n  \"Libertinus Serif\",\n))\n#show text.where(font: \"noto sans tc\"): set text(baseline: -0.3em)\n#lorem(5)\n天地玄黄 宇宙洪荒 日月盈昃 辰宿列张 寒来暑往 秋收冬藏\n```\n![image|647x36, 75%](upload://6tA7xtSJPYCec1jhqOusPiW0iIz.png)\n\nA more robust and cleaner way to do this could be with functions to set the font explicitly for each piece of text:\n\n```typ\n#let latin = text.with(font: \"Libertinus Sans\")\n#let chinese = text.with(font: \"Noto Sans TC\", baseline: -0.3em)\n\n#latin[#lorem(5)]\n#chinese[天地玄黄 宇宙洪荒 日月盈昃 辰宿列张 寒来暑往 秋收冬藏]\n```",
      "reply_to_post_number": 7,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 22,
      "score": 39.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 332
    },
    {
      "id": 9626,
      "post_number": 9,
      "username": "Radon",
      "name": "Radon",
      "created_at": "2025-03-11T08:38:47.541Z",
      "updated_at": "2025-03-11T08:38:47.541Z",
      "cooked": "<p>Exactly! Really appreciate your help.</p>",
      "raw": "Exactly! Really appreciate your help.",
      "reply_to_post_number": 8,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 19,
      "score": 23.6,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 1323
    }
  ],
  "scraped_at": "2025-06-10T09:55:46.435214"
}