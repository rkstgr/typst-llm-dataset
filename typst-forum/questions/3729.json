{
  "topic_metadata": {
    "id": 3729,
    "title": "How can I convert `str` type to a `content` type (string to content)?",
    "slug": "how-can-i-convert-str-type-to-a-content-type-string-to-content",
    "posts_count": 7,
    "created_at": "2025-04-19T13:49:33.258Z",
    "last_posted_at": "2025-04-21T17:59:39.936Z",
    "views": 144,
    "like_count": 3,
    "reply_count": 4,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "vmartel08",
    "tags": [
      "scripting",
      "math"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 488
  },
  "posts": [
    {
      "id": 11330,
      "post_number": 1,
      "username": "Roberto",
      "name": "Roberto Giacomelli",
      "created_at": "2025-04-19T13:49:33.506Z",
      "updated_at": "2025-04-19T16:50:56.308Z",
      "cooked": "<p>Hi there. Newbie question here.<br>\nThe <code>str</code> type has many facilities such as regex manipulation not available for content material.<br>\nLet’s assume there’s a need to process a certain text as a string as we do with a template and to compose the resulting text from the union of the model with data. With this objective in mind, I haven’t been able to compose a string as markup text. For example, in the following code, I would expect the string to be typesetted as content, but it’s not the case.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let s = \"This is a *string* defining $pi$ as $3.14$!\"\n#s\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/a/af7ab1fda928e169a7eeb55ce7aa92c73a0ee2ec.png\" alt=\"immagine\" data-base62-sha1=\"p2mqHN1bQw41PHlyiikjPki4KHa\" width=\"616\" height=\"69\"></p>\n<p>Expected result:<br>\n<img src=\"https://forum.typst.app/uploads/default/original/2X/b/b9b74e139dda81e5fbc4d5a8f7ce829e16856ed8.png\" alt=\"immagine\" data-base62-sha1=\"quV3N5d6HZbfJ9acL1TbdCZAY52\" width=\"540\" height=\"60\"></p>\n<p>How do that?<br>\nThanks</p>",
      "raw": "Hi there. Newbie question here.\nThe `str` type has many facilities such as regex manipulation not available for content material.\nLet's assume there's a need to process a certain text as a string as we do with a template and to compose the resulting text from the union of the model with data. With this objective in mind, I haven't been able to compose a string as markup text. For example, in the following code, I would expect the string to be typesetted as content, but it's not the case.\n\n```typ\n#let s = \"This is a *string* defining $pi$ as $3.14$!\"\n#s\n```\n![immagine|616x69](upload://p2mqHN1bQw41PHlyiikjPki4KHa.png)\n\nExpected result:\n![immagine|540x60](upload://quV3N5d6HZbfJ9acL1TbdCZAY52.png)\n\nHow do that?\nThanks",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 37,
      "score": 292.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1471
    },
    {
      "id": 11332,
      "post_number": 2,
      "username": "vmartel08",
      "name": "Vincent Martel",
      "created_at": "2025-04-19T14:06:18.340Z",
      "updated_at": "2025-04-20T00:01:11.511Z",
      "cooked": "<p>Hello <a class=\"mention\" href=\"/u/roberto\">@Roberto</a>,</p>\n<p>This could be achieved with the use of the <a href=\"https://typst.app/docs/reference/foundations/eval/\">Evaluate Function</a>:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let s = \"This is a *string* defining $pi$ as $3.14$!\"\n#s\n#eval(s, mode: \"markup\")\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/6/6b3c1713d9db95fecd825f9a5bf94c0b77df0f5c.png\" alt=\"image\" data-base62-sha1=\"fiDPzL8413ql4nrL7FRh21U3JP6\" width=\"366\" height=\"86\"></p>",
      "raw": "Hello @Roberto, \n\nThis could be achieved with the use of the [Evaluate Function](https://typst.app/docs/reference/foundations/eval/):\n\n```typ\n#let s = \"This is a *string* defining $pi$ as $3.14$!\"\n#s\n#eval(s, mode: \"markup\")\n```\n\n![image|366x86](upload://fiDPzL8413ql4nrL7FRh21U3JP6.png)",
      "reply_to_post_number": null,
      "reply_count": 2,
      "quote_count": 0,
      "like_count": 1,
      "reads": 36,
      "score": 127.2,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 936
    },
    {
      "id": 11333,
      "post_number": 3,
      "username": "Roberto",
      "name": "Roberto Giacomelli",
      "created_at": "2025-04-19T14:08:45.110Z",
      "updated_at": "2025-04-19T14:11:28.076Z",
      "cooked": "<p>Thank you <a class=\"mention\" href=\"/u/vmartel08\">@vmartel08</a>. Any perfomance issue with the use of eval function in order to content conversion?<br>\nDocs defines eval as last resource.</p>",
      "raw": "Thank you @vmartel08. Any perfomance issue with the use of eval function in order to content conversion?\nDocs defines eval as last resource.",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 35,
      "score": 12.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1471
    },
    {
      "id": 11334,
      "post_number": 4,
      "username": "vmartel08",
      "name": "Vincent Martel",
      "created_at": "2025-04-19T14:14:35.789Z",
      "updated_at": "2025-04-19T14:20:34.554Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"Roberto\" data-post=\"3\" data-topic=\"3729\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/roberto/48/2562_2.png\" class=\"avatar\"> Roberto:</div>\n<blockquote>\n<p>Any perfomance issue with the use of eval function in order to content conversion?</p>\n</blockquote>\n</aside>\n<p>Well, as you can read in the <a href=\"https://typst.app/docs/reference/foundations/eval/\">doc</a>:</p>\n<blockquote>\n<p>This function should only be used as a last resort.</p>\n</blockquote>\n<p>I’m not an expert of the Typst compiler internals but I would think that converting <code>text</code> to <code>content</code> should be nearly cost-less while converting <code>content</code> to <code>text</code> is more costly. Someone with more expertise should probably answer this part.</p>\n<p>May I suggest you move your question to the <a href=\"https://forum.typst.app/c/questions/5\">Questions</a> category?</p>",
      "raw": "[quote=\"Roberto, post:3, topic:3729\"]\nAny perfomance issue with the use of eval function in order to content conversion?\n[/quote]\n\nWell, as you can read in the [doc](https://typst.app/docs/reference/foundations/eval/):\n> \n> This function should only be used as a last resort.\n\nI'm not an expert of the Typst compiler internals but I would think that converting `text` to `content` should be nearly cost-less while converting `content` to `text` is more costly. Someone with more expertise should probably answer this part. \n\nMay I suggest you move your question to the [Questions](https://forum.typst.app/c/questions/5) category?",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 1,
      "like_count": 1,
      "reads": 35,
      "score": 32.0,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 936
    },
    {
      "id": 11346,
      "post_number": 5,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-19T20:20:21.665Z",
      "updated_at": "2025-04-19T20:20:21.665Z",
      "cooked": "<p>In your code block, you should use <code>typ</code> code identifier instead of <code>typc</code>.</p>",
      "raw": "In your code block, you should use `typ` code identifier instead of `typc`.",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 31,
      "score": 6.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 11347,
      "post_number": 6,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-19T20:23:17.131Z",
      "updated_at": "2025-04-19T20:23:17.131Z",
      "cooked": "<p>I’m not sure if there is a noticeable cost to this, but <a href=\"https://typst.app/docs/reference/foundations/eval/#parameters-scope\">the scope</a> is separate, so if something is referenced from outside, it must be specified.</p>\n<p><code>eval()</code> is the only way to render Typst examples, which has been done by many people, so I don’t think it’s that bad. There is <a href=\"https://github.com/typst/typst/issues/6067\" class=\"inline-onebox\" rel=\"noopener nofollow ugc\">`eval` drops all warnings · Issue #6067 · typst/typst · GitHub</a>, which was fixed recently.</p>",
      "raw": "I'm not sure if there is a noticeable cost to this, but [the scope](https://typst.app/docs/reference/foundations/eval/#parameters-scope) is separate, so if something is referenced from outside, it must be specified.\n\n`eval()` is the only way to render Typst examples, which has been done by many people, so I don't think it's that bad. There is https://github.com/typst/typst/issues/6067, which was fixed recently.",
      "reply_to_post_number": 4,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 31,
      "score": 26.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 11406,
      "post_number": 7,
      "username": "vmartel08",
      "name": "Vincent Martel",
      "created_at": "2025-04-21T17:59:39.936Z",
      "updated_at": "2025-04-21T17:59:39.936Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"Andrew\" data-post=\"6\" data-topic=\"3729\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/andrew/48/62_2.png\" class=\"avatar\"> Andrew:</div>\n<blockquote>\n<p><code>eval()</code> is the only way to render Typst examples, which has been done by many people, so I don’t think it’s that bad</p>\n</blockquote>\n</aside>\n<p>I read the “should only be used as a last resort” as “use the markup syntax<br>\n<code>[ .. ]</code> unless you have a good reason not to”. I too have seen it used throughout various code examples here, on GitHub and on the Typst Discord.</p>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/4/47f460f78e17161288d90d6943718223de6f3bfe.png\" data-download-href=\"https://forum.typst.app/uploads/default/47f460f78e17161288d90d6943718223de6f3bfe\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/4/47f460f78e17161288d90d6943718223de6f3bfe_2_690x42.png\" alt=\"image\" data-base62-sha1=\"agxtJguWWXzzYaN5335D6JLWOrI\" width=\"690\" height=\"42\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/4/47f460f78e17161288d90d6943718223de6f3bfe_2_690x42.png, https://forum.typst.app/uploads/default/optimized/2X/4/47f460f78e17161288d90d6943718223de6f3bfe_2_1035x63.png 1.5x, https://forum.typst.app/uploads/default/original/2X/4/47f460f78e17161288d90d6943718223de6f3bfe.png 2x\" data-dominant-color=\"D3D5D7\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">1077×66 30.7 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p><a class=\"mention\" href=\"/u/roberto\">@Roberto</a> please make sure you follow-up by either marking <img src=\"https://forum.typst.app/images/emoji/apple/white_check_mark.png?v=12\" title=\":white_check_mark:\" class=\"emoji\" alt=\":white_check_mark:\" loading=\"lazy\" width=\"20\" height=\"20\"> the post you found the most useful in answering your question to help others in the future.</p>",
      "raw": "[quote=\"Andrew, post:6, topic:3729\"]\n`eval()` is the only way to render Typst examples, which has been done by many people, so I don’t think it’s that bad\n[/quote]\n\nI read the \"should only be used as a last resort\" as \"use the markup syntax \n`[ .. ]` unless you have a good reason not to\". I too have seen it used throughout various code examples here, on GitHub and on the Typst Discord. \n\n![image|690x42](upload://agxtJguWWXzzYaN5335D6JLWOrI.png)\n \n@Roberto please make sure you follow-up by either marking :white_check_mark: the post you found the most useful in answering your question to help others in the future.",
      "reply_to_post_number": 6,
      "reply_count": 0,
      "quote_count": 1,
      "like_count": 0,
      "reads": 23,
      "score": 4.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 936
    }
  ],
  "scraped_at": "2025-06-10T09:48:57.715971"
}