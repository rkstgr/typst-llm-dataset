{
  "topic_metadata": {
    "id": 1982,
    "title": "Can I use the syntax of Typst only, and define custom primitive commands?",
    "slug": "can-i-use-the-syntax-of-typst-only-and-define-custom-primitive-commands",
    "posts_count": 6,
    "created_at": "2024-12-04T14:57:13.677Z",
    "last_posted_at": "2024-12-05T05:15:37.278Z",
    "views": 158,
    "like_count": 5,
    "reply_count": 4,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 4,
    "accepted_answer_username": "jbirnick",
    "tags": [],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 647
  },
  "posts": [
    {
      "id": 6327,
      "post_number": 1,
      "username": "OrthoPole",
      "name": "OrthoPole",
      "created_at": "2024-12-04T14:57:13.780Z",
      "updated_at": "2024-12-04T14:57:13.780Z",
      "cooked": "<p>I like the syntax of Typst, and want to use it for something else.</p>\n<p>Just like TeX having several extensions like Plain TeX, LaTeX, etc., can I define a different set of “primitive commands” (i don’t know whether Typst has something like that), and apply it to other scenarios than building a pdf document (e.g., building a html document instead)?</p>",
      "raw": "I like the syntax of Typst, and want to use it for something else.\n\nJust like TeX having several extensions like Plain TeX, LaTeX, etc., can I define a different set of \"primitive commands\" (i don't know whether Typst has something like that), and apply it to other scenarios than building a pdf document (e.g., building a html document instead)?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 46,
      "score": 289.2,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 889
    },
    {
      "id": 6330,
      "post_number": 2,
      "username": "gezepi",
      "name": "",
      "created_at": "2024-12-04T15:55:19.200Z",
      "updated_at": "2024-12-04T15:56:43.700Z",
      "cooked": "<p>I’m not sure I can answer your general question, can you give more details what you mean by “primitive commands”?</p>\n<p>For creating HTML documents specifically, that is on the <a href=\"https://typst.app/docs/roadmap/\">roadmap</a> and is tracked by this GitHub issue: <a href=\"https://github.com/typst/typst/issues/5512\" class=\"inline-onebox\" rel=\"noopener nofollow ugc\">Tracking issue: HTML export · Issue #5512 · typst/typst · GitHub</a></p>\n<p>I don’t remember where I read this but I think it’s also planned to allow the creation of types by the user, and this will let us use <code>set</code> rules on them.  Maybe this is closer to what you’re looking for?<br>\nThis is mentioned as “Custom types (that work with set and show rules” on the roadmap.</p>",
      "raw": "I'm not sure I can answer your general question, can you give more details what you mean by \"primitive commands\"?\n\nFor creating HTML documents specifically, that is on the [roadmap](https://typst.app/docs/roadmap/) and is tracked by this GitHub issue: https://github.com/typst/typst/issues/5512\n\nI don't remember where I read this but I think it's also planned to allow the creation of types by the user, and this will let us use `set` rules on them.  Maybe this is closer to what you're looking for?\nThis is mentioned as \"Custom types (that work with set and show rules\" on the roadmap.",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 3,
      "reads": 48,
      "score": 74.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 326
    },
    {
      "id": 6331,
      "post_number": 3,
      "username": "OrthoPole",
      "name": "OrthoPole",
      "created_at": "2024-12-04T16:05:38.844Z",
      "updated_at": "2024-12-04T16:05:38.844Z",
      "cooked": "<p>I’m not sure how Typst works. In my mind, every code are parsed into functions and values, and after executing them recursively, some “primitive” functions are finally called, which means these functions cannot be implemented in the language of Typst. Then Typst executes these functions using a more basic implementation, like writing some data into the pdf document.</p>\n<p>If this is the case, what I want to do is to define a different set of primitive functions, using my own implementation, and then build a whole system on it.</p>",
      "raw": "I'm not sure how Typst works. In my mind, every code are parsed into functions and values, and after executing them recursively, some \"primitive\" functions are finally called, which means these functions cannot be implemented in the language of Typst. Then Typst executes these functions using a more basic implementation, like writing some data into the pdf document.\n\nIf this is the case, what I want to do is to define a different set of primitive functions, using my own implementation, and then build a whole system on it.",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 46,
      "score": 24.2,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 889
    },
    {
      "id": 6340,
      "post_number": 4,
      "username": "jbirnick",
      "name": "Johann Birnick",
      "created_at": "2024-12-04T17:36:04.564Z",
      "updated_at": "2024-12-04T17:36:04.564Z",
      "cooked": "<p>I still don’t understand what the final product is that you are trying to achieve. Do you want to export to a different format?</p>\n<p>You can read <a href=\"https://docs.rs/typst/latest/typst/\" rel=\"noopener nofollow ugc\">here</a> how Typst roughly works. In particular, it parses and evaluates your source code to something called <code>Content</code>, which maybe is the “intermediate representation” that you are looking for. This content is then either exported to HTML or layouted in to Frames (1 page = 1 frame) which can be exported to PNG/SVG/PDF.</p>",
      "raw": "I still don't understand what the final product is that you are trying to achieve. Do you want to export to a different format?\n\nYou can read [here](https://docs.rs/typst/latest/typst/) how Typst roughly works. In particular, it parses and evaluates your source code to something called `Content`, which maybe is the \"intermediate representation\" that you are looking for. This content is then either exported to HTML or layouted in to Frames (1 page = 1 frame) which can be exported to PNG/SVG/PDF.",
      "reply_to_post_number": 3,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 47,
      "score": 29.4,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 218
    },
    {
      "id": 6350,
      "post_number": 5,
      "username": "OrthoPole",
      "name": "OrthoPole",
      "created_at": "2024-12-05T03:25:27.883Z",
      "updated_at": "2024-12-05T03:28:48.016Z",
      "cooked": "<p>Thank you for your answers. They do help me a lot.</p>\n<p>My main goal is to use Typst to write notes on my own website.<br>\nHowever, Typst is designed to build a pdf document, instead of HTML.<br>\nSo I want to redefine the commands to product HTML instead.</p>\n<p>For example, I want to write something like this:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">= This is a header // &lt;h1&gt;This is a header&lt;/h1&gt;\nThis is a paragraph // &lt;p&gt;This is a paragraph&lt;/p&gt;\n$x^2 + y^2 = z^2$ // Mathjax or something else\n</code></pre>\n<p>I think the basic structure of pdf document and HTML is different. PDF documents are controlled by positions and sizes (actually IDK) while HTML are rendered by document flows. This difference possibly makes producing HTML directly using Typst impossible.</p>\n<p>Therefore, I want to rewrite the basic commands in Typst to produce HTML instead of PDF, while preserving the syntax.</p>\n<p>From your answer, I think what I should do is to do only the first two steps, and parse the <code>Content</code> to HTML directly? I will look for more references later.</p>",
      "raw": "Thank you for your answers. They do help me a lot.\n\nMy main goal is to use Typst to write notes on my own website.\nHowever, Typst is designed to build a pdf document, instead of HTML.\nSo I want to redefine the commands to product HTML instead.\n\nFor example, I want to write something like this:\n```typst\n= This is a header // <h1>This is a header</h1>\nThis is a paragraph // <p>This is a paragraph</p>\n$x^2 + y^2 = z^2$ // Mathjax or something else\n```\nI think the basic structure of pdf document and HTML is different. PDF documents are controlled by positions and sizes (actually IDK) while HTML are rendered by document flows. This difference possibly makes producing HTML directly using Typst impossible. \n\nTherefore, I want to rewrite the basic commands in Typst to produce HTML instead of PDF, while preserving the syntax.\n\nFrom your answer, I think what I should do is to do only the first two steps, and parse the `Content` to HTML directly? I will look for more references later.",
      "reply_to_post_number": 4,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 44,
      "score": 33.8,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 889
    },
    {
      "id": 6351,
      "post_number": 6,
      "username": "jbirnick",
      "name": "Johann Birnick",
      "created_at": "2024-12-05T05:15:37.278Z",
      "updated_at": "2024-12-05T05:18:02.074Z",
      "cooked": "<p>Yeah but as mentioned before, what you are trying to achieve is actually currently implemented by the maintainers of Typst.</p>\n<p>Someone already posted the tracking issue: <a href=\"https://github.com/typst/typst/issues/5512\" class=\"inline-onebox\" rel=\"noopener nofollow ugc\">Tracking issue: HTML export · Issue #5512 · typst/typst · GitHub</a></p>\n<p>With the git version of Typst you can already export very basic documents to HTML. It will become better over the next weeks and months. Applications like blogging are explicitly in the mind of the creators, just have a look at the tracking issue above, where “blog” is literally mentioned.</p>\n<p>And someone just posted here on the Forum that he is already using Typst to generate his website: <a href=\"https://forum.typst.app/t/my-website-is-now-built-with-typsts-new-experimental-html-exporter/1988/1\" class=\"inline-onebox\">My website is now built with Typst's new experimental HTML exporter</a></p>",
      "raw": "Yeah but as mentioned before, what you are trying to achieve is actually currently implemented by the maintainers of Typst.\n\nSomeone already posted the tracking issue: https://github.com/typst/typst/issues/5512\n\nWith the git version of Typst you can already export very basic documents to HTML. It will become better over the next weeks and months. Applications like blogging are explicitly in the mind of the creators, just have a look at the tracking issue above, where \"blog\" is literally mentioned.\n\nAnd someone just posted here on the Forum that he is already using Typst to generate his website: https://forum.typst.app/t/my-website-is-now-built-with-typsts-new-experimental-html-exporter/1988/1",
      "reply_to_post_number": 5,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 41,
      "score": 28.2,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 218
    }
  ],
  "scraped_at": "2025-06-10T09:54:04.511801"
}