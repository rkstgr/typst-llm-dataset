{
  "topic_metadata": {
    "id": 4026,
    "title": "Can you merge 2 zeros from 2 axis in Lilaq?",
    "slug": "can-you-merge-2-zeros-from-2-axis-in-lilaq",
    "posts_count": 15,
    "created_at": "2025-05-11T12:52:41.243Z",
    "last_posted_at": "2025-05-11T20:07:45.043Z",
    "views": 78,
    "like_count": 5,
    "reply_count": 13,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 12,
    "accepted_answer_username": "Mc-Zen",
    "tags": [
      "lilaq"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 1059
  },
  "posts": [
    {
      "id": 12253,
      "post_number": 1,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-05-11T12:52:41.503Z",
      "updated_at": "2025-05-11T12:52:41.503Z",
      "cooked": "<p>From <a href=\"https://forum.typst.app/t/how-to-reproduce-an-image-in-typst/4018/7\" class=\"inline-onebox\">How to Reproduce an Image in Typst? - #7 by Andrew</a>, I thought I can do <code>shared-zero</code> from CeTZ, but I can’t find such option. Does it exist?</p>",
      "raw": "From https://forum.typst.app/t/how-to-reproduce-an-image-in-typst/4018/7?u=andrew, I thought I can do `shared-zero` from CeTZ, but I can't find such option. Does it exist?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 28,
      "score": 30.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 12258,
      "post_number": 2,
      "username": "Mc-Zen",
      "name": "Mc-Zen",
      "created_at": "2025-05-11T13:14:24.733Z",
      "updated_at": "2025-05-11T13:14:24.733Z",
      "cooked": "<p>No, there is no such option but you can install a tick filter for the y axis to remove the 0 tick. This should result exactly in the looks of the initial figure from that blog post.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#lq.diagram(\n  yaxis: (filter: (value, _) =&gt; value != 0)\n)\n</code></pre>\n<p>This is explained in <a href=\"https://lilaq.org/docs/tutorials/axis#arrows-and-schoolbook-styles\" class=\"inline-onebox\" rel=\"noopener nofollow ugc\">Axis configuration − Lilaq</a>.</p>",
      "raw": "No, there is no such option but you can install a tick filter for the y axis to remove the 0 tick. This should result exactly in the looks of the initial figure from that blog post. \n\n```typ\n#lq.diagram(\n  yaxis: (filter: (value, _) => value != 0)\n)\n```\n\nThis is explained in https://lilaq.org/docs/tutorials/axis#arrows-and-schoolbook-styles.",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 2,
      "reads": 28,
      "score": 40.6,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 9
    },
    {
      "id": 12266,
      "post_number": 3,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-05-11T14:04:57.637Z",
      "updated_at": "2025-05-11T14:04:57.637Z",
      "cooked": "<p>Okay, but can I then offset this one label to the left so that it looks like a merged zero?</p>",
      "raw": "Okay, but can I then offset this one label to the left so that it looks like a merged zero?",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 27,
      "score": 10.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 12270,
      "post_number": 4,
      "username": "Mc-Zen",
      "name": "Mc-Zen",
      "created_at": "2025-05-11T16:24:16.802Z",
      "updated_at": "2025-05-11T16:24:16.802Z",
      "cooked": "<p>In this case I suggest omitting both zeros and using <a href=\"https://lilaq.org/docs/reference/place\" rel=\"noopener nofollow ugc\">place − Lilaq</a> to manually add a 0 at the position of your liking.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#lq.diagram(\n  xaxis: (filter: (value, _) =&gt; value != 0),\n  yaxis: (filter: (value, _) =&gt; value != 0),\n  lq.place(\n    0, 0, move(dx: -.75em, dy: .75em)[$0$]\n  )\n)\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/f/ffab07241c007e6b71a013fe443dec453b577e3d.png\" alt=\"image\" data-base62-sha1=\"AtKbbZvym5auSEYXhWaH038asep\" width=\"374\" height=\"247\"></p>\n<p>With <code>show tick.where(value: 0): move(dx: 1em)</code> this will one day be easy with user-defined types.</p>",
      "raw": "In this case I suggest omitting both zeros and using [place − Lilaq](https://lilaq.org/docs/reference/place) to manually add a 0 at the position of your liking. \n\n```typ\n#lq.diagram(\n  xaxis: (filter: (value, _) => value != 0),\n  yaxis: (filter: (value, _) => value != 0),\n  lq.place(\n    0, 0, move(dx: -.75em, dy: .75em)[$0$]\n  )\n)\n```\n![image|499x330, 75%](upload://AtKbbZvym5auSEYXhWaH038asep.png)\n\n\nWith `show tick.where(value: 0): move(dx: 1em)` this will one day be easy with user-defined types.",
      "reply_to_post_number": 3,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 24,
      "score": 9.8,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 9
    },
    {
      "id": 12277,
      "post_number": 5,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-05-11T17:29:31.028Z",
      "updated_at": "2025-05-11T19:58:24.209Z",
      "cooked": "<p>Hmm. While this works</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#import \"@preview/lilaq:0.2.0\" as lq\n\n#let omit-zero = (filter: (v, _) =&gt; v != 0)\n#let shared-zero = {\n  lq.place(0, 0, align: top + right, move(dx: -0.5em, dy: 0.5em)[$0$])\n}\n\n#let y-max = 400\n#let x-max = 640\n#lq.diagram(\n  ylim: (0, y-max),\n  xlim: (0, x-max),\n  yaxis: (ticks: range(y-max + 1, step: 80), subticks: 1, ..omit-zero),\n  xaxis: (ticks: range(x-max + 1, step: 80), subticks: 1, ..omit-zero),\n  grid: (stroke: black, stroke-sub: 0.5pt),\n  shared-zero,\n)\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/a/ae077aaa22b07b227e2c3ae2a1488ed98a0affc7.png\" alt=\"image\" data-base62-sha1=\"oPx6rjReEC4lQJeBVuqc8CaJRiv\" width=\"243\" height=\"162\"></p>\n<p>I wanted to get a single variable that will do both things and just spread it. But for that you need to fold the axis dictionaries. Is there some way to do that?</p>",
      "raw": "Hmm. While this works\n\n```typ\n#import \"@preview/lilaq:0.2.0\" as lq\n\n#let omit-zero = (filter: (v, _) => v != 0)\n#let shared-zero = {\n  lq.place(0, 0, align: top + right, move(dx: -0.5em, dy: 0.5em)[$0$])\n}\n\n#let y-max = 400\n#let x-max = 640\n#lq.diagram(\n  ylim: (0, y-max),\n  xlim: (0, x-max),\n  yaxis: (ticks: range(y-max + 1, step: 80), subticks: 1, ..omit-zero),\n  xaxis: (ticks: range(x-max + 1, step: 80), subticks: 1, ..omit-zero),\n  grid: (stroke: black, stroke-sub: 0.5pt),\n  shared-zero,\n)\n```\n\n![image|487x325, 50%](upload://oPx6rjReEC4lQJeBVuqc8CaJRiv.png)\n\nI wanted to get a single variable that will do both things and just spread it. But for that you need to fold the axis dictionaries. Is there some way to do that?",
      "reply_to_post_number": 4,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 20,
      "score": 9.0,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 12279,
      "post_number": 6,
      "username": "Mc-Zen",
      "name": "Mc-Zen",
      "created_at": "2025-05-11T17:38:20.518Z",
      "updated_at": "2025-05-11T17:38:20.518Z",
      "cooked": "<p>Do you mean</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let shared-zero = arguments(\n  xaxis: (..),\n  yaxis: (..),\n  lq.place(0, 0, align: top + right, move(dx: -0.5em, dy: 0.5em)[$0$])\n)\n\n#lq.diagram(\n  ..shared-zero\n)\n</code></pre>",
      "raw": "Do you mean \n```typ\n#let shared-zero = arguments(\n  xaxis: (..),\n  yaxis: (..),\n  lq.place(0, 0, align: top + right, move(dx: -0.5em, dy: 0.5em)[$0$])\n)\n\n#lq.diagram(\n  ..shared-zero\n)\n```",
      "reply_to_post_number": 5,
      "reply_count": 2,
      "quote_count": 0,
      "like_count": 0,
      "reads": 20,
      "score": 14.0,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 9
    },
    {
      "id": 12280,
      "post_number": 7,
      "username": "Mc-Zen",
      "name": "Mc-Zen",
      "created_at": "2025-05-11T17:41:21.396Z",
      "updated_at": "2025-05-11T17:41:21.396Z",
      "cooked": "<p>By the way: I believe one always needs to embrace the utilized medium to some amount. With handwritten notes for example you can do different things than with a computer. One is easily tempted to copy habits from one medium to another but it is also appropriate to adapt style to what’s given.</p>\n<p>An example are arrows on top of variables for denoting vectors. They are pretty and work well when handwritten but in print, it just works better to use bold, upright letters in most cases (LaTeX for example is notoriously bad with vector arrows, they’re always clashing with parentheses and stuff).</p>\n<p>Omitting zeros is a thing that often needs manual tailoring and as soon as the two axes don’t start exactly at zero, it gets awkward.</p>\n<p>This is a matter of taste of course and I’m not here to teach style − quite the contrary I’m very happy to battle-test Lilaq for possible features − but in this case I don’t necessarily think that the two zeros look bad (if you want my opinion). In <a href=\"https://forum.typst.app/t/how-to-reproduce-a-stress-diagram-image-in-typst/4018\">How to reproduce a stress diagram image in Typst? - Questions - Typst Forum</a>, it btw looks like the 0 is the regular one from the x-axis and just the one from the y-axis is missing.</p>",
      "raw": "\nBy the way: I believe one always needs to embrace the utilized medium to some amount. With handwritten notes for example you can do different things than with a computer. One is easily tempted to copy habits from one medium to another but it is also appropriate to adapt style to what's given. \n\nAn example are arrows on top of variables for denoting vectors. They are pretty and work well when handwritten but in print, it just works better to use bold, upright letters in most cases (LaTeX for example is notoriously bad with vector arrows, they're always clashing with parentheses and stuff). \n\nOmitting zeros is a thing that often needs manual tailoring and as soon as the two axes don't start exactly at zero, it gets awkward. \n\nThis is a matter of taste of course and I'm not here to teach style − quite the contrary I'm very happy to battle-test Lilaq for possible features − but in this case I don't necessarily think that the two zeros look bad (if you want my opinion). In [How to reproduce a stress diagram image in Typst? - Questions - Typst Forum](https://forum.typst.app/t/how-to-reproduce-a-stress-diagram-image-in-typst/4018), it btw looks like the 0 is the regular one from the x-axis and just the one from the y-axis is missing.",
      "reply_to_post_number": 6,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 19,
      "score": 23.8,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 9
    },
    {
      "id": 12283,
      "post_number": 8,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-05-11T18:17:00.707Z",
      "updated_at": "2025-05-11T18:17:00.707Z",
      "cooked": "<p>Yes, but with folding magic.</p>",
      "raw": "Yes, but with folding magic.",
      "reply_to_post_number": 6,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 18,
      "score": 8.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 12284,
      "post_number": 9,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-05-11T18:17:44.948Z",
      "updated_at": "2025-05-11T18:17:44.948Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"Mc-Zen\" data-post=\"7\" data-topic=\"4026\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/mc-zen/48/234_2.png\" class=\"avatar\"> Mc-Zen:</div>\n<blockquote>\n<p>In <a href=\"https://forum.typst.app/t/how-to-reproduce-a-stress-diagram-image-in-typst/4018\">How to reproduce a stress diagram image in Typst? - Questions - Typst Forum </a>, it btw looks like the 0 is the regular one from the x-axis and just the one from the y-axis is missing.</p>\n</blockquote>\n</aside>\n<p>There is no space for Y axis zero regardless.</p>",
      "raw": "[quote=\"Mc-Zen, post:7, topic:4026\"]\nIn [How to reproduce a stress diagram image in Typst? - Questions - Typst Forum ](https://forum.typst.app/t/how-to-reproduce-a-stress-diagram-image-in-typst/4018), it btw looks like the 0 is the regular one from the x-axis and just the one from the y-axis is missing.\n[/quote]\n\nThere is no space for Y axis zero regardless.",
      "reply_to_post_number": 7,
      "reply_count": 0,
      "quote_count": 1,
      "like_count": 0,
      "reads": 19,
      "score": 3.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 12286,
      "post_number": 10,
      "username": "Mc-Zen",
      "name": "Mc-Zen",
      "created_at": "2025-05-11T18:53:51.557Z",
      "updated_at": "2025-05-11T18:53:51.557Z",
      "cooked": "<p>What do you mean by “folding the axis dictionaries”?</p>",
      "raw": "What do you mean by \"folding the axis dictionaries\"?",
      "reply_to_post_number": 8,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 18,
      "score": 8.6,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 9
    },
    {
      "id": 12288,
      "post_number": 11,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-05-11T19:05:56.326Z",
      "updated_at": "2025-05-11T19:05:56.326Z",
      "cooked": "<p>I have <code>(ticks: range(x-max + 1, step: 80), subticks: 1)</code> and I need to merge it with <code>(filter: ...)</code>. But you can’t do this all in one sweep without some trick.</p>\n<p>I guess the only solution would be to pass axis settings to a function that will add shared zero stuff. But semantically, this doesn’t make sense.</p>",
      "raw": "I have `(ticks: range(x-max + 1, step: 80), subticks: 1)` and I need to merge it with `(filter: ...)`. But you can't do this all in one sweep without some trick.\n\nI guess the only solution would be to pass axis settings to a function that will add shared zero stuff. But semantically, this doesn't make sense.",
      "reply_to_post_number": 10,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 18,
      "score": 8.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 12292,
      "post_number": 12,
      "username": "Mc-Zen",
      "name": "Mc-Zen",
      "created_at": "2025-05-11T19:32:07.583Z",
      "updated_at": "2025-05-11T19:32:07.583Z",
      "cooked": "<p>Ah, so you want to separate the “share the zero” from “display these particular ticks”. How about:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show: lq.set-diagram(\n  xaxis: (filter: (value, _) =&gt; value != 0),\n  yaxis: (filter: (value, _) =&gt; value != 0)\n)\n\n#let shared-zero = {\n  lq.place(0, 0, align: top + right, move(dx: -0.5em, dy: 0.5em)[$0$])\n}\n\n#lq.diagram(\n  ylim: (0, 400),\n  xlim: (0, 640),\n  xaxis: (tick-distance: 80, subticks: 1),\n  yaxis: (tick-distance: 80, subticks: 1),\n  shared-zero,\n)\n</code></pre>\n<p>Different to cetz-plot, the property <code>axis.ticks</code> should only be used as a last resort since this approach does not react to changes in the data − there are many ways to deal with this in other ways like <code>axis.tick-distance</code> or passing something like <code>(density: 80%)</code> to <code>axis.tick-args</code>.</p>\n<p>But I know, the ticking tutorial has not been written yet and so there is no proper guide on these matters currently …</p>",
      "raw": "Ah, so you want to separate the \"share the zero\" from \"display these particular ticks\". How about:\n```typ\n#show: lq.set-diagram(\n  xaxis: (filter: (value, _) => value != 0),\n  yaxis: (filter: (value, _) => value != 0)\n)\n\n#let shared-zero = {\n  lq.place(0, 0, align: top + right, move(dx: -0.5em, dy: 0.5em)[$0$])\n}\n\n#lq.diagram(\n  ylim: (0, 400),\n  xlim: (0, 640),\n  xaxis: (tick-distance: 80, subticks: 1),\n  yaxis: (tick-distance: 80, subticks: 1),\n  shared-zero,\n)\n```\nDifferent to cetz-plot, the property `axis.ticks` should only be used as a last resort since this approach does not react to changes in the data − there are many ways to deal with this in other ways like `axis.tick-distance` or passing something like `(density: 80%)` to `axis.tick-args`. \n\nBut I know, the ticking tutorial has not been written yet and so there is no proper guide on these matters currently ...",
      "reply_to_post_number": 11,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 16,
      "score": 23.2,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 9
    },
    {
      "id": 12297,
      "post_number": 13,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-05-11T19:57:23.597Z",
      "updated_at": "2025-05-11T19:57:23.597Z",
      "cooked": "<p>Oh… set rules… I guess this works. They should fold everything correctly, because I remember how <a class=\"mention\" href=\"/u/pgbiel\">@PgBiel</a> worked on this.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#import \"@preview/lilaq:0.2.0\" as lq\n\n#let omit-zero = (filter: (v, _) =&gt; v != 0)\n#let shared-zero = {\n  lq.place(0, 0, align: top + right, move(dx: -0.5em, dy: 0.5em)[$0$])\n}\n\n#show: lq.set-diagram(yaxis: omit-zero, xaxis: omit-zero)\n\n#lq.diagram(\n  ylim: (0, 400),\n  xlim: (0, 640),\n  yaxis: (tick-distance: 80, subticks: 1),\n  xaxis: (tick-distance: 80, subticks: 1),\n  grid: (stroke: black, stroke-sub: 0.5pt),\n  shared-zero,\n)\n</code></pre>\n<p>This looks… pretty damn good. I just need to get used to this set rules stuff. Some things here, other things there.</p>",
      "raw": "Oh... set rules... I guess this works. They should fold everything correctly, because I remember how @PgBiel worked on this.\n\n```typ\n#import \"@preview/lilaq:0.2.0\" as lq\n\n#let omit-zero = (filter: (v, _) => v != 0)\n#let shared-zero = {\n  lq.place(0, 0, align: top + right, move(dx: -0.5em, dy: 0.5em)[$0$])\n}\n\n#show: lq.set-diagram(yaxis: omit-zero, xaxis: omit-zero)\n\n#lq.diagram(\n  ylim: (0, 400),\n  xlim: (0, 640),\n  yaxis: (tick-distance: 80, subticks: 1),\n  xaxis: (tick-distance: 80, subticks: 1),\n  grid: (stroke: black, stroke-sub: 0.5pt),\n  shared-zero,\n)\n```\n\nThis looks... pretty damn good. I just need to get used to this set rules stuff. Some things here, other things there.",
      "reply_to_post_number": 12,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 17,
      "score": 8.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 12302,
      "post_number": 14,
      "username": "Mc-Zen",
      "name": "Mc-Zen",
      "created_at": "2025-05-11T20:05:14.931Z",
      "updated_at": "2025-05-11T20:05:41.916Z",
      "cooked": "<p>Yep :) you can even configure the grid through a set rule:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show: lq.set-grid(stroke: black, stroke-sub: 0.5pt)\n</code></pre>\n<p>Could be one that’s worth it. I’ve just no idea how to bring the <code>shared-zero</code> in without doing it manually. But still, it’s not too bad now.</p>",
      "raw": "Yep :) you can even configure the grid through a set rule:\n\n```typ\n#show: lq.set-grid(stroke: black, stroke-sub: 0.5pt)\n```\nCould be one that's worth it. I've just no idea how to bring the `shared-zero` in without doing it manually. But still, it's not too bad now.",
      "reply_to_post_number": 13,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 17,
      "score": 8.4,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 9
    },
    {
      "id": 12303,
      "post_number": 15,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-05-11T20:07:45.043Z",
      "updated_at": "2025-05-11T20:07:45.043Z",
      "cooked": "<p>I know, I already used it in one of our other million threads today.</p>",
      "raw": "I know, I already used it in one of our other million threads today.",
      "reply_to_post_number": 14,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 17,
      "score": 18.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    }
  ],
  "scraped_at": "2025-06-10T09:48:02.396203"
}