{
  "topic_metadata": {
    "id": 3156,
    "title": "How can I write chemical equations with oxidation numbers?",
    "slug": "how-can-i-write-chemical-equations-with-oxidation-numbers",
    "posts_count": 4,
    "created_at": "2025-03-09T15:23:37.955Z",
    "last_posted_at": "2025-03-10T14:11:56.865Z",
    "views": 107,
    "like_count": 4,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "janekfleper",
    "tags": [],
    "category_id": 5,
    "participant_count": 4,
    "word_count": 719
  },
  "posts": [
    {
      "id": 9524,
      "post_number": 1,
      "username": "Tobias1",
      "name": "Tobias",
      "created_at": "2025-03-09T15:23:38.081Z",
      "updated_at": "2025-03-09T18:39:58.910Z",
      "cooked": "<p>I’m trying to write a simple chemical equation with oxidation numbers. In latex I managed to get it to work by using the <code>overset</code> function. Although this was not the ideal solution it did get the job done without having to install a package.</p>\n<p>Here is what I typed in latex:</p>\n<pre><code class=\"lang-auto\">$\\overset{\\rm 0}{Zn} + 2\\overset{\\rm I}{Na} \\overset{\\rm -II}{O} \\overset{\\rm I}{H} \\longrightarrow \\overset{\\rm I}{Na_2} \\overset{\\rm II}{Zn} \\overset{\\rm -II}{O_2} + \\overset{\\rm 0}{H_2}$\n</code></pre>\n<p>And here is what I did so far in typst:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">$ \\Zn + 2\\Na \\O \\H --&gt; \\Na_2 \\Zn \\O_2 + \\H_2$\n</code></pre>\n<p>What I hoped to achieve was something like this:<br>\n<img src=\"https://forum.typst.app/uploads/default/original/2X/9/9c17a96739f2e804e4dccb99722e9d370a56ef29.png\" alt=\"image\" data-base62-sha1=\"mgRbbw6NT4AhWh5hvpf4jxlQgvn\" width=\"409\" height=\"73\"></p>\n<p>Does anyone know how to recreate this? I also thought about creating a feature request on GitHub but wanted to consult the community first.</p>",
      "raw": "I'm trying to write a simple chemical equation with oxidation numbers. In latex I managed to get it to work by using the `overset` function. Although this was not the ideal solution it did get the job done without having to install a package.\n\nHere is what I typed in latex:\n```\n$\\overset{\\rm 0}{Zn} + 2\\overset{\\rm I}{Na} \\overset{\\rm -II}{O} \\overset{\\rm I}{H} \\longrightarrow \\overset{\\rm I}{Na_2} \\overset{\\rm II}{Zn} \\overset{\\rm -II}{O_2} + \\overset{\\rm 0}{H_2}$\n```\n\nAnd here is what I did so far in typst:\n\n```typst\n$ \\Zn + 2\\Na \\O \\H --> \\Na_2 \\Zn \\O_2 + \\H_2$\n```\n\nWhat I hoped to achieve was something like this:\n![image|409x73](upload://mgRbbw6NT4AhWh5hvpf4jxlQgvn.png)\n\nDoes anyone know how to recreate this? I also thought about creating a feature request on GitHub but wanted to consult the community first.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 33,
      "score": 236.6,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 1317
    },
    {
      "id": 9527,
      "post_number": 2,
      "username": "janekfleper",
      "name": "Janek Fleper",
      "created_at": "2025-03-09T15:52:47.375Z",
      "updated_at": "2025-03-09T16:31:34.039Z",
      "cooked": "<p>You can use <a href=\"https://typst.app/docs/reference/math/attach\"><code>math.attach()</code></a> to write the oxidation numbers on top of the elements. Two comments to explain the code below:</p>\n<ul>\n<li>Wrapping the base in <code>math.limits()</code> is required to force the attachment to actually be on top. Otherwise the attachments would be formatted like an exponent.</li>\n<li>You can use strings in math mode to get regular (upright) text. As far as I know the chemical elements should be formatted upright?</li>\n</ul>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let ox(base, attachement) = {\n  math.attach(math.limits(base), t: math.upright(attachement))\n}\n\n$ ox(\"Zn\", 0) + 2 ox(\"Na\", I) ox(\"O\", -\"II\") ox(\"H\", I) -&gt; ox(\"Na\"_2, I) ox(\"Zn\", \"II\") ox(\"O\"_2, -\"II\") + ox(\"H\"_2, 0) $\n</code></pre>\n<p>There are also two chemistry packages (that I know of) available in the Typst universe, namely <a href=\"https://typst.app/universe/package/whalogen\">whalogen</a> and <a href=\"https://typst.app/universe/package/typsium\">typsium</a>. The whalogen manual even mentions oxidation states but they are formatted as exponents there. I don’t know if there is an easy way to modify this.</p>\n<p>In any case I would recommend you to check out those packages if you are writing chemical formulas. The features you need might already be implemented there.</p>",
      "raw": "You can use [`math.attach()`](https://typst.app/docs/reference/math/attach) to write the oxidation numbers on top of the elements. Two comments to explain the code below: \n- Wrapping the base in `math.limits()` is required to force the attachment to actually be on top. Otherwise the attachments would be formatted like an exponent.\n- You can use strings in math mode to get regular (upright) text. As far as I know the chemical elements should be formatted upright?\n\n```typ\n#let ox(base, attachement) = {\n  math.attach(math.limits(base), t: math.upright(attachement))\n}\n\n$ ox(\"Zn\", 0) + 2 ox(\"Na\", I) ox(\"O\", -\"II\") ox(\"H\", I) -> ox(\"Na\"_2, I) ox(\"Zn\", \"II\") ox(\"O\"_2, -\"II\") + ox(\"H\"_2, 0) $\n```\n\nThere are also two chemistry packages (that I know of) available in the Typst universe, namely [whalogen](https://typst.app/universe/package/whalogen) and [typsium](https://typst.app/universe/package/typsium). The whalogen manual even mentions oxidation states but they are formatted as exponents there. I don't know if there is an easy way to modify this.\n\nIn any case I would recommend you to check out those packages if you are writing chemical formulas. The features you need might already be implemented there.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 2,
      "reads": 32,
      "score": 41.4,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 69
    },
    {
      "id": 9553,
      "post_number": 3,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2025-03-10T07:35:42.760Z",
      "updated_at": "2025-03-10T07:35:42.760Z",
      "cooked": "<p>As a comment, there is a call for a Typst Chemistry Community <a href=\"https://forum.typst.app/t/typsium-typst-for-chemistry/3067\" class=\"inline-onebox\">Typsium - Typst for chemistry</a>.</p>",
      "raw": "As a comment, there is a call for a Typst Chemistry Community https://forum.typst.app/t/typsium-typst-for-chemistry/3067.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 24,
      "score": 19.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 9572,
      "post_number": 4,
      "username": "Ants_Aare_Alamaa",
      "name": "Ants Aare Alamaa",
      "created_at": "2025-03-10T14:11:56.865Z",
      "updated_at": "2025-03-10T14:11:56.865Z",
      "cooked": "<p>Hey Tobias!<br>\nI’m one of the core maintainers of both the Typsium Organisation and wrote the Oxidation number support for Whalogen.<br>\nAs <a class=\"mention\" href=\"/u/janekfleper\">@janekfleper</a> mentioned the attach method would work just fine, even without needing any packages, but if you’re doing lots of chemistry stuff I’d definitely recommend using<a href=\"https://typst.app/universe/package/whalogen\">Whalogen</a> for now as it’s most stable. I just recently added oxidation number support to it and you can get the newest package from the github (it may take a bit until the newest version is on typst universe, so just get the newest version here: <a href=\"https://github.com/schang412/typst-whalogen\" rel=\"noopener nofollow ugc\">Whalogen Github</a>).</p>\n<p>The main method is <span class=\"hashtag-raw\">#ce</span> (chemical equation)<br>\nIf you wrap your element in vertical bars | and a comma. Anything that’s after the comma but still inside the bars will be placed ontop.</p>\n<pre><code class=\"lang-auto\">#ce(\"H2O\") &lt;-normal H2O with proper formatting\n#ce(\"|H2,+I| |O, -II|\")&lt;- H2 with oxidation state of +I on top of it and O with -II\n</code></pre>\n<p>We understand that this is not perfect syntax and are currently working on a bigger more wholistic approach to writing chemistry in typst. As <a class=\"mention\" href=\"/u/quachpas\">@quachpas</a> mentioned we have a small but great chemistry package developer community working on multiple packages that will work together and are more aware of the meaning of the written symbols. We’ve actually been talking about adding an oxidation number calculator into the rendering package similar to how these online calculators do it: <a href=\"https://www.chemicalaid.com/tools/oxidationnumber.php?hl=en\" rel=\"noopener nofollow ugc\">Oxidation Number Calculator</a><br>\nBut right now there’s bigger fish to fry and we’re not sure if it’s worth the effort right now.<br>\nThe typsium package is currently still work in progress and not as stable as whalogen, but long term we’re planning to make Typsium the main formula rendering package. The Whalogen core maintainer just recently joined us, so things are going really well! If anyone is interested, we are actively working on things and could use any help, wether experienced in chemistry or not!</p>",
      "raw": "Hey Tobias!\nI'm one of the core maintainers of both the Typsium Organisation and wrote the Oxidation number support for Whalogen.\nAs @janekfleper mentioned the attach method would work just fine, even without needing any packages, but if you're doing lots of chemistry stuff I'd definitely recommend using[Whalogen](https://typst.app/universe/package/whalogen) for now as it's most stable. I just recently added oxidation number support to it and you can get the newest package from the github (it may take a bit until the newest version is on typst universe, so just get the newest version here: [Whalogen Github](https://github.com/schang412/typst-whalogen)).\n\nThe main method is #ce (chemical equation)\nIf you wrap your element in vertical bars | and a comma. Anything that's after the comma but still inside the bars will be placed ontop.\n```\n#ce(\"H2O\") <-normal H2O with proper formatting\n#ce(\"|H2,+I| |O, -II|\")<- H2 with oxidation state of +I on top of it and O with -II\n```\n\nWe understand that this is not perfect syntax and are currently working on a bigger more wholistic approach to writing chemistry in typst. As @quachpas mentioned we have a small but great chemistry package developer community working on multiple packages that will work together and are more aware of the meaning of the written symbols. We've actually been talking about adding an oxidation number calculator into the rendering package similar to how these online calculators do it: [Oxidation Number Calculator](https://www.chemicalaid.com/tools/oxidationnumber.php?hl=en)\nBut right now there's bigger fish to fry and we're not sure if it's worth the effort right now.\nThe typsium package is currently still work in progress and not as stable as whalogen, but long term we're planning to make Typsium the main formula rendering package. The Whalogen core maintainer just recently joined us, so things are going really well! If anyone is interested, we are actively working on things and could use any help, wether experienced in chemistry or not!",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 20,
      "score": 19.0,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 1028
    }
  ],
  "scraped_at": "2025-06-10T09:50:34.127986"
}