{
  "topic_metadata": {
    "id": 586,
    "title": "How can I get a footnote on the same page as its reference in a multipage numbered-list enum?",
    "slug": "how-can-i-get-a-footnote-on-the-same-page-as-its-reference-in-a-multipage-numbered-list-enum",
    "posts_count": 4,
    "created_at": "2024-09-22T22:37:57.550Z",
    "last_posted_at": "2024-09-24T21:48:22.705Z",
    "views": 169,
    "like_count": 2,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 4,
    "accepted_answer_username": "laurmaedje",
    "tags": [
      "layout",
      "footnotes"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 203
  },
  "posts": [
    {
      "id": 2292,
      "post_number": 1,
      "username": "adiabatic",
      "name": "",
      "created_at": "2024-09-22T22:37:57.664Z",
      "updated_at": "2024-09-23T07:25:33.033Z",
      "cooked": "<p>Here’s a (mostly) minimal case:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#set page(\n    paper: \"a5\",\n)\n\n10. I like traffic lights,\n    #footnote[not stop signs]\n    but only when they're green.\n\n11. #lorem(500)\n</code></pre>\n<p>This generates a two-page PDF. I’d hoped that the “not stop signs” footnote text would be on the <em>first</em> page (with its item), but it gets pushed to the <em>second</em> page (after the list enum).</p>\n<p>Is there a way to keep the footnote on the same page as its reference even in multipage enums?</p>\n<p>Thanks!</p>",
      "raw": "Here's a (mostly) minimal case:\n\n```typst\n#set page(\n    paper: \"a5\",\n)\n\n10. I like traffic lights,\n    #footnote[not stop signs]\n    but only when they're green.\n\n11. #lorem(500)\n```\n\nThis generates a two-page PDF. I'd hoped that the \"not stop signs\" footnote text would be on the _first_ page (with its item), but it gets pushed to the _second_ page (after the list enum).\n\nIs there a way to keep the footnote on the same page as its reference even in multipage enums?\n\nThanks!",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 34,
      "score": 406.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 437
    },
    {
      "id": 2325,
      "post_number": 2,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2024-09-23T06:18:39.118Z",
      "updated_at": "2024-09-23T06:18:39.118Z",
      "cooked": "<p>Hello,<br>\nI can reproduce this issue on the latest Typst master. This is a known limitation of the layout engine.</p>\n<p>Last I heard about this was from <span class=\"discourse-local-date\" data-date=\"2023-11-19\" data-email-preview=\"2023-11-19T00:00:00Z UTC\">2023-11-19T00:00:00Z</span> at <a href=\"https://github.com/typst/typst/issues/2449\" class=\"inline-onebox\" rel=\"noopener nofollow ugc\">Footnote in block renders at the page where the block ends · Issue #2449 · typst/typst · GitHub</a>.</p>\n<blockquote>\n<p>Unfortunately no [updates on this]. Tackling this will require larger changes to the layout engine, which will only happen in a longer timeframe.</p>\n</blockquote>\n<p>I am not aware if anything has changed yet, but maybe <a class=\"mention\" href=\"/u/laurmaedje\">@laurmaedje</a> can chime in on this question!</p>",
      "raw": "Hello,\nI can reproduce this issue on the latest Typst master. This is a known limitation of the layout engine. \n\nLast I heard about this was from [date=2023-11-19] at https://github.com/typst/typst/issues/2449.\n> Unfortunately no [updates on this]. Tackling this will require larger changes to the layout engine, which will only happen in a longer timeframe.\n\nI am not aware if anything has changed yet, but maybe @laurmaedje can chime in on this question!",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 32,
      "score": 96.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 2497,
      "post_number": 4,
      "username": "laurmaedje",
      "name": "Laurenz Mädje",
      "created_at": "2024-09-24T21:34:05.830Z",
      "updated_at": "2024-09-24T21:34:05.830Z",
      "cooked": "<p>Will be fixed in the next version. The relevant change is here: <a href=\"https://github.com/typst/typst/pull/5017\" class=\"inline-onebox\">New flow layout, with multi-column floats by laurmaedje · Pull Request #5017 · typst/typst · GitHub</a></p>",
      "raw": "Will be fixed in the next version. The relevant change is here: https://github.com/typst/typst/pull/5017",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 2,
      "reads": 27,
      "score": 115.4,
      "accepted_answer": true,
      "trust_level": 4,
      "user_id": 2
    },
    {
      "id": 2498,
      "post_number": 5,
      "username": "adiabatic",
      "name": "",
      "created_at": "2024-09-24T21:48:22.705Z",
      "updated_at": "2024-09-24T21:48:22.705Z",
      "cooked": "<p>Sounds like the answer is “just wait a bit and it’ll work without me changing anything”. Thanks!</p>",
      "raw": "Sounds like the answer is \"just wait a bit and it'll work without me changing anything\". Thanks!",
      "reply_to_post_number": 4,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 26,
      "score": 5.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 437
    }
  ],
  "scraped_at": "2025-06-10T09:58:25.444694"
}