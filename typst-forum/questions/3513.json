{
  "topic_metadata": {
    "id": 3513,
    "title": "Reproduce LaTeX's `\\vec` for \"i\" and \"j\"",
    "slug": "reproduce-latexs-vec-for-i-and-j",
    "posts_count": 15,
    "created_at": "2025-04-04T09:46:35.089Z",
    "last_posted_at": "2025-04-04T14:41:47.423Z",
    "views": 134,
    "like_count": 7,
    "reply_count": 9,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 3,
    "accepted_answer_username": "bluss",
    "tags": [
      "math",
      "latex-migration"
    ],
    "category_id": 5,
    "participant_count": 4,
    "word_count": 647
  },
  "posts": [
    {
      "id": 10609,
      "post_number": 1,
      "username": "geonpi",
      "name": "",
      "created_at": "2025-04-04T09:46:35.228Z",
      "updated_at": "2025-04-18T14:24:10.345Z",
      "cooked": "<p>I’m aware of <code>accent()</code> and <code>arrow()</code> from <a href=\"https://forum.typst.app/t/what-is-typsts-version-of-latexs-vec/1324\">this thread</a>. However, when used in <code>$accent(i)$</code> or <code>$accent(j)$</code>, the arrow replaces the dot instead of being over it.</p>\n<p>A workaround that I found is to wrap with a box (<code>$arrow(#box($i$))$</code>), but I cannot systematically apply this method to smaller characters like “o”, because then the arrow is placed too high (as if the “o” were an “l” for example).</p>\n<p>What other solutions do I have?</p>",
      "raw": "I'm aware of `accent()` and `arrow()` from [this thread](https://forum.typst.app/t/what-is-typsts-version-of-latexs-vec/1324). However, when used in `$accent(i)$` or `$accent(j)$`, the arrow replaces the dot instead of being over it. \n\nA workaround that I found is to wrap with a box (`$arrow(#box($i$))$`), but I cannot systematically apply this method to smaller characters like \"o\", because then the arrow is placed too high (as if the \"o\" were an \"l\" for example).\n\nWhat other solutions do I have?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 55,
      "score": 56.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1415
    },
    {
      "id": 10632,
      "post_number": 2,
      "username": "Adrian_Weitkemper",
      "name": "Adron",
      "created_at": "2025-04-04T10:35:11.528Z",
      "updated_at": "2025-04-04T10:35:56.694Z",
      "cooked": "<p>Hi there! Welcome to the Forum.<br>\nI created a custom function that should do what you are looking for:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#let my_vec = (letter) =&gt; {\n  if (($j$, $i$).contains(letter)) {\n    $arrow(#box(letter))$\n  }\n  else {\n    $arrow(letter)$\n  }\n}\n#my_vec($j$)\n#my_vec($i$)\n#my_vec($o$)\n</code></pre>\n<p>By the way, I tried to use</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#show math.arrow: it =&gt; [Demonstration of it not working]\n</code></pre>\n<p>but it seems like it ignores the show rule, so I think it might not work with this math function or am I doing something wrong? <img src=\"https://forum.typst.app/images/emoji/apple/sweat_smile.png?v=12\" title=\":sweat_smile:\" class=\"emoji\" alt=\":sweat_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>",
      "raw": "Hi there! Welcome to the Forum. \nI created a custom function that should do what you are looking for: \n```typst\n#let my_vec = (letter) => {\n  if (($j$, $i$).contains(letter)) {\n    $arrow(#box(letter))$\n  }\n  else {\n    $arrow(letter)$\n  }\n}\n#my_vec($j$)\n#my_vec($i$)\n#my_vec($o$)\n```\nBy the way, I tried to use \n```typst\n#show math.arrow: it => [Demonstration of it not working]\n```\nbut it seems like it ignores the show rule, so I think it might not work with this math function or am I doing something wrong? :sweat_smile:",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 54,
      "score": 20.8,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 277
    },
    {
      "id": 10633,
      "post_number": 3,
      "username": "bluss",
      "name": "Ulrik",
      "created_at": "2025-04-04T10:37:15.399Z",
      "updated_at": "2025-04-04T10:37:15.399Z",
      "cooked": "<p>There’s a new parameter for math.accent, will be in next typst version I guess, that controls this. <a href=\"https://github.com/typst/typst/pull/5939\" class=\"inline-onebox\" rel=\"noopener nofollow ugc\">Add dotless parameter to `math.accent` by mkorje · Pull Request #5939 · typst/typst · GitHub</a></p>",
      "raw": "There's a new parameter for math.accent, will be in next typst version I guess, that controls this. https://github.com/typst/typst/pull/5939",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 2,
      "reads": 49,
      "score": 44.8,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 1272
    },
    {
      "id": 10634,
      "post_number": 4,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-04T10:39:03.225Z",
      "updated_at": "2025-04-04T10:39:03.225Z",
      "cooked": "<p>Looking at the output of this</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#import \"@preview/mitex:0.2.5\": *\n#import \"@preview/m-jaxon:0.1.1\": *\n\n#text(16pt, render(\"\\vec{j} j \\vec{a} a\", inline: true))\n\n#mi(\"\\vec{j} j \\vec{a} a\")\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/9/92a5a6e101e5bfe9e1b958dec19d9219080a0a87.png\" alt=\"image\" data-base62-sha1=\"kViCki5gtSXMSplXSM2gAm2dqlh\" width=\"82\" height=\"119\"></p>\n<p>I guess that it’s just the current limitation of Typst, if there is no open issue about it at <a href=\"https://github.com/typst/typst\" class=\"inline-onebox\" rel=\"noopener nofollow ugc\">GitHub - typst/typst: A new markup-based typesetting system that is powerful and easy to learn.</a>, then you can open one.</p>",
      "raw": "Looking at the output of this\n\n```typ\n#import \"@preview/mitex:0.2.5\": *\n#import \"@preview/m-jaxon:0.1.1\": *\n\n#text(16pt, render(\"\\vec{j} j \\vec{a} a\", inline: true))\n\n#mi(\"\\vec{j} j \\vec{a} a\")\n```\n\n![image|165x238, 50%](upload://kViCki5gtSXMSplXSM2gAm2dqlh.png)\n\nI guess that it's just the current limitation of Typst, if there is no open issue about it at https://github.com/typst/typst, then you can open one.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 50,
      "score": 10.0,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 10635,
      "post_number": 5,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-04T10:45:22.012Z",
      "updated_at": "2025-04-04T10:46:07.288Z",
      "cooked": "<p>Indeed.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">$arrow(j) j arrow(a) a$\n\n#set math.accent(dotless: false)\n\n$arrow(j) j arrow(a) a$\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/a/aaac4fe165a9daa533d74509daf03725c5e75686.png\" alt=\"image\" data-base62-sha1=\"olQlv7dKUS5KS02PqaT7zXDlXJc\" width=\"67\" height=\"94\"></p>",
      "raw": "Indeed.\n\n```typ\n$arrow(j) j arrow(a) a$\n\n#set math.accent(dotless: false)\n\n$arrow(j) j arrow(a) a$\n```\n\n![image|134x188, 50%](upload://olQlv7dKUS5KS02PqaT7zXDlXJc.png)",
      "reply_to_post_number": 3,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 2,
      "reads": 50,
      "score": 45.0,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 10636,
      "post_number": 6,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-04T10:55:27.740Z",
      "updated_at": "2025-04-04T10:55:27.740Z",
      "cooked": "<p>You need this:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show math.accent: it =&gt; {\n  if it.accent != \"\\u{20d7}\" { return it }\n  repr(it)\n}\n</code></pre>\n<p>See <a href=\"https://typst.app/docs/reference/math/accent/#example\" class=\"inline-onebox\">Accent Function – Typst Documentation</a> and <a href=\"https://symbl.cc/en/20D7/\" rel=\"noopener nofollow ugc\">this</a>.</p>",
      "raw": "You need this:\n\n```typ\n#show math.accent: it => {\n  if it.accent != \"\\u{20d7}\" { return it }\n  repr(it)\n}\n```\n\nSee https://typst.app/docs/reference/math/accent/#example and [this](https://symbl.cc/en/20D7/).",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 49,
      "score": 34.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 10637,
      "post_number": 7,
      "username": "Adrian_Weitkemper",
      "name": "Adron",
      "created_at": "2025-04-04T10:57:35.333Z",
      "updated_at": "2025-04-04T10:57:35.333Z",
      "cooked": "<p>I didn’t know/remember you have to return the output in math mode. Thanks a lot for the correction/advice <img src=\"https://forum.typst.app/images/emoji/apple/+1.png?v=12\" title=\":+1:\" class=\"emoji\" alt=\":+1:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>",
      "raw": "I didn't know/remember you have to return the output in math mode. Thanks a lot for the correction/advice :+1:",
      "reply_to_post_number": 6,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 48,
      "score": 14.6,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 277
    },
    {
      "id": 10639,
      "post_number": 8,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-04T11:12:24.836Z",
      "updated_at": "2025-04-04T11:12:24.836Z",
      "cooked": "<p>You don’t have to return, you were using the wrong show rule selector.</p>",
      "raw": "You don't have to return, you were using the wrong show rule selector.",
      "reply_to_post_number": 7,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 45,
      "score": 29.0,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 10640,
      "post_number": 9,
      "username": "Adrian_Weitkemper",
      "name": "Adron",
      "created_at": "2025-04-04T11:18:39.808Z",
      "updated_at": "2025-04-04T11:18:39.808Z",
      "cooked": "<p>Oh, OK. It didn’t show an error message and <a href=\"https://typst.app/docs/reference/math/accent/\">the documentation</a> says</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">$arrow(a) = accent(a, arrow)$\n</code></pre>\n<p>in the example, so I thought arrow should also be a math function. So are just the ones listed in the overview on the left of there documentation under “math” usable for this?</p>",
      "raw": "Oh, OK. It didn't show an error message and [the documentation](https://typst.app/docs/reference/math/accent/) says\n```typst\n$arrow(a) = accent(a, arrow)$\n```\nin the example, so I thought arrow should also be a math function. So are just the ones listed in the overview on the left of there documentation under \"math\" usable for this?",
      "reply_to_post_number": 8,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 43,
      "score": 8.6,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 277
    },
    {
      "id": 10642,
      "post_number": 10,
      "username": "bluss",
      "name": "Ulrik",
      "created_at": "2025-04-04T11:43:33.200Z",
      "updated_at": "2025-04-04T11:44:47.978Z",
      "cooked": "<p>It’s because accent is the element function. I guess we can assume <code>arrow</code> is not since it does not have an entry in the docs.</p>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/e/e76f8f26c1a22c9e6f12c8cdcd6a8795adec31a2.png\" alt=\"bild\" data-base62-sha1=\"x1nje7BaUodmOMCV7OFS6NOhldM\" width=\"419\" height=\"126\"></p>\n<p>Are there non-element functions in the math docs? Yes, <code>math.sans</code> is an example.</p>",
      "raw": "It's because accent is the element function. I guess we can assume `arrow` is not since it does not have an entry in the docs.\n\n![bild|419x126](upload://x1nje7BaUodmOMCV7OFS6NOhldM.png)\n\n\nAre there non-element functions in the math docs? Yes, `math.sans` is an example.",
      "reply_to_post_number": null,
      "reply_count": 2,
      "quote_count": 0,
      "like_count": 1,
      "reads": 41,
      "score": 33.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 1272
    },
    {
      "id": 10643,
      "post_number": 11,
      "username": "geonpi",
      "name": "",
      "created_at": "2025-04-04T12:14:31.633Z",
      "updated_at": "2025-04-04T12:14:31.633Z",
      "cooked": "<p>Thanks for your replies! I’ll wait for the next release then <img src=\"https://forum.typst.app/images/emoji/apple/slight_smile.png?v=12\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>",
      "raw": "Thanks for your replies! I'll wait for the next release then :slight_smile:",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 39,
      "score": 12.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1415
    },
    {
      "id": 10645,
      "post_number": 12,
      "username": "Adrian_Weitkemper",
      "name": "Adron",
      "created_at": "2025-04-04T12:28:42.742Z",
      "updated_at": "2025-04-04T12:28:42.742Z",
      "cooked": "<p>Thank you for the clarification. Do you think I should open an issue? I think the fact that it doesn’t throw an error and does nothing is a bit irritating. It should be possible to check, if the entered function is an element function, right?</p>",
      "raw": "Thank you for the clarification. Do you think I should open an issue? I think the fact that it doesn't throw an error and does nothing is a bit irritating. It should be possible to check, if the entered function is an element function, right?",
      "reply_to_post_number": 10,
      "reply_count": 2,
      "quote_count": 0,
      "like_count": 0,
      "reads": 39,
      "score": 92.8,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 277
    },
    {
      "id": 10647,
      "post_number": 13,
      "username": "bluss",
      "name": "Ulrik",
      "created_at": "2025-04-04T12:41:35.724Z",
      "updated_at": "2025-04-04T12:41:35.724Z",
      "cooked": "<p>I think it should have an issue if it doesn’t already have one. I can see in the typst app that the autocomplete knows that they are different kinds of entities</p>",
      "raw": "I think it should have an issue if it doesn't already have one. I can see in the typst app that the autocomplete knows that they are different kinds of entities",
      "reply_to_post_number": 12,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 37,
      "score": 22.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 1272
    },
    {
      "id": 10651,
      "post_number": 14,
      "username": "Adrian_Weitkemper",
      "name": "Adron",
      "created_at": "2025-04-04T13:39:22.564Z",
      "updated_at": "2025-04-04T13:39:22.564Z",
      "cooked": "<p>I opened an issue: <a href=\"https://github.com/typst/typst/issues/6141\" class=\"inline-onebox\" rel=\"noopener nofollow ugc\">add warning/error message for show-rules with non-element function · Issue #6141 · typst/typst · GitHub</a></p>",
      "raw": "I opened an issue: https://github.com/typst/typst/issues/6141",
      "reply_to_post_number": 13,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 36,
      "score": 7.2,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 277
    },
    {
      "id": 10654,
      "post_number": 15,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-04T14:41:47.423Z",
      "updated_at": "2025-04-04T14:44:32.449Z",
      "cooked": "<p>I’ve left a comment <a href=\"https://github.com/typst/typst/issues/6141#issuecomment-2778893934\" class=\"inline-onebox\" rel=\"noopener nofollow ugc\">add warning/error message for show-rules with non-element function · Issue #6141 · typst/typst · GitHub</a>. In short, it’s a symbol with some funky function behavior, hence why show rule doesn’t throw an error.</p>\n<aside class=\"quote no-group\" data-username=\"bluss\" data-post=\"10\" data-topic=\"3513\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/b/441A5E/48.png\" class=\"avatar\"> bluss:</div>\n<blockquote>\n<p>Are there non-element functions in the math docs? Yes, <code>math.sans</code> is an example.</p>\n</blockquote>\n</aside>\n<p>This is actually a function, so the show rule with it does throw the error.</p>",
      "raw": "I've left a comment https://github.com/typst/typst/issues/6141#issuecomment-2778893934. In short, it's a symbol with some funky function behavior, hence why show rule doesn't throw an error.\n\n[quote=\"bluss, post:10, topic:3513\"]\nAre there non-element functions in the math docs? Yes, `math.sans` is an example.\n[/quote]\n\nThis is actually a function, so the show rule with it does throw the error.",
      "reply_to_post_number": 12,
      "reply_count": 0,
      "quote_count": 1,
      "like_count": 0,
      "reads": 35,
      "score": 7.0,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    }
  ],
  "scraped_at": "2025-06-10T09:49:41.081075"
}