{
  "topic_metadata": {
    "id": 757,
    "title": "How can a table be split horizontally?",
    "slug": "how-can-a-table-be-split-horizontally",
    "posts_count": 7,
    "created_at": "2024-09-28T07:53:10.315Z",
    "last_posted_at": "2024-09-28T15:13:09.245Z",
    "views": 500,
    "like_count": 6,
    "reply_count": 4,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 6,
    "accepted_answer_username": "SillyFreak",
    "tags": [
      "layout",
      "tables"
    ],
    "category_id": 5,
    "participant_count": 4,
    "word_count": 887
  },
  "posts": [
    {
      "id": 2832,
      "post_number": 1,
      "username": "anormalperson8",
      "name": "",
      "created_at": "2024-09-28T07:53:10.413Z",
      "updated_at": "2024-09-28T12:37:33.266Z",
      "cooked": "<p>I have a table with 2 columns but a lot of rows. This leads it to go over to the next page.</p>\n<p>Is there a way to split the table horizontally into 4 columns (preferably with header repetition)?</p>\n<p>An example of what I’m thinking of:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#align(center,\n  table(\n    align: center + horizon,\n    columns: (10%, 15%),\n    table.header(\"Left\", \"Right\"),\n    [l1], [r1],\n    [l2], [r2],\n    // And so on...\n    [l50], [r50]\n  )\n)\n</code></pre>\n<p>Hopefully achieving the same effect, automatically, as below:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#align(center,\n  table(\n    align: center + horizon,\n    columns: (10%, 15%, 10%, 15%),\n    table.header(\"Left\", \"Right\", \"Left\", \"Right\"),\n    [l1], [r1], [l26], [r26],\n    [l2], [r2], [l27], [r27],\n    // And so on...\n    [l25], [r25], [l50], [r50]\n  )\n)\n</code></pre>\n<p>Thanks!</p>",
      "raw": "I have a table with 2 columns but a lot of rows. This leads it to go over to the next page. \n\nIs there a way to split the table horizontally into 4 columns (preferably with header repetition)?\n\nAn example of what I'm thinking of:\n```typ\n#align(center,\n  table(\n    align: center + horizon,\n    columns: (10%, 15%),\n    table.header(\"Left\", \"Right\"),\n    [l1], [r1],\n    [l2], [r2],\n    // And so on...\n    [l50], [r50]\n  )\n)\n```\nHopefully achieving the same effect, automatically, as below:\n```typ\n#align(center,\n  table(\n    align: center + horizon,\n    columns: (10%, 15%, 10%, 15%),\n    table.header(\"Left\", \"Right\", \"Left\", \"Right\"),\n    [l1], [r1], [l26], [r26],\n    [l2], [r2], [l27], [r27],\n    // And so on...\n    [l25], [r25], [l50], [r50]\n  )\n)\n```\nThanks!",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 47,
      "score": 2214.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 476
    },
    {
      "id": 2837,
      "post_number": 2,
      "username": "Y.D.X",
      "name": "Y.D.X.",
      "created_at": "2024-09-28T08:38:04.498Z",
      "updated_at": "2024-09-28T08:38:04.498Z",
      "cooked": "<p>Wrapping a <code>columns(2)</code> might helps.</p><aside class=\"onebox allowlistedgeneric\" data-onebox-src=\"https://typst.app/docs/reference/layout/columns/\">\n  <header class=\"source\">\n      <img src=\"https://forum.typst.app/uploads/default/original/1X/098187a593d51c4db99324614e2baeeb1bb355cc.png\" class=\"site-icon\" data-dominant-color=\"3CA8B6\" width=\"32\" height=\"32\">\n\n      <a href=\"https://typst.app/docs/reference/layout/columns/\" target=\"_blank\" rel=\"noopener\">Typst</a>\n  </header>\n\n  <article class=\"onebox-body\">\n    <div class=\"aspect-image\" style=\"--aspect-ratio:690/361;\"><img src=\"https://forum.typst.app/uploads/default/optimized/1X/db1c18ed802fe6841bee62606931f352da10ed09_2_690x362.png\" class=\"thumbnail\" data-dominant-color=\"7CC2C5\" width=\"690\" height=\"362\"></div>\n\n<h3><a href=\"https://typst.app/docs/reference/layout/columns/\" target=\"_blank\" rel=\"noopener\">Columns Function – Typst Documentation</a></h3>\n\n  <p>Documentation for the `columns` function.</p>\n\n\n  </article>\n\n  <div class=\"onebox-metadata\">\n    \n    \n  </div>\n\n  <div style=\"clear: both\"></div>\n</aside>\n\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/1X/74956fa5ba6149bef8fe8faa8e8d507b8b2524ea.png\" data-download-href=\"https://forum.typst.app/uploads/default/74956fa5ba6149bef8fe8faa8e8d507b8b2524ea\" title=\"\"><img src=\"https://forum.typst.app/uploads/default/optimized/1X/74956fa5ba6149bef8fe8faa8e8d507b8b2524ea_2_690x328.png\" alt=\"\" data-base62-sha1=\"gDlydQdqPgbsENzdEx0uwqNnAlI\" width=\"690\" height=\"328\" role=\"presentation\" srcset=\"https://forum.typst.app/uploads/default/optimized/1X/74956fa5ba6149bef8fe8faa8e8d507b8b2524ea_2_690x328.png, https://forum.typst.app/uploads/default/optimized/1X/74956fa5ba6149bef8fe8faa8e8d507b8b2524ea_2_1035x492.png 1.5x, https://forum.typst.app/uploads/default/optimized/1X/74956fa5ba6149bef8fe8faa8e8d507b8b2524ea_2_1380x656.png 2x\" data-dominant-color=\"F0F0F2\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\"></span><span class=\"informations\">1551×738 132 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#set page(height: 10em, width: 20em)\n\n\n#columns(2, align(center,\n  table(\n    align: center + horizon,\n    columns: (2fr, 3fr),\n    table.header(\"Left\", \"Right\", repeat: true),\n    [l1], [r1],\n    [l2], [r2],\n    [l2], [r2],\n    [l2], [r2],\n    [l2], [r2],\n    [l2], [r2],\n    [l2], [r2],\n    [l2], [r2],\n    [l2], [r2],\n    [l2], [r2],\n    [l2], [r2],\n    [l2], [r2],\n    [l50], [r50]\n  )\n))\n</code></pre>",
      "raw": "Wrapping a `columns(2)` might helps.\nhttps://typst.app/docs/reference/layout/columns/\n\n![|690x328](upload://gDlydQdqPgbsENzdEx0uwqNnAlI.png)\n\n```typst\n#set page(height: 10em, width: 20em)\n\n\n#columns(2, align(center,\n  table(\n    align: center + horizon,\n    columns: (2fr, 3fr),\n    table.header(\"Left\", \"Right\", repeat: true),\n    [l1], [r1],\n    [l2], [r2],\n    [l2], [r2],\n    [l2], [r2],\n    [l2], [r2],\n    [l2], [r2],\n    [l2], [r2],\n    [l2], [r2],\n    [l2], [r2],\n    [l2], [r2],\n    [l2], [r2],\n    [l2], [r2],\n    [l50], [r50]\n  )\n))\n```",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 45,
      "score": 84.0,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 292
    },
    {
      "id": 2838,
      "post_number": 3,
      "username": "anormalperson8",
      "name": "",
      "created_at": "2024-09-28T09:49:27.161Z",
      "updated_at": "2024-09-28T09:49:41.628Z",
      "cooked": "<p>Thank you! This works to a degree, but not in the way I want it to. &gt;.&lt; When I’m including the table, I want it to be evenly split (25 rows each column if there are 50). When I set <code>gutter</code> as 0, it’s also impossible to center the whole table at the center unless its width is 100%.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#columns(\n  2,\n  gutter: 0pt,\n  align(\n    center,\n    table(\n      align: center + horizon,\n      columns: (25%, 25%),\n      table.header(\"Left\", \"Right\"),\n      [l1], [r1],\n      [l2], [r2],\n      [l3], [r3],\n      [l4], [r4],\n      [l5], [r5],\n      [l6], [r6],\n      [l7], [r7],\n      [l8], [r8],\n      [l9], [r9],\n      [l10], [r10],\n      [l11], [r11],\n      [l12], [r12],\n      [l13], [r13],\n      [l14], [r14],\n      [l15], [r15],\n      [l16], [r16],\n      [l17], [r17],\n      [l18], [r18],\n      [l19], [r19],\n      [l20], [r20],\n      [l21], [r21],\n      [l22], [r22],\n      [l23], [r23],\n      [l24], [r24],\n      [l25], [r25],\n      [l26], [r26],\n      [l27], [r27],\n      [l28], [r28],\n      [l29], [r29],\n      [l30], [r30],\n      [l31], [r31],\n      [l32], [r32],\n      [l33], [r33],\n      [l34], [r34],\n      [l35], [r35],\n      [l36], [r36],\n      [l37], [r37],\n      [l38], [r38],\n      [l39], [r39],\n      [l40], [r40]\n    )\n  )\n)\n</code></pre>\n<p>gives<br>\n<div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/1X/3aa59ea8326dc407d477034d7e39133e2d4c4d9d.png\" data-download-href=\"https://forum.typst.app/uploads/default/3aa59ea8326dc407d477034d7e39133e2d4c4d9d\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/1X/3aa59ea8326dc407d477034d7e39133e2d4c4d9d_2_284x500.png\" alt=\"image\" data-base62-sha1=\"8mOwYTVIDKy3nhudi3OX7PU8dCl\" width=\"284\" height=\"500\" srcset=\"https://forum.typst.app/uploads/default/optimized/1X/3aa59ea8326dc407d477034d7e39133e2d4c4d9d_2_284x500.png, https://forum.typst.app/uploads/default/optimized/1X/3aa59ea8326dc407d477034d7e39133e2d4c4d9d_2_426x750.png 1.5x, https://forum.typst.app/uploads/default/optimized/1X/3aa59ea8326dc407d477034d7e39133e2d4c4d9d_2_568x1000.png 2x\" data-dominant-color=\"F7F7F7\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">878×1542 82.3 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>Once again, thank you for your help!</p>",
      "raw": "Thank you! This works to a degree, but not in the way I want it to. >.< When I'm including the table, I want it to be evenly split (25 rows each column if there are 50). When I set `gutter` as 0, it's also impossible to center the whole table at the center unless its width is 100%.\n\n```typ\n#columns(\n  2,\n  gutter: 0pt,\n  align(\n    center,\n    table(\n      align: center + horizon,\n      columns: (25%, 25%),\n      table.header(\"Left\", \"Right\"),\n      [l1], [r1],\n      [l2], [r2],\n      [l3], [r3],\n      [l4], [r4],\n      [l5], [r5],\n      [l6], [r6],\n      [l7], [r7],\n      [l8], [r8],\n      [l9], [r9],\n      [l10], [r10],\n      [l11], [r11],\n      [l12], [r12],\n      [l13], [r13],\n      [l14], [r14],\n      [l15], [r15],\n      [l16], [r16],\n      [l17], [r17],\n      [l18], [r18],\n      [l19], [r19],\n      [l20], [r20],\n      [l21], [r21],\n      [l22], [r22],\n      [l23], [r23],\n      [l24], [r24],\n      [l25], [r25],\n      [l26], [r26],\n      [l27], [r27],\n      [l28], [r28],\n      [l29], [r29],\n      [l30], [r30],\n      [l31], [r31],\n      [l32], [r32],\n      [l33], [r33],\n      [l34], [r34],\n      [l35], [r35],\n      [l36], [r36],\n      [l37], [r37],\n      [l38], [r38],\n      [l39], [r39],\n      [l40], [r40]\n    )\n  )\n)\n```\ngives\n![image|284x500](upload://8mOwYTVIDKy3nhudi3OX7PU8dCl.png)\n\nOnce again, thank you for your help!",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 39,
      "score": 37.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 476
    },
    {
      "id": 2840,
      "post_number": 4,
      "username": "Eric",
      "name": "Eric Biedert",
      "created_at": "2024-09-28T10:06:50.908Z",
      "updated_at": "2024-09-28T10:06:50.908Z",
      "cooked": "<p>There is no automatic way to balance columns currently, but you can force the table to a specific height by wrapping the whole <code>columns</code> call into a block with a fixed height (and width of 100%). You may need to play around with the value to achieve the result you are looking for.</p>",
      "raw": "There is no automatic way to balance columns currently, but you can force the table to a specific height by wrapping the whole `columns` call into a block with a fixed height (and width of 100%). You may need to play around with the value to achieve the result you are looking for.",
      "reply_to_post_number": 3,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 36,
      "score": 32.2,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 88
    },
    {
      "id": 2841,
      "post_number": 5,
      "username": "anormalperson8",
      "name": "",
      "created_at": "2024-09-28T10:56:51.598Z",
      "updated_at": "2024-09-28T10:56:59.343Z",
      "cooked": "<p>I see… thank you. :D</p>\n<p>I’ll try to do that and see if that’s faster or if copy-pasting is.</p>",
      "raw": "I see.. thank you. :D\n\nI'll try to do that and see if that's faster or if copy-pasting is.",
      "reply_to_post_number": 4,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 40,
      "score": 13.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 476
    },
    {
      "id": 2853,
      "post_number": 6,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2024-09-28T12:16:49.308Z",
      "updated_at": "2024-09-28T12:16:49.308Z",
      "cooked": "<p>To get back to your original approach, I cooked up something:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let repeated-table(num-repeats: 2, ..args) = {\n  let options = args.named()\n  let data = args.pos()\n\n  // STEP 1: transform table options to apply to a multiple of the original columns\n\n  let columns = options.at(\"columns\", default: ())\n  let (column-count, columns) = if type(columns) == int {\n    // for numbers, that's number of columns\n    (columns, columns * num-repeats)\n  } else if type(columns) == array and columns != () {\n    // for arrays with elements, the number of elements is number of columns\n    (columns.len(), columns * num-repeats)\n  } else {\n    // lengths, auto or an empty array mean there's one column\n    (1, (auto,) * num-repeats)\n  }\n  options.columns = columns\n\n  // TODO transform other per-column fields, such as align\n\n  // STEP 2: separate header and footer from the table body, with repeated cells\n\n  let header = if data.len() &gt; 0 and type(data.first()) == content and data.first().func() == table.header {\n    let (children, ..args) = data.remove(0).fields()\n    table.header(..args, ..children * num-repeats)\n  }\n\n  let footer = if data.len() &gt; 0 and type(data.last()) == content and data.last().func() == table.footer {\n    let (children, ..args) = data.pop().fields()\n    table.footer(..args, ..children * num-repeats)\n  }\n\n  // STEP 3: rearrange the data, so that after a number of rows the next repetition begins\n\n  // split into rows\n  let rows = data.chunks(column-count)\n  // split into repeats of rows\n  let num-rows = calc.ceil(rows.len() / num-repeats)\n  let repeats = rows.chunks(num-rows)\n  // pad the last repeat so that all have the same number of rows\n  let empty-row = (none,) * column-count\n  repeats.last() += (empty-row,) * (num-rows - repeats.last().len())\n  // join repeats into combined rows\n  let rows = array.zip(..repeats)\n  // combine into flat data\n  data = rows.flatten()\n\n  // STEP 4: re-add header and footer to the data\n\n  if header != none {\n    data.insert(0, header)\n  }\n  if footer != none {\n    data.push(footer)\n  }\n\n  // STEP 5: produce table\n  \n  table(..options, ..data)\n}\n\n#align(center,\n  repeated-table(\n    num-repeats: 3,\n    align: center + horizon,\n    columns: (10%, 15%),\n    table.header(\"Left\", \"Right\", repeat: true),\n    ..array.range(1, 29).map(n =&gt; ([l#n], [r#n])).flatten(),\n    table.footer(\"Left\", \"Right\"),\n  )\n)\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/1X/ef604db6a63b6e61f3a60a96a086242c49b3b1ee.jpeg\" data-download-href=\"https://forum.typst.app/uploads/default/ef604db6a63b6e61f3a60a96a086242c49b3b1ee\" title=\"repeated-table\"><img src=\"https://forum.typst.app/uploads/default/optimized/1X/ef604db6a63b6e61f3a60a96a086242c49b3b1ee_2_689x259.jpeg\" alt=\"repeated-table\" data-base62-sha1=\"y9CrA7xduYys5ALxZLolsWfO5pI\" width=\"689\" height=\"259\" srcset=\"https://forum.typst.app/uploads/default/optimized/1X/ef604db6a63b6e61f3a60a96a086242c49b3b1ee_2_689x259.jpeg, https://forum.typst.app/uploads/default/optimized/1X/ef604db6a63b6e61f3a60a96a086242c49b3b1ee_2_1033x388.jpeg 1.5x, https://forum.typst.app/uploads/default/optimized/1X/ef604db6a63b6e61f3a60a96a086242c49b3b1ee_2_1378x518.jpeg 2x\" data-dominant-color=\"EDEDED\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">repeated-table</span><span class=\"informations\">2480×933 138 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>It’s inferior to eventually having balanced columns, but it works right now ;) there is a big <code>TODO</code> in the code; if you use per-column <code>align</code>, you still need to fix that, but I think the principle is clear from how <code>columns</code> is transformed for this to work, and the hard part of transforming the data is done.</p>\n<p>For nicer styling, I would recommend looking at <a href=\"https://typst.app/docs/guides/table-guide/#double-stroke\">double strokes</a> in the table guide; by using the correct column gutters, you can separate the “repeats” of the table and achieve nice double strokes at the same time.</p>",
      "raw": "To get back to your original approach, I cooked up something:\n\n```typ\n#let repeated-table(num-repeats: 2, ..args) = {\n  let options = args.named()\n  let data = args.pos()\n\n  // STEP 1: transform table options to apply to a multiple of the original columns\n\n  let columns = options.at(\"columns\", default: ())\n  let (column-count, columns) = if type(columns) == int {\n    // for numbers, that's number of columns\n    (columns, columns * num-repeats)\n  } else if type(columns) == array and columns != () {\n    // for arrays with elements, the number of elements is number of columns\n    (columns.len(), columns * num-repeats)\n  } else {\n    // lengths, auto or an empty array mean there's one column\n    (1, (auto,) * num-repeats)\n  }\n  options.columns = columns\n\n  // TODO transform other per-column fields, such as align\n\n  // STEP 2: separate header and footer from the table body, with repeated cells\n\n  let header = if data.len() > 0 and type(data.first()) == content and data.first().func() == table.header {\n    let (children, ..args) = data.remove(0).fields()\n    table.header(..args, ..children * num-repeats)\n  }\n\n  let footer = if data.len() > 0 and type(data.last()) == content and data.last().func() == table.footer {\n    let (children, ..args) = data.pop().fields()\n    table.footer(..args, ..children * num-repeats)\n  }\n\n  // STEP 3: rearrange the data, so that after a number of rows the next repetition begins\n\n  // split into rows\n  let rows = data.chunks(column-count)\n  // split into repeats of rows\n  let num-rows = calc.ceil(rows.len() / num-repeats)\n  let repeats = rows.chunks(num-rows)\n  // pad the last repeat so that all have the same number of rows\n  let empty-row = (none,) * column-count\n  repeats.last() += (empty-row,) * (num-rows - repeats.last().len())\n  // join repeats into combined rows\n  let rows = array.zip(..repeats)\n  // combine into flat data\n  data = rows.flatten()\n\n  // STEP 4: re-add header and footer to the data\n\n  if header != none {\n    data.insert(0, header)\n  }\n  if footer != none {\n    data.push(footer)\n  }\n\n  // STEP 5: produce table\n  \n  table(..options, ..data)\n}\n\n#align(center,\n  repeated-table(\n    num-repeats: 3,\n    align: center + horizon,\n    columns: (10%, 15%),\n    table.header(\"Left\", \"Right\", repeat: true),\n    ..array.range(1, 29).map(n => ([l#n], [r#n])).flatten(),\n    table.footer(\"Left\", \"Right\"),\n  )\n)\n```\n![repeated-table|689x259, 100%](upload://y9CrA7xduYys5ALxZLolsWfO5pI.jpeg)\n\nIt's inferior to eventually having balanced columns, but it works right now ;) there is a big `TODO` in the code; if you use per-column `align`, you still need to fix that, but I think the principle is clear from how `columns` is transformed for this to work, and the hard part of transforming the data is done.\n\nFor nicer styling, I would recommend looking at [double strokes](https://typst.app/docs/guides/table-guide/#double-stroke) in the table guide; by using the correct column gutters, you can separate the \"repeats\" of the table and achieve nice double strokes at the same time.",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 3,
      "reads": 40,
      "score": 123.0,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 32
    },
    {
      "id": 2860,
      "post_number": 7,
      "username": "anormalperson8",
      "name": "",
      "created_at": "2024-09-28T15:13:09.245Z",
      "updated_at": "2024-09-28T15:13:09.245Z",
      "cooked": "<p>That is amazing, thank you very much!</p>",
      "raw": "That is amazing, thank you very much!",
      "reply_to_post_number": 6,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 33,
      "score": 6.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 476
    }
  ],
  "scraped_at": "2025-06-10T09:57:53.904134"
}