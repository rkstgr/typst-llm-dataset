{
  "topic_metadata": {
    "id": 3096,
    "title": "How can I use `#let mydate = datetime(...)` from main.typ in included typ",
    "slug": "how-can-i-use-let-mydate-datetime-from-main-typ-in-included-typ",
    "posts_count": 5,
    "created_at": "2025-03-04T11:49:15.626Z",
    "last_posted_at": "2025-03-04T14:51:40.601Z",
    "views": 63,
    "like_count": 3,
    "reply_count": 3,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 4,
    "accepted_answer_username": "quachpas",
    "tags": [
      "scripting"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 415
  },
  "posts": [
    {
      "id": 9356,
      "post_number": 1,
      "username": "alex01",
      "name": "alex",
      "created_at": "2025-03-04T11:49:15.742Z",
      "updated_at": "2025-03-04T11:49:15.742Z",
      "cooked": "<p>I have this in my <code>main.typ</code> file.</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#let mydate = datetime(\n  year: 2023,\n  month: 05,\n  day: 27,\n)\n\n// more stuff\n#include \"text-with-date.typ\"\n</code></pre>\n<p>In text-with-date.typ</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">That THE date, #show context mydate.display(), \n</code></pre>\n<p>when I run now <code>typst compile main.typ</code> get I</p>\n<pre data-code-wrap=\"shell\"><code class=\"lang-shell\"> typst compile main.typ &amp;&amp; okular main.pdf\nerror: expected colon\n    ┌─ text-with-date.typ:411:19\n    │\n411 │ That THE date, #show context mydate.display(),\n    │                                          ^\n\nhelp: error occurred while importing this module\n</code></pre>\n<p>I think this have something to do with <a href=\"https://typst.app/docs/reference/context/\" class=\"inline-onebox\">Context – Typst Documentation</a> but not sure how to fix it.</p>",
      "raw": "I have this in my `main.typ` file.\n\n```typst\n#let mydate = datetime(\n  year: 2023,\n  month: 05,\n  day: 27,\n)\n\n// more stuff\n#include \"text-with-date.typ\"\n```\n\nIn text-with-date.typ\n\n```typst\nThat THE date, #show context mydate.display(), \n```\n\nwhen I run now `typst compile main.typ` get I\n```shell\n typst compile main.typ && okular main.pdf\nerror: expected colon\n    ┌─ text-with-date.typ:411:19\n    │\n411 │ That THE date, #show context mydate.display(),\n    │                                          ^\n\nhelp: error occurred while importing this module\n```\n\nI think this have something to do with https://typst.app/docs/reference/context/ but not sure how to fix it.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 29,
      "score": 125.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1296
    },
    {
      "id": 9360,
      "post_number": 2,
      "username": "Electron_Wizard",
      "name": "Electron Wizard",
      "created_at": "2025-03-04T12:02:11.232Z",
      "updated_at": "2025-03-04T12:02:11.232Z",
      "cooked": "<p>Hey alex01,</p>\n<p>You could put the <code>mydate</code> declaration into a separate <code>.typ</code> file, so you can include it in <code>main.typ</code> and in <code>text-with-date.typ</code>!</p>",
      "raw": "Hey alex01,\n\nYou could put the `mydate` declaration into a separate `.typ` file, so you can include it in `main.typ` and in `text-with-date.typ`!",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 27,
      "score": 10.4,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 997
    },
    {
      "id": 9363,
      "post_number": 3,
      "username": "alex01",
      "name": "alex",
      "created_at": "2025-03-04T12:44:55.639Z",
      "updated_at": "2025-03-04T12:44:55.639Z",
      "cooked": "<p>Than you but I get the same error but now in main.</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">// main.typ\n#include \"my-functions.typ\"\n#mydate.display()\n</code></pre>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">// my-functions.typ\n#let mydate = datetime(\n  year: 2020,\n  month: 04,\n  day: 27,\n)\n</code></pre>\n<pre data-code-wrap=\"shell\"><code class=\"lang-shell\"># typst compile main.typ &amp;&amp; okular main.pdf\nerror: unknown variable: mydate\n   ┌─ main.typ:91:1\n   │\n91 │ #mydate.display()\n   │  ^^^^^^\n</code></pre>",
      "raw": "Than you but I get the same error but now in main.\n\n```typst\n// main.typ\n#include \"my-functions.typ\"\n#mydate.display()\n```\n\n```typst\n// my-functions.typ\n#let mydate = datetime(\n  year: 2020,\n  month: 04,\n  day: 27,\n)\n```\n```shell\n# typst compile main.typ && okular main.pdf\nerror: unknown variable: mydate\n   ┌─ main.typ:91:1\n   │\n91 │ #mydate.display()\n   │  ^^^^^^\n```",
      "reply_to_post_number": 2,
      "reply_count": 2,
      "quote_count": 0,
      "like_count": 0,
      "reads": 27,
      "score": 15.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1296
    },
    {
      "id": 9368,
      "post_number": 4,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2025-03-04T13:29:57.636Z",
      "updated_at": "2025-03-04T13:29:57.636Z",
      "cooked": "<p>The command here would be to import it.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#import \"my-functions.typ\": *\n</code></pre>",
      "raw": "The command here would be to import it.\n```typ\n#import \"my-functions.typ\": *\n```",
      "reply_to_post_number": 3,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 23,
      "score": 19.6,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 9377,
      "post_number": 5,
      "username": "Electron_Wizard",
      "name": "Electron Wizard",
      "created_at": "2025-03-04T14:51:40.601Z",
      "updated_at": "2025-03-04T14:55:19.589Z",
      "cooked": "<p>To add to <a class=\"mention\" href=\"/u/quachpas\">@quachpas</a>’s answer, here is a complete example!</p>\n<h2><a name=\"p-9377-my-functiontyp-1\" class=\"anchor\" href=\"#p-9377-my-functiontyp-1\"></a><code>my-function.typ</code></h2>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#let mydate = datetime(\n  year: 2020,\n  month: 04,\n  day: 27,\n)\n</code></pre>\n<h2><a name=\"p-9377-this-is-another-pagetyp-2\" class=\"anchor\" href=\"#p-9377-this-is-another-pagetyp-2\"></a><code>this-is-another-page.typ</code></h2>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#import \"my-function.typ\": *\n\n`this-is-another-page.typ` also imports the `mydate`: #mydate.display()\n</code></pre>\n<h2><a name=\"p-9377-maintyp-3\" class=\"anchor\" href=\"#p-9377-maintyp-3\"></a><code>main.typ</code></h2>\n<p>Here are a couple of examples, how to include functions. The first is used, when you have multiple packages with the same name, so you just rename them for the <strong>scope of this file</strong> (in this case main.typ).</p>\n<p>The second one is a “filtered” import (I now have coined this term), which allows you to include only specific content of a file/package.</p>\n<p>The third allows you to rename imported content!</p>\n<p>The fourth includes all the content (so you don’t have to use <code>my-function.mydate.display()</code>.</p>\n<p>There is also <code>#import \"my-function.typ\"</code>, which imports the module under the same name (hence you can insert your date with  <code>my-function.mydate.display()</code>)</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#import \"my-function.typ\" as fn\n#fn.mydate.display()\n\n#import \"my-function.typ\": mydate\n#mydate.display()\n\n#import \"my-function.typ\": mydate as hahadate\n#hahadate.display()\n\n#import \"my-function.typ\": *\n#mydate.display()\n\n#include \"this-is-another-page.typ\"\n</code></pre>\n<h2><a name=\"p-9377-result-4\" class=\"anchor\" href=\"#p-9377-result-4\"></a>Result</h2>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/2/292958b2e42bd964d8992b818a3c39d0591e819e.png\" alt=\"image\" data-base62-sha1=\"5S89XMiznrJE632dbFpKvNMjuFM\" width=\"557\" height=\"213\"></p>\n<p>If you got any questions, just ask away! That’s what the forum is for!</p>",
      "raw": "To add to @quachpas's answer, here is a complete example!\n\n## `my-function.typ`\n```typst\n#let mydate = datetime(\n  year: 2020,\n  month: 04,\n  day: 27,\n)\n```\n\n## `this-is-another-page.typ`\n\n```typst\n#import \"my-function.typ\": *\n\n`this-is-another-page.typ` also imports the `mydate`: #mydate.display()\n```\n\n## `main.typ`\n\nHere are a couple of examples, how to include functions. The first is used, when you have multiple packages with the same name, so you just rename them for the **scope of this file** (in this case main.typ).\n\nThe second one is a \"filtered\" import (I now have coined this term), which allows you to include only specific content of a file/package.\n\nThe third allows you to rename imported content!\n\nThe fourth includes all the content (so you don't have to use `my-function.mydate.display()`.\n\nThere is also `#import \"my-function.typ\"`, which imports the module under the same name (hence you can insert your date with  `my-function.mydate.display()`)\n\n```typst\n#import \"my-function.typ\" as fn\n#fn.mydate.display()\n\n#import \"my-function.typ\": mydate\n#mydate.display()\n\n#import \"my-function.typ\": mydate as hahadate\n#hahadate.display()\n\n#import \"my-function.typ\": *\n#mydate.display()\n\n#include \"this-is-another-page.typ\"\n```\n\n## Result\n![image|557x213](upload://5S89XMiznrJE632dbFpKvNMjuFM.png)\n\nIf you got any questions, just ask away! That's what the forum is for!",
      "reply_to_post_number": 3,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 2,
      "reads": 23,
      "score": 34.6,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 997
    }
  ],
  "scraped_at": "2025-06-10T09:50:46.697763"
}