{
  "topic_metadata": {
    "id": 1578,
    "title": "Can you access the physical page count?",
    "slug": "can-you-access-the-physical-page-count",
    "posts_count": 4,
    "created_at": "2024-11-06T18:08:57.650Z",
    "last_posted_at": "2024-11-06T22:20:52.148Z",
    "views": 168,
    "like_count": 3,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "Eric",
    "tags": [
      "scripting",
      "counter"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 189
  },
  "posts": [
    {
      "id": 5217,
      "post_number": 1,
      "username": "NNS",
      "name": "Nikolai Neff-Sarnow",
      "created_at": "2024-11-06T18:08:57.750Z",
      "updated_at": "2024-11-06T18:08:57.750Z",
      "cooked": "<p>Hi,<br>\nis there a way to retrieve the physical number of pages from within Typst, even if the logical number might have changed, e.g. due to a reset of the respective page counter?<br>\nI’d like to use different pagenumbers starting with a new count for the annex, which prevents me from simply doing</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#context counter(page).get().last() \n</code></pre>\n<p>to get the total amount.</p>",
      "raw": "Hi, \nis there a way to retrieve the physical number of pages from within Typst, even if the logical number might have changed, e.g. due to a reset of the respective page counter?\nI'd like to use different pagenumbers starting with a new count for the annex, which prevents me from simply doing \n```typst\n#context counter(page).get().last() \n``` \nto get the total amount.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 39,
      "score": 552.8,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 754
    },
    {
      "id": 5233,
      "post_number": 2,
      "username": "Eric",
      "name": "Eric Biedert",
      "created_at": "2024-11-06T18:18:52.407Z",
      "updated_at": "2024-11-06T18:32:15.414Z",
      "cooked": "<p>One possibility would be to add an empty element at the end of the document, which you can query and get the location from.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">Total Pages: #context query(&lt;end&gt;).first().location().page()\n\n... // All your content, including appendix\n\n#[] &lt;end&gt;\n</code></pre>\n<p>You can of course also put that empty element in a show-all rule, so you don’t need to add additional boilerplate at the end of the document, when the rest of the document setup is somewhere else:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show: it =&gt; it + [#[] &lt;end&gt;]\n</code></pre>",
      "raw": "One possibility would be to add an empty element at the end of the document, which you can query and get the location from.\n\n```typ\nTotal Pages: #context query(<end>).first().location().page()\n\n... // All your content, including appendix\n\n#[] <end>\n```\n\nYou can of course also put that empty element in a show-all rule, so you don't need to add additional boilerplate at the end of the document, when the rest of the document setup is somewhere else:\n\n```typ\n#show: it => it + [#[] <end>]\n```",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 39,
      "score": 47.8,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 88
    },
    {
      "id": 5234,
      "post_number": 3,
      "username": "NNS",
      "name": "Nikolai Neff-Sarnow",
      "created_at": "2024-11-06T19:29:43.299Z",
      "updated_at": "2024-11-06T19:30:53.443Z",
      "cooked": "<p>Thanks, i was unaware that the <code>page</code> returned by <code>location()</code> is the physical page. This is exactly what I need, albeit it feels somewhat hacky.</p>",
      "raw": "Thanks, i was unaware that the `page` returned by `location()` is the physical page. This is exactly what I need, albeit it feels somewhat hacky.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 36,
      "score": 17.2,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 754
    },
    {
      "id": 5240,
      "post_number": 4,
      "username": "PgBiel",
      "name": "",
      "created_at": "2024-11-06T22:20:52.148Z",
      "updated_at": "2024-11-06T22:20:52.148Z",
      "cooked": "<p>By the way <code>#context locate(&lt;end&gt;).page()</code> is short, sweet and does the same <img src=\"https://forum.typst.app/images/emoji/apple/slight_smile.png?v=12\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>",
      "raw": "By the way `#context locate(<end>).page()` is short, sweet and does the same :slight_smile:",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 2,
      "reads": 30,
      "score": 41.0,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 3
    }
  ],
  "scraped_at": "2025-06-10T09:55:24.032111"
}