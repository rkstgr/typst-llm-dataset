{
  "topic_metadata": {
    "id": 3799,
    "title": "How to compile locally with imports?",
    "slug": "how-to-compile-locally-with-imports",
    "posts_count": 5,
    "created_at": "2025-04-24T19:38:38.873Z",
    "last_posted_at": "2025-04-24T22:42:05.289Z",
    "views": 195,
    "like_count": 3,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 4,
    "accepted_answer_username": "Eric",
    "tags": [
      "packages",
      "tooling"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 266
  },
  "posts": [
    {
      "id": 11583,
      "post_number": 1,
      "username": "asmund.sl",
      "name": "",
      "created_at": "2025-04-24T19:38:38.991Z",
      "updated_at": "2025-04-26T20:14:41.107Z",
      "cooked": "<p>I am using Typst again, have not for a while. Importing packages used to work.</p>\n<p>I have Typst 0.13.1 installed.<br>\nCompiling works with <code>tinymist compile main.typ</code>, but not with <code>typst compile main.typ</code>. I also tried to set the root directory to the home directory, but that did not work.<br>\nThe tinymist version I use also has Typst version 0.13.1.<br>\nThe error message is</p>\n<pre><code class=\"lang-auto\">typst compile main.typ\nerror: failed to load file (access denied)\n  ┌─ main.typ:1:8\n  │\n1 │ #import \"@preview/touying:0.6.1\": *\n  │         ^^^^^^^^^^^^^^^^^^^^^^^^\n  │\n  = hint: cannot read file outside of project root\n  = hint: you can adjust the project root with the --root argument\n</code></pre>\n<p>I have verified that the package is correctly downloaded to<br>\n<code>/home/asmund/.cache/typst/packages/preview/touying/0.6.1</code>.<br>\nI am on Ubuntu 24.04.2 LTS if that is relevant.</p>",
      "raw": "I am using Typst again, have not for a while. Importing packages used to work.\n\nI have Typst 0.13.1 installed.\nCompiling works with `tinymist compile main.typ`, but not with `typst compile main.typ`. I also tried to set the root directory to the home directory, but that did not work.\nThe tinymist version I use also has Typst version 0.13.1.\nThe error message is\n```\ntypst compile main.typ\nerror: failed to load file (access denied)\n  ┌─ main.typ:1:8\n  │\n1 │ #import \"@preview/touying:0.6.1\": *\n  │         ^^^^^^^^^^^^^^^^^^^^^^^^\n  │\n  = hint: cannot read file outside of project root\n  = hint: you can adjust the project root with the --root argument\n```\n\nI have verified that the package is correctly downloaded to\n `/home/asmund/.cache/typst/packages/preview/touying/0.6.1`.\nI am on Ubuntu 24.04.2 LTS if that is relevant.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 41,
      "score": 588.2,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 1508
    },
    {
      "id": 11588,
      "post_number": 2,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-24T20:22:27.231Z",
      "updated_at": "2025-04-24T20:22:27.231Z",
      "cooked": "<p>Hello. What is the code that does not compile? How many Typst files in the project?</p>",
      "raw": "Hello. What is the code that does not compile? How many Typst files in the project?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 39,
      "score": 7.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 11589,
      "post_number": 3,
      "username": "asmund.sl",
      "name": "",
      "created_at": "2025-04-24T21:51:40.117Z",
      "updated_at": "2025-04-24T21:51:40.117Z",
      "cooked": "<p>Just the one file. It fails on line one.<br>\nMaking a new file with only the one following line:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#import \"@preview/touying:0.6.1\"\n</code></pre>\n<p>Fails with the same error message.</p>\n<p>Importing some other package does not work either, for example</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#import \"@preview/js:0.1.3\"\n</code></pre>\n<p>also fails the same way.</p>",
      "raw": "Just the one file. It fails on line one.\nMaking a new file with only the one following line:\n```typst\n#import \"@preview/touying:0.6.1\"\n```\nFails with the same error message.\n\nImporting some other package does not work either, for example\n```typst\n#import \"@preview/js:0.1.3\"\n```\n\nalso fails the same way.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 35,
      "score": 12.0,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 1508
    },
    {
      "id": 11590,
      "post_number": 4,
      "username": "Eric",
      "name": "Eric Biedert",
      "created_at": "2025-04-24T22:20:42.993Z",
      "updated_at": "2025-04-24T22:20:42.993Z",
      "cooked": "<p>Did you by any chance install Typst via snap? The Typst snap package currently can’t access the directories where local or cached packages are stored, so that might be the issue.</p>\n<aside class=\"onebox githubissue\" data-onebox-src=\"https://github.com/typst/typst-snap/issues/2\">\n  <header class=\"source\">\n\n      <a href=\"https://github.com/typst/typst-snap/issues/2\" target=\"_blank\" rel=\"noopener nofollow ugc\">github.com/typst/typst-snap</a>\n  </header>\n\n  <article class=\"onebox-body\">\n    <div class=\"github-row\">\n  <div class=\"github-icon-container\" title=\"Issue\" data-github-private-repo=\"false\">\n\t  <svg width=\"60\" height=\"60\" class=\"github-icon\" viewBox=\"0 0 14 16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z\"></path></svg>\n  </div>\n\n  <div class=\"github-info-container\">\n    <h4>\n      <a href=\"https://github.com/typst/typst-snap/issues/2\" target=\"_blank\" rel=\"noopener nofollow ugc\">Typst Snap package can't access local packages</a>\n    </h4>\n\n    <div class=\"github-info\">\n      <div class=\"date\">\n        opened <span class=\"discourse-local-date\" data-format=\"ll\" data-date=\"2024-08-17\" data-time=\"14:18:50\" data-timezone=\"UTC\">02:18PM - 17 Aug 24 UTC</span>\n      </div>\n\n\n      <div class=\"user\">\n        <a href=\"https://github.com/Unaimend\" target=\"_blank\" rel=\"noopener nofollow ugc\">\n          <img alt=\"Unaimend\" src=\"https://forum.typst.app/uploads/default/original/2X/6/64f283c2c25befffc87a0bf1befd79f1faa3636c.png\" class=\"onebox-avatar-inline\" width=\"20\" height=\"20\" data-dominant-color=\"E7E9C8\">\n          Unaimend\n        </a>\n      </div>\n    </div>\n\n    <div class=\"labels\">\n    </div>\n  </div>\n</div>\n\n  <div class=\"github-row\">\n    <p class=\"github-body-container\">### Description\n\nI tried installing the package [2] on my system via cloning the<span class=\"show-more-container\"><a href=\"\" rel=\"noopener\" class=\"show-more\">…</a></span><span class=\"excerpt hidden\"> repo into the following path\n`~/.local/share/typst/packages/local/petri/0.1.0` by following the approach described in [3]\nThe typst compiler nonetheless gives the following error \n\n```\nerror: package not found (searched for @local/petri:0.1.0)\n  ┌─ ProjectPlan.typ:5:8\n  │\n5 │ #import \"@local/petri:0.1.0\": *\n  │         ^^^^^^^^^^^^^^^^^^^^\n\n```\nSystem information can be found in the following screenshot\n![image](https://github.com/user-attachments/assets/e0ac374e-3a41-4a77-b480-cf1e006387f5)\n\nSome more things were tried below the following question on the discord but nothing worked\nhttps://discord.com/channels/1054443721975922748/1088371919725793360/1274364908187942924\n\nThank you very much for typst and your help \n\n\n[2] https://github.com/augustebaum/petri\n[3]  https://github.com/typst/packages</span></p>\n  </div>\n\n  </article>\n\n  <div class=\"onebox-metadata\">\n    \n    \n  </div>\n\n  <div style=\"clear: both\"></div>\n</aside>\n",
      "raw": "Did you by any chance install Typst via snap? The Typst snap package currently can't access the directories where local or cached packages are stored, so that might be the issue.\n\nhttps://github.com/typst/typst-snap/issues/2",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 3,
      "reads": 34,
      "score": 66.8,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 88
    },
    {
      "id": 11591,
      "post_number": 5,
      "username": "asmund.sl",
      "name": "",
      "created_at": "2025-04-24T22:42:05.289Z",
      "updated_at": "2025-04-24T22:42:05.289Z",
      "cooked": "<p>Thanks, I did install via snap.<br>\nI will try installing from another source tomorrow.</p>",
      "raw": "Thanks, I did install via snap.\nI will try installing from another source tomorrow.",
      "reply_to_post_number": 4,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 34,
      "score": 11.8,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 1508
    }
  ],
  "scraped_at": "2025-06-10T09:48:43.172939"
}