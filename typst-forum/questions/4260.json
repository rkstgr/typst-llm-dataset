{
  "topic_metadata": {
    "id": 4260,
    "title": "How to prevent footnotes in headings from expanding to PDF TOC/Contents",
    "slug": "how-to-prevent-footnotes-in-headings-from-expanding-to-pdf-toc-contents",
    "posts_count": 3,
    "created_at": "2025-05-24T05:28:20.831Z",
    "last_posted_at": "2025-05-24T15:22:12.307Z",
    "views": 53,
    "like_count": 2,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "quachpas",
    "tags": [
      "outline",
      "footnotes"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 250
  },
  "posts": [
    {
      "id": 13061,
      "post_number": 1,
      "username": "Jarko",
      "name": "Jarko",
      "created_at": "2025-05-24T05:28:21.004Z",
      "updated_at": "2025-05-24T15:23:19.626Z",
      "cooked": "<details><summary>I have noticed a peculiar thing about footnotes in headings. They show up nicely in the main document, but add visual clutter to the table of contents, as shown on my example below (click here to open).</summary>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set page(paper: \"a7\")\n\n== My Heading #footnote[#link(\"https://typst.app/\")[Link to typst];]\n\n#lorem(50)\n\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/9/9cd44afa9df0c8ddeb25251b269ac64e428aef23.png\" data-download-href=\"https://forum.typst.app/uploads/default/9cd44afa9df0c8ddeb25251b269ac64e428aef23\" title=\"Screenshot\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/9/9cd44afa9df0c8ddeb25251b269ac64e428aef23_2_556x500.png\" alt=\"Screenshot\" data-base62-sha1=\"mnnjTa5eo7qdIzRRQ7Mivq5QwXF\" width=\"556\" height=\"500\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/9/9cd44afa9df0c8ddeb25251b269ac64e428aef23_2_556x500.png, https://forum.typst.app/uploads/default/optimized/2X/9/9cd44afa9df0c8ddeb25251b269ac64e428aef23_2_834x750.png 1.5x, https://forum.typst.app/uploads/default/optimized/2X/9/9cd44afa9df0c8ddeb25251b269ac64e428aef23_2_1112x1000.png 2x\" data-dominant-color=\"D7D6DB\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">Screenshot</span><span class=\"informations\">1170×1052 124 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n</details>\n<p><strong>How can I keep using footnotes in headers, but keep the TOC clean?</strong></p>",
      "raw": "<details><summary>I have noticed a peculiar thing about footnotes in headings. They show up nicely in the main document, but add visual clutter to the table of contents, as shown on my example below (click here to open).</summary>\n\n```typ\n#set page(paper: \"a7\")\n\n== My Heading #footnote[#link(\"https://typst.app/\")[Link to typst];]\n\n#lorem(50)\n\n```\n\n![Screenshot|556x500](upload://mnnjTa5eo7qdIzRRQ7Mivq5QwXF.png)\n\n</details>\n\n**How can I keep using footnotes in headers, but keep the TOC clean?**",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 26,
      "score": 25.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1287
    },
    {
      "id": 13073,
      "post_number": 2,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2025-05-24T12:43:06.895Z",
      "updated_at": "2025-05-24T12:45:29.717Z",
      "cooked": "<p>Hello <a class=\"mention\" href=\"/u/jarko\">@Jarko</a>,</p>\n<p>this is a known issue tracked in <a href=\"https://github.com/typst/typst/issues/2415\">#2415</a>. There are some solutions in a related thread (<a href=\"https://github.com/typst/typst/issues/1889\">1889</a>).</p>\n<p>There are different ways to do this, but the simplest one I recommend is to split the bookmark and the actual heading. Then, it’s just a matter of convenience. You can wrap it all in a custom function.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set page(paper: \"a7\")\n#{\n  show heading: none\n  heading(\"Heading\")\n}\n#heading(bookmarked: false)[Heading#footnote[Footnote]]\n#lorem(50)\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/d/db3c4f48256c3478f5d1077e36993dc37bca9ed9.png\" data-download-href=\"https://forum.typst.app/uploads/default/db3c4f48256c3478f5d1077e36993dc37bca9ed9\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/d/db3c4f48256c3478f5d1077e36993dc37bca9ed9_2_351x500.png\" alt=\"image\" data-base62-sha1=\"vhrMiil9gmzky7n97OGVli8BMtX\" width=\"351\" height=\"500\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/d/db3c4f48256c3478f5d1077e36993dc37bca9ed9_2_351x500.png, https://forum.typst.app/uploads/default/optimized/2X/d/db3c4f48256c3478f5d1077e36993dc37bca9ed9_2_526x750.png 1.5x, https://forum.typst.app/uploads/default/optimized/2X/d/db3c4f48256c3478f5d1077e36993dc37bca9ed9_2_702x1000.png 2x\" data-dominant-color=\"F1F1F1\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">950×1350 131 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>For completeness, see:</p>\n<ul>\n<li><a href=\"https://forum.typst.app/t/how-can-i-exclude-part-of-a-heading-from-the-outline/1299/2\" class=\"inline-onebox\">How can I exclude part of a heading from the outline? - #2 by TheJanzap</a></li>\n<li><a href=\"https://forum.typst.app/t/how-to-add-an-invisible-heading-to-an-outline/685\" class=\"inline-onebox\">How to add an invisible Heading to an outline?</a></li>\n<li><a href=\"https://forum.typst.app/t/how-to-add-an-empty-heading-to-the-pdf-outline/1172\" class=\"inline-onebox\">How to add an empty heading to the PDF outline?</a></li>\n</ul>",
      "raw": "Hello @Jarko,\n\nthis is a known issue tracked in [#2415](https://github.com/typst/typst/issues/2415). There are some solutions in a related thread ([1889](https://github.com/typst/typst/issues/1889)).\n\nThere are different ways to do this, but the simplest one I recommend is to split the bookmark and the actual heading. Then, it's just a matter of convenience. You can wrap it all in a custom function.\n\n```typ\n#set page(paper: \"a7\")\n#{\n  show heading: none\n  heading(\"Heading\")\n}\n#heading(bookmarked: false)[Heading#footnote[Footnote]]\n#lorem(50)\n```\n![image|351x500](upload://vhrMiil9gmzky7n97OGVli8BMtX.png)\n\nFor completeness, see:\n- https://forum.typst.app/t/how-can-i-exclude-part-of-a-heading-from-the-outline/1299/2\n- https://forum.typst.app/t/how-to-add-an-invisible-heading-to-an-outline/685\n- https://forum.typst.app/t/how-to-add-an-empty-heading-to-the-pdf-outline/1172",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 2,
      "reads": 26,
      "score": 35.2,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 13083,
      "post_number": 3,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-05-24T15:22:12.307Z",
      "updated_at": "2025-05-24T15:22:12.307Z",
      "cooked": "<blockquote>\n<p>PDF TOC/Contents</p>\n</blockquote>\n<p>FYI, it is called <a href=\"https://pdfa.org/glossary-of-pdf-terms/#:~:text=in%20any%20way.-,Outline,is%20commonly%20known%20as%20Bookmarks.,-Package\">Document Outline</a>.</p>",
      "raw": "> PDF TOC/Contents\n\nFYI, it is called [Document Outline](https://pdfa.org/glossary-of-pdf-terms/#:~:text=in%20any%20way.-,Outline,is%20commonly%20known%20as%20Bookmarks.,-Package).",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 21,
      "score": 4.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    }
  ],
  "scraped_at": "2025-06-10T09:47:20.886286"
}