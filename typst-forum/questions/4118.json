{
  "topic_metadata": {
    "id": 4118,
    "title": "How to use Arabic and Roman page numbers in one document?",
    "slug": "how-to-use-arabic-and-roman-page-numbers-in-one-document",
    "posts_count": 6,
    "created_at": "2025-05-16T07:42:27.674Z",
    "last_posted_at": "2025-05-17T06:27:51.816Z",
    "views": 59,
    "like_count": 0,
    "reply_count": 3,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 4,
    "accepted_answer_username": "janekfleper",
    "tags": [
      "numbering",
      "page"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 807
  },
  "posts": [
    {
      "id": 12571,
      "post_number": 1,
      "username": "Methan1075",
      "name": "",
      "created_at": "2025-05-16T07:42:27.848Z",
      "updated_at": "2025-05-16T07:42:27.848Z",
      "cooked": "<p>Hi everyone,</p>\n<p>I’m new to Typst and are trying so set up the page numbering in my document. For each chapter I have a separate .typ document, which I include in the main.typ with the <span class=\"hashtag-raw\">#include</span> function as you see in the following snippet.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">// first section\n\n#include \"deckblatt.typ\"\n#pagebreak()\n\n#include \"sperrvermerk.typ\"\n#pagebreak()\n\n#include \"danksagung.typ\"\n#pagebreak()\n\n#include \"inhaltsverzeichnis.typ\"\n#pagebreak()\n\n#include \"abkuerzungsverzeichnis.typ\"\n#pagebreak()\n\n#include \"abbildungsverzeichnis.typ\"\n#pagebreak()\n\n// main section\n\n#include \"einleitung.typ\"\n#pagebreak()\n\n// last section\n\n#include \"versicherung.typ\"\n#pagebreak()\n\n#include \"anhang.typ\"\n</code></pre>\n<p>In the main.typ I want to set up the page numbering, which should look like this: the first section (as shown in the snippet) should have Roman page numbers. Arabic page numbers should be used in the main section, but these should start with “1”. The last section should again have Roman page numbers, which should continue counting from where they left off in the first section.<br>\nPreferably this should not be done using static page numbers, but it should be possible for me to specify from which section or which <code>#include</code> function which page numbers are used.<br>\nI’ve already tried it with <code>#label</code> in the included documents and <code>#location(ref())</code> in main.typ, but that didn’t work.</p>\n<p>Do you have any idea for a possible solution?</p>",
      "raw": "Hi everyone,\n\nI'm new to Typst and are trying so set up the page numbering in my document. For each chapter I have a separate .typ document, which I include in the main.typ with the #include function as you see in the following snippet.\n\n```\n// first section\n\n#include \"deckblatt.typ\"\n#pagebreak()\n\n#include \"sperrvermerk.typ\"\n#pagebreak()\n\n#include \"danksagung.typ\"\n#pagebreak()\n\n#include \"inhaltsverzeichnis.typ\"\n#pagebreak()\n\n#include \"abkuerzungsverzeichnis.typ\"\n#pagebreak()\n\n#include \"abbildungsverzeichnis.typ\"\n#pagebreak()\n\n// main section\n\n#include \"einleitung.typ\"\n#pagebreak()\n\n// last section\n\n#include \"versicherung.typ\"\n#pagebreak()\n\n#include \"anhang.typ\"\n```\nIn the main.typ I want to set up the page numbering, which should look like this: the first section (as shown in the snippet) should have Roman page numbers. Arabic page numbers should be used in the main section, but these should start with “1”. The last section should again have Roman page numbers, which should continue counting from where they left off in the first section.\nPreferably this should not be done using static page numbers, but it should be possible for me to specify from which section or which ```#include``` function which page numbers are used.\nI've already tried it with ```#label``` in the included documents and ```#location(ref())``` in main.typ, but that didn't work.\n\nDo you have any idea for a possible solution?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 21,
      "score": 44.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1606
    },
    {
      "id": 12589,
      "post_number": 2,
      "username": "janekfleper",
      "name": "Janek Fleper",
      "created_at": "2025-05-16T14:21:41.817Z",
      "updated_at": "2025-05-16T14:23:35.106Z",
      "cooked": "<p>For the first switch from Roman numerals to Arabic numerals you can call the set rule for the <a href=\"https://typst.app/docs/reference/layout/page/#parameters-numbering\">page numbering</a> (again) and reset the page counter to 1. This is also shown as the example in the documentation for the counter, see <a href=\"https://typst.app/docs/reference/introspection/counter/#page-counter\">here</a>.</p>\n<p>The second switch is a bit more complicated since you want to continue with the roman page count from the first section. I would propose to customize the page numbering to add the page counter at the end of the first section to the current page counter. I added a single metadata element here to mark the end of the first section.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set page(numbering: \"I\")\n#include \"first-section.typ\"\n#metadata(\"end-of-first-section\") &lt;end-of-first-section&gt;\n\n#set page(numbering: \"1\")\n#counter(page).update(1)\n#include \"main.typ\"\n\n#let last-section-numbering(..n) = context {\n  let offset = counter(page).at(&lt;end-of-first-section&gt;).at(0)\n  numbering(\"I\", n.at(0) + offset)\n}\n#set page(numbering: last-section-numbering)\n#counter(page).update(1)\n#include \"last-section.typ\"\n</code></pre>",
      "raw": "For the first switch from Roman numerals to Arabic numerals you can call the set rule for the [page numbering](https://typst.app/docs/reference/layout/page/#parameters-numbering) (again) and reset the page counter to 1. This is also shown as the example in the documentation for the counter, see [here](https://typst.app/docs/reference/introspection/counter/#page-counter).\n\nThe second switch is a bit more complicated since you want to continue with the roman page count from the first section. I would propose to customize the page numbering to add the page counter at the end of the first section to the current page counter. I added a single metadata element here to mark the end of the first section.\n\n```\n#set page(numbering: \"I\")\n#include \"first-section.typ\"\n#metadata(\"end-of-first-section\") <end-of-first-section>\n\n#set page(numbering: \"1\")\n#counter(page).update(1)\n#include \"main.typ\"\n\n#let last-section-numbering(..n) = context {\n  let offset = counter(page).at(<end-of-first-section>).at(0)\n  numbering(\"I\", n.at(0) + offset)\n}\n#set page(numbering: last-section-numbering)\n#counter(page).update(1)\n#include \"last-section.typ\"\n```",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 18,
      "score": 8.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 69
    },
    {
      "id": 12596,
      "post_number": 3,
      "username": "Methan1075",
      "name": "",
      "created_at": "2025-05-16T15:35:54.937Z",
      "updated_at": "2025-05-16T15:35:54.937Z",
      "cooked": "<p>Thanks for your answer, the solution seems to be almost right!<br>\nThere’s only one little problem: after applying your code, the first section ends with page VII, but the last section starts with IX, so there’s is one page “missing”. I added <code>-1</code> behind the <code>offset</code> in <code>numbering(\"I\", n.at(0) + offset)</code>, so the final result is <code>numbering(\"I\", n.at(0) + offset -1)</code>. With that, everything works well. Is this a good solution or do you want to correct it in another way?</p>",
      "raw": "Thanks for your answer, the solution seems to be almost right!\nThere's only one little problem: after applying your code, the first section ends with page VII, but the last section starts with IX, so there's is one page \"missing\". I added ```-1``` behind the ```offset``` in ```numbering(\"I\", n.at(0) + offset)```, so the final result is ```numbering(\"I\", n.at(0) + offset -1)```. With that, everything works well. Is this a good solution or do you want to correct it in another way?",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 18,
      "score": 8.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1606
    },
    {
      "id": 12597,
      "post_number": 4,
      "username": "janekfleper",
      "name": "Janek Fleper",
      "created_at": "2025-05-16T16:29:13.557Z",
      "updated_at": "2025-05-16T17:06:37.367Z",
      "cooked": "<p>I think this is just caused by the order of the metadata label and the page breaks that you put between the sections in your initial post. I can reproduce your issue with the following code where the metadata comes after the page break. This causes the page counter to be incremented again even though the next page already uses the Arabic numbers starting at 1.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set page(numbering: \"I\")\n#include \"first-section.typ\"\n#pagebreak()\n#metadata(\"end-of-first-section\") &lt;end-of-first-section&gt;\n</code></pre>\n<p>If you put the metadata before the page break, it should work without the manual offset.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set page(numbering: \"I\")\n#include \"first-section.typ\"\n#metadata(\"end-of-first-section\") &lt;end-of-first-section&gt;\n#pagebreak()\n</code></pre>\n<p>If this does not fix your issue, please post a minimal working example that reproduces the issue. You can use <a href=\"https://typst.app/docs/reference/text/lorem/\"><code>lorem()</code></a> to just add some text instead of including the section files that only you have access to.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set page(numbering: \"I\")\n#lorem(1000)\n#metadata(\"end-of-first-section\") &lt;end-of-first-section&gt;\n#pagebreak()\n...\n</code></pre>",
      "raw": "I think this is just caused by the order of the metadata label and the page breaks that you put between the sections in your initial post. I can reproduce your issue with the following code where the metadata comes after the page break. This causes the page counter to be incremented again even though the next page already uses the Arabic numbers starting at 1.\n\n```\n#set page(numbering: \"I\")\n#include \"first-section.typ\"\n#pagebreak()\n#metadata(\"end-of-first-section\") <end-of-first-section>\n```\n\nIf you put the metadata before the page break, it should work without the manual offset.\n\n```\n#set page(numbering: \"I\")\n#include \"first-section.typ\"\n#metadata(\"end-of-first-section\") <end-of-first-section>\n#pagebreak()\n```\n\nIf this does not fix your issue, please post a minimal working example that reproduces the issue. You can use [`lorem()`](https://typst.app/docs/reference/text/lorem/) to just add some text instead of including the section files that only you have access to.\n\n```\n#set page(numbering: \"I\")\n#lorem(1000)\n#metadata(\"end-of-first-section\") <end-of-first-section>\n#pagebreak()\n...\n```",
      "reply_to_post_number": 3,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 16,
      "score": 8.2,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 69
    },
    {
      "id": 12606,
      "post_number": 5,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-05-16T19:46:48.680Z",
      "updated_at": "2025-05-16T19:47:36.231Z",
      "cooked": "<p>Hi. In essence, you want something like this:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set page(width: 5cm, height: 2cm, footer-descent: 0pt, margin: 3mm)\n#set pagebreak(weak: true)\n\n#set page(numbering: \"I\")\n\n= I First section\n#pagebreak()\n\n#let saved-page = state(\"saved-page\")\n#context saved-page.update(counter(page).get())\n#set page(numbering: \"1\")\n#counter(page).update(1)\n\n= 1 Main section\n#pagebreak()\n\n= 2 Main section\n#pagebreak()\n\n#set page(numbering: \"I\")\n#context counter(page).update(saved-page.get())\n\n= II Last section\n#pagebreak()\n\n= III Last section\n</code></pre>\n<p>You can create a bunch of wrappers, but if it’s in the main file that doesn’t have anything, then I think it’s fine to leave it as is, because it explains itself pretty well. You can add intention comments.</p>",
      "raw": "Hi. In essence, you want something like this:\n\n```typ\n#set page(width: 5cm, height: 2cm, footer-descent: 0pt, margin: 3mm)\n#set pagebreak(weak: true)\n\n#set page(numbering: \"I\")\n\n= I First section\n#pagebreak()\n\n#let saved-page = state(\"saved-page\")\n#context saved-page.update(counter(page).get())\n#set page(numbering: \"1\")\n#counter(page).update(1)\n\n= 1 Main section\n#pagebreak()\n\n= 2 Main section\n#pagebreak()\n\n#set page(numbering: \"I\")\n#context counter(page).update(saved-page.get())\n\n= II Last section\n#pagebreak()\n\n= III Last section\n```\n\nYou can create a bunch of wrappers, but if it's in the main file that doesn't have anything, then I think it's fine to leave it as is, because it explains itself pretty well. You can add intention comments.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 15,
      "score": 3.0,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 12650,
      "post_number": 6,
      "username": "Methan1075",
      "name": "",
      "created_at": "2025-05-17T06:27:51.816Z",
      "updated_at": "2025-05-17T06:27:51.816Z",
      "cooked": "<p>Hi, that was exactly the solution I needed. Now it works. Thank you very much!</p>",
      "raw": "Hi, that was exactly the solution I needed. Now it works. Thank you very much!",
      "reply_to_post_number": 4,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 11,
      "score": 2.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1606
    }
  ],
  "scraped_at": "2025-06-10T09:47:46.795331"
}