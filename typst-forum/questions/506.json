{
  "topic_metadata": {
    "id": 506,
    "title": "How can I add a label a rotated Figure?",
    "slug": "how-can-i-add-a-label-a-rotated-figure",
    "posts_count": 4,
    "created_at": "2024-09-19T21:18:39.283Z",
    "last_posted_at": "2024-09-19T23:07:40.266Z",
    "views": 317,
    "like_count": 3,
    "reply_count": 0,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "Eric",
    "tags": [
      "figures",
      "placement"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 353
  },
  "posts": [
    {
      "id": 1956,
      "post_number": 1,
      "username": "fdekerm",
      "name": "François de Kermenguy",
      "created_at": "2024-09-19T21:18:39.422Z",
      "updated_at": "2024-09-23T07:09:37.076Z",
      "cooked": "<p>Hello,<br>\nI’d like to know how to add a label to a figure to which I’ve applied <span class=\"hashtag-raw\">#rotation</span></p>\n<p>Example:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#rotate( -90deg, reflow: true, \nfigure(caption: [...], \n  table(...),\n  kind: table)) &lt;table_1&gt;\n</code></pre>\n<p>In the text, the <span class=\"mention\">@table_1</span> call return an error. I could put the rotate in <span class=\"hashtag-raw\">#figure</span> instead, but the table is large and by doing that the caption is rejected on the next page (and therefore not in the same direction as the figure).</p>\n<p>Merci ! <img src=\"https://forum.typst.app/images/emoji/apple/slight_smile.png?v=12\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>",
      "raw": "Hello,\nI'd like to know how to add a label to a figure to which I've applied #rotation\n\nExample: \n\n\n```typ\n#rotate( -90deg, reflow: true, \nfigure(caption: [...], \n  table(...),\n  kind: table)) <table_1>\n```\n\nIn the text, the @table_1 call return an error. I could put the rotate in #figure instead, but the table is large and by doing that the caption is rejected on the next page (and therefore not in the same direction as the figure).\n\nMerci ! :slight_smile:",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 44,
      "score": 1458.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 136
    },
    {
      "id": 1958,
      "post_number": 2,
      "username": "Eric",
      "name": "Eric Biedert",
      "created_at": "2024-09-19T21:29:57.618Z",
      "updated_at": "2024-09-19T21:32:13.506Z",
      "cooked": "<p>You are currently attaching the label to the <code>rotate</code> function instead of the figure. Thus, when you later reference that label, Typst does not know that you wanted to reference the figure.</p>\n<p>The syntax you use to attach the label to the figure with <code>&lt;table_1&gt;</code> only works if you are in <em>markup mode</em>. You can read more about the different modes <a href=\"https://typst.app/docs/reference/syntax/#modes\">here</a>, but the most important thing is that you leave markup mode and enter into <em>code mode</em> when you use the <code>#</code> character, as you did in <code>#rotate(...)</code>. This means that you can <strong>not</strong> do something like</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">// This does not work!\n#rotate(-90deg, reflow: true,\n  figure(\n    caption: [...],\n    table(...)\n  ) &lt;table_1&gt;\n)\n</code></pre>\n<p>as you are in <em>code mode</em>  when you put the figure into the argument of the <code>rotate</code> function. What you can instead do, is to use a content block as the argument, as you then are back in <em>markup mode</em>:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#rotate(-90deg, reflow: true)[\n  #figure(\n    caption: [...],\n    table(...)\n  ) &lt;table_1&gt;\n]\n</code></pre>\n<p>As an unrelated note, you don’t need to explicitly specify the <code>kind: table</code> when the body of the figure is a table, as Typst is smart enough to detect that automatically.</p>",
      "raw": "You are currently attaching the label to the `rotate` function instead of the figure. Thus, when you later reference that label, Typst does not know that you wanted to reference the figure.\n\nThe syntax you use to attach the label to the figure with `<table_1>` only works if you are in _markup mode_. You can read more about the different modes [here](https://typst.app/docs/reference/syntax/#modes), but the most important thing is that you leave markup mode and enter into _code mode_ when you use the `#` character, as you did in `#rotate(...)`. This means that you can **not** do something like\n```typ\n// This does not work!\n#rotate(-90deg, reflow: true,\n  figure(\n    caption: [...],\n    table(...)\n  ) <table_1>\n)\n```\nas you are in _code mode_  when you put the figure into the argument of the `rotate` function. What you can instead do, is to use a content block as the argument, as you then are back in _markup mode_:\n```typ\n#rotate(-90deg, reflow: true)[\n  #figure(\n    caption: [...],\n    table(...)\n  ) <table_1>\n]\n```\n\nAs an unrelated note, you don't need to explicitly specify the `kind: table` when the body of the figure is a table, as Typst is smart enough to detect that automatically.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 2,
      "reads": 45,
      "score": 94.0,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 88
    },
    {
      "id": 1959,
      "post_number": 3,
      "username": "fdekerm",
      "name": "François de Kermenguy",
      "created_at": "2024-09-19T21:40:21.197Z",
      "updated_at": "2024-09-19T21:40:21.197Z",
      "cooked": "<p>Super!  Thanks a lor for this quick and very detailed answer!</p>",
      "raw": "Super!  Thanks a lor for this quick and very detailed answer!",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 39,
      "score": 7.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 136
    },
    {
      "id": 1962,
      "post_number": 4,
      "username": "PgBiel",
      "name": "",
      "created_at": "2024-09-19T23:07:40.266Z",
      "updated_at": "2024-09-19T23:07:50.738Z",
      "cooked": "<p>Hey <a class=\"mention\" href=\"/u/fdekerm\">@fdekerm</a>! Welcome to the forum. I’ve updated your post, as well as <a href=\"https://forum.typst.app/t/heading-style-for-specific-section/507\" class=\"inline-onebox\">Heading style for specific section</a>, to use ```typ at the start of Typst code blocks (instead of just ```) to ensure the code is properly highlighted as Typst code. Make sure to keep this in mind for future posts, as it turns your code more readable <img src=\"https://forum.typst.app/images/emoji/apple/slight_smile.png?v=12\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>",
      "raw": "Hey @fdekerm! Welcome to the forum. I've updated your post, as well as https://forum.typst.app/t/heading-style-for-specific-section/507, to use \\`\\`\\`typ at the start of Typst code blocks (instead of just \\`\\`\\`) to ensure the code is properly highlighted as Typst code. Make sure to keep this in mind for future posts, as it turns your code more readable :slight_smile:",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 38,
      "score": 27.6,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 3
    }
  ],
  "scraped_at": "2025-06-10T09:58:36.645674"
}