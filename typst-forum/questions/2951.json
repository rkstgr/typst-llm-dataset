{
  "topic_metadata": {
    "id": 2951,
    "title": "How to put the header below the top margin?",
    "slug": "how-to-put-the-header-below-the-top-margin",
    "posts_count": 7,
    "created_at": "2025-02-24T08:15:11.885Z",
    "last_posted_at": "2025-02-24T11:27:10.493Z",
    "views": 142,
    "like_count": 0,
    "reply_count": 2,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 4,
    "accepted_answer_username": "sijo",
    "tags": [
      "header-footer"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 621
  },
  "posts": [
    {
      "id": 8946,
      "post_number": 1,
      "username": "ThisIs_Me",
      "name": "ThisIs Me",
      "created_at": "2025-02-24T08:15:12.048Z",
      "updated_at": "2025-02-24T09:21:18.847Z",
      "cooked": "<p>Hi,<br>\nI made a document with 1 cm margin. I want the header to be inside the 1cm margins.<br>\nBut the header is automaticaly put outside the 1cm margin except if I use header-ascent: 0px. But in this case header is displaying on the main text.</p>\n<p>Here is a minimal (not) workinge example :</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set page(\n  margin: 1cm,\n  header-ascent: 0cm,\n  header:[my header]\n)\n\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\n</code></pre>\n<p>If you remover header-ascent, you will see that header is displayed outside 1cm margin.</p>\n<p>How can I solve my problem ?</p>\n<p>Thanks</p>",
      "raw": "Hi,\nI made a document with 1 cm margin. I want the header to be inside the 1cm margins.\nBut the header is automaticaly put outside the 1cm margin except if I use header-ascent: 0px. But in this case header is displaying on the main text.\n\nHere is a minimal (not) workinge example :\n\n\n```typ\n#set page(\n  margin: 1cm,\n  header-ascent: 0cm,\n  header:[my header]\n)\n\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\n```\n\nIf you remover header-ascent, you will see that header is displayed outside 1cm margin.\n\nHow can I solve my problem ?\n\nThanks",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 21,
      "score": 569.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1237
    },
    {
      "id": 8948,
      "post_number": 2,
      "username": "sijo",
      "name": "",
      "created_at": "2025-02-24T08:29:58.224Z",
      "updated_at": "2025-02-24T08:29:58.224Z",
      "cooked": "<p>Hi, welcome to the Typst forum!</p>\n<p>Could you put a screenshot of the result you’re trying to achieve? I don’t really understand what you’re asking since for me, “inside the margin” means inside the 1cm space reserved for the margin. And in your example, in both cases (with or without <code>header-ascent: 0cm</code>) the header is always inside the margin…</p>",
      "raw": "Hi, welcome to the Typst forum!\n\nCould you put a screenshot of the result you're trying to achieve? I don't really understand what you're asking since for me, \"inside the margin\" means inside the 1cm space reserved for the margin. And in your example, in both cases (with or without `header-ascent: 0cm`) the header is always inside the margin...",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 19,
      "score": 3.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 332
    },
    {
      "id": 8949,
      "post_number": 3,
      "username": "ThisIs_Me",
      "name": "ThisIs Me",
      "created_at": "2025-02-24T08:38:52.037Z",
      "updated_at": "2025-02-24T08:38:52.037Z",
      "cooked": "<p>Sorry, I realise I misspoke.<br>\nWhen I said within the margin, I meant within the page (without going beyond the margins).<br>\nHere’s an image with what I’d like (what I do on LO Writer). The print margins are defined (at 1cm) and all the content: page or header does not exceed the margins.<br>\n<div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/0/0ca06956a4244a94d9b884f633ce119a431821e5.png\" data-download-href=\"https://forum.typst.app/uploads/default/0ca06956a4244a94d9b884f633ce119a431821e5\" title=\"a\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/0/0ca06956a4244a94d9b884f633ce119a431821e5_2_353x500.png\" alt=\"a\" data-base62-sha1=\"1NHpoHGiauTIxVbTfOWm2B43afj\" width=\"353\" height=\"500\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/0/0ca06956a4244a94d9b884f633ce119a431821e5_2_353x500.png, https://forum.typst.app/uploads/default/optimized/2X/0/0ca06956a4244a94d9b884f633ce119a431821e5_2_529x750.png 1.5x, https://forum.typst.app/uploads/default/optimized/2X/0/0ca06956a4244a94d9b884f633ce119a431821e5_2_706x1000.png 2x\" data-dominant-color=\"FDFDFB\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">a</span><span class=\"informations\">1659×2346 49.4 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>",
      "raw": "Sorry, I realise I misspoke.\nWhen I said within the margin, I meant within the page (without going beyond the margins).\nHere's an image with what I'd like (what I do on LO Writer). The print margins are defined (at 1cm) and all the content: page or header does not exceed the margins.\n![a|353x500](upload://1NHpoHGiauTIxVbTfOWm2B43afj.png)",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 19,
      "score": 8.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1237
    },
    {
      "id": 8954,
      "post_number": 4,
      "username": "sijo",
      "name": "",
      "created_at": "2025-02-24T09:12:05.729Z",
      "updated_at": "2025-02-24T09:21:54.736Z",
      "cooked": "<p>Ah I see. And I suppose you want this header repeated automatically on every page?</p>\n<p>Then you could put your document body in a grid, and use a grid header (by default, if the grid takes more than one page the grid header is repeated on every page):</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set page(margin: 1cm, paper: \"a6\", numbering: \"1\")\n#let header = rect(width: 100%)[My Header]\n#show: doc =&gt; grid(\n  grid.header(header),\n  doc\n)\n#lorem(200)\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/8/8b4246d7b550667150560dbd636e7587b9f57bc1.png\" data-download-href=\"https://forum.typst.app/uploads/default/8b4246d7b550667150560dbd636e7587b9f57bc1\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/8/8b4246d7b550667150560dbd636e7587b9f57bc1_2_345x242.png\" alt=\"image\" data-base62-sha1=\"jRWmFtHqvk8DHu3qtCP95N773MZ\" width=\"345\" height=\"242\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/8/8b4246d7b550667150560dbd636e7587b9f57bc1_2_345x242.png, https://forum.typst.app/uploads/default/optimized/2X/8/8b4246d7b550667150560dbd636e7587b9f57bc1_2_517x363.png 1.5x, https://forum.typst.app/uploads/default/optimized/2X/8/8b4246d7b550667150560dbd636e7587b9f57bc1_2_690x484.png 2x\" data-dominant-color=\"F2F2F2\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">1050×738 148 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>But it’s not a general solution: there are things you cannot put in a grid (e.g. page breaks or page settings) so this would not work will all documents.</p>\n<p>Maybe best is to measure the header, and adapt the top margin to make sure you have the desired space above the header:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let margin = 1cm\n#let header = rect(height: 1.5em, width: 100%)[My Header]\n#set page(margin: margin, header: header, paper: \"a6\", numbering: \"1\")\n\n#show: doc =&gt; context {\n  let h-height = measure(header).height\n  set page(margin: (top: margin + h-height), header-ascent: 0pt)\n  doc\n}\n\n#lorem(200)\n</code></pre>\n<p>(I adapted a bit your question title, feel free to change it again if you find a better one.)</p>",
      "raw": "Ah I see. And I suppose you want this header repeated automatically on every page?\n\nThen you could put your document body in a grid, and use a grid header (by default, if the grid takes more than one page the grid header is repeated on every page):\n\n```typ\n#set page(margin: 1cm, paper: \"a6\", numbering: \"1\")\n#let header = rect(width: 100%)[My Header]\n#show: doc => grid(\n  grid.header(header),\n  doc\n)\n#lorem(200)\n```\n\n![image|690x484, 50%](upload://jRWmFtHqvk8DHu3qtCP95N773MZ.png)\n\nBut it's not a general solution: there are things you cannot put in a grid (e.g. page breaks or page settings) so this would not work will all documents.\n\nMaybe best is to measure the header, and adapt the top margin to make sure you have the desired space above the header:\n\n```typ\n#let margin = 1cm\n#let header = rect(height: 1.5em, width: 100%)[My Header]\n#set page(margin: margin, header: header, paper: \"a6\", numbering: \"1\")\n\n#show: doc => context {\n  let h-height = measure(header).height\n  set page(margin: (top: margin + h-height), header-ascent: 0pt)\n  doc\n}\n\n#lorem(200)\n```\n\n(I adapted a bit your question title, feel free to change it again if you find a better one.)",
      "reply_to_post_number": 3,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 18,
      "score": 58.6,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 332
    },
    {
      "id": 8956,
      "post_number": 5,
      "username": "ThisIs_Me",
      "name": "ThisIs Me",
      "created_at": "2025-02-24T09:59:46.422Z",
      "updated_at": "2025-02-24T09:59:46.422Z",
      "cooked": "<p>Thank you for such a detailed answer.<br>\nI thought there was a simpler solution.<br>\nThe default behaviour of Typst seems to me to be problematic when the height of the header is greater than the height of the top margin. But there must be subtleties that I don’t understand.<br>\nIn any case, as my header is always the same height, I’m going to manually increase the top margin by the height of my header.<br>\nThanks,</p>",
      "raw": "Thank you for such a detailed answer.\nI thought there was a simpler solution.\nThe default behaviour of Typst seems to me to be problematic when the height of the header is greater than the height of the top margin. But there must be subtleties that I don't understand.\nIn any case, as my header is always the same height, I'm going to manually increase the top margin by the height of my header.\nThanks,",
      "reply_to_post_number": null,
      "reply_count": 2,
      "quote_count": 0,
      "like_count": 0,
      "reads": 17,
      "score": 13.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1237
    },
    {
      "id": 8958,
      "post_number": 6,
      "username": "sijo",
      "name": "",
      "created_at": "2025-02-24T10:10:23.774Z",
      "updated_at": "2025-02-24T10:10:23.774Z",
      "cooked": "<blockquote>\n<p>The default behaviour of Typst seems to me to be problematic when the height of the header is greater than the height of the top margin.</p>\n</blockquote>\n<p>I think in this case we would just increase the size of the top margin. I’m not a typography expert but from what I know the header is supposed to be in the margin.</p>",
      "raw": "> The default behaviour of Typst seems to me to be problematic when the height of the header is greater than the height of the top margin. \n\nI think in this case we would just increase the size of the top margin. I'm not a typography expert but from what I know the header is supposed to be in the margin.",
      "reply_to_post_number": 5,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 17,
      "score": 8.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 332
    },
    {
      "id": 8962,
      "post_number": 7,
      "username": "sijo",
      "name": "",
      "created_at": "2025-02-24T11:27:10.493Z",
      "updated_at": "2025-02-24T11:27:10.493Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"ThisIs_Me\" data-post=\"5\" data-topic=\"2951\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/t/2C001E/48.png\" class=\"avatar\"> ThisIs_Me:</div>\n<blockquote>\n<p>I thought there was a simpler solution.</p>\n</blockquote>\n</aside>\n<p>I just realized my solution might be needlessly complicated. If you know the size of the header, it’s much simpler:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set page(\n  margin: (top: 3cm, rest: 1cm),\n  header: rect(height: 2cm, width: 100%)[My Header],\n  header-ascent: 0pt,\n)\n\n#lorem(200)\n</code></pre>",
      "raw": "[quote=\"ThisIs_Me, post:5, topic:2951\"]\nI thought there was a simpler solution.\n[/quote]\n\nI just realized my solution might be needlessly complicated. If you know the size of the header, it's much simpler:\n\n```typ\n#set page(\n  margin: (top: 3cm, rest: 1cm),\n  header: rect(height: 2cm, width: 100%)[My Header],\n  header-ascent: 0pt,\n)\n\n#lorem(200)\n```",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 1,
      "like_count": 0,
      "reads": 16,
      "score": 8.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 332
    }
  ],
  "scraped_at": "2025-06-10T09:51:17.568580"
}