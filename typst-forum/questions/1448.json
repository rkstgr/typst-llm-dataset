{
  "topic_metadata": {
    "id": 1448,
    "title": "How to get final state of a `state` type in typst v0.12?",
    "slug": "how-to-get-final-state-of-a-state-type-in-typst-v0-12",
    "posts_count": 6,
    "created_at": "2024-10-31T09:23:28.932Z",
    "last_posted_at": "2024-10-31T11:40:22.573Z",
    "views": 103,
    "like_count": 3,
    "reply_count": 4,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 4,
    "accepted_answer_username": "Myriad-Dreamin",
    "tags": [
      "scripting",
      "state"
    ],
    "category_id": 5,
    "participant_count": 4,
    "word_count": 201
  },
  "posts": [
    {
      "id": 4890,
      "post_number": 1,
      "username": "abcvav",
      "name": "abcvav",
      "created_at": "2024-10-31T09:23:29.138Z",
      "updated_at": "2024-10-31T09:54:51.426Z",
      "cooked": "<p>In typst official documentation of <code>state</code> <a href=\"https://typst.app/docs/reference/introspection/state/#definitions-final\">here</a> for the <code>.final()</code> method, it says: ‚ÄúThis argument is deprecated. It only exists for compatibility with Typst 0.10 and lower and shouldn‚Äôt be used anymore.‚Äù</p>\n<p>So how can I visit the final state if I don‚Äôt use <code>state.final()</code> method?</p>",
      "raw": "In typst official documentation of `state` [here](https://typst.app/docs/reference/introspection/state/#definitions-final) for the `.final()` method, it says: \"This argument is deprecated. It only exists for compatibility with Typst 0.10 and lower and shouldn't be used anymore.\" \n\nSo how can I visit the final state if I don't use `state.final()` method?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 31,
      "score": 371.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 714
    },
    {
      "id": 4891,
      "post_number": 2,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2024-10-31T09:36:47.781Z",
      "updated_at": "2024-10-31T09:36:47.781Z",
      "cooked": "<p>Hello <a class=\"mention\" href=\"/u/abcvav\">@abcvav</a>, the argument is deprecated. The function itself still exists.</p>",
      "raw": "Hello @abcvav, the argument is deprecated. The function itself still exists.",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 32,
      "score": 26.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 4893,
      "post_number": 3,
      "username": "abcvav",
      "name": "abcvav",
      "created_at": "2024-10-31T09:50:32.716Z",
      "updated_at": "2024-10-31T09:50:32.716Z",
      "cooked": "<p>Get it now, I misunderstood the document <img src=\"https://forum.typst.app/images/emoji/apple/smile.png?v=12\" title=\":smile:\" class=\"emoji\" alt=\":smile:\" loading=\"lazy\" width=\"20\" height=\"20\">. Thank you very much for your reply!</p>",
      "raw": "Get it now, I misunderstood the document üòÑ. Thank you very much for your reply!",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 33,
      "score": 11.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 714
    },
    {
      "id": 4894,
      "post_number": 4,
      "username": "Myriad-Dreamin",
      "name": "Myriad-Dreamin",
      "created_at": "2024-10-31T09:55:54.555Z",
      "updated_at": "2024-10-31T09:55:54.555Z",
      "cooked": "<p>In new typst, the correct way to perform contextual queries is using <code>context</code>, such as <code>context state.final()</code>. This is equivalent to <code>context state.final(here())</code>, replacing <code>locate(loc =&gt; state.final(loc))</code>.</p>\n<p>Each <code>context</code> expression has a unique <code>here()</code> location in the document and the location will be passed to contextual query functions implicitly, so you don‚Äôt have to pass them as arguments explicitly.</p>",
      "raw": "In new typst, the correct way to perform contextual queries is using `context`, such as `context state.final()`. This is equivalent to `context state.final(here())`, replacing `locate(loc => state.final(loc))`.\n\nEach `context` expression has a unique `here()` location in the document and the location will be passed to contextual query functions implicitly, so you don't have to pass them as arguments explicitly.",
      "reply_to_post_number": null,
      "reply_count": 2,
      "quote_count": 0,
      "like_count": 1,
      "reads": 32,
      "score": 31.4,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 20
    },
    {
      "id": 4897,
      "post_number": 6,
      "username": "abcvav",
      "name": "abcvav",
      "created_at": "2024-10-31T10:38:47.418Z",
      "updated_at": "2024-10-31T10:38:47.418Z",
      "cooked": "<p>Get it, thank you for your help! <img src=\"https://forum.typst.app/images/emoji/apple/smile.png?v=12\" title=\":smile:\" class=\"emoji\" alt=\":smile:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>",
      "raw": "Get it, thank you for your help! üòÑ",
      "reply_to_post_number": 4,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 31,
      "score": 6.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 714
    },
    {
      "id": 4901,
      "post_number": 7,
      "username": "laurmaedje",
      "name": "Laurenz M√§dje",
      "created_at": "2024-10-31T11:40:22.573Z",
      "updated_at": "2024-10-31T11:40:22.573Z",
      "cooked": "<p>To add to that: In the case of final(), it didn‚Äôt even make use of the location (in contrast to get) since it is not dependent on where it is called. It just needed to ensure that it‚Äôs only usable within a locate.</p>",
      "raw": "To add to that: In the case of final(), it didn't even make use of the location (in contrast to get) since it is not dependent on where it is called. It just needed to ensure that it's only usable within a locate.",
      "reply_to_post_number": 4,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 29,
      "score": 5.8,
      "accepted_answer": false,
      "trust_level": 4,
      "user_id": 2
    }
  ],
  "scraped_at": "2025-06-10T09:55:42.642915"
}