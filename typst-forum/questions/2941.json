{
  "topic_metadata": {
    "id": 2941,
    "title": "How can I create a specific heading styles for appendix in template?",
    "slug": "how-can-i-create-a-specific-heading-styles-for-appendix-in-template",
    "posts_count": 7,
    "created_at": "2025-02-23T16:42:26.898Z",
    "last_posted_at": "2025-02-24T08:46:05.354Z",
    "views": 253,
    "like_count": 0,
    "reply_count": 3,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 6,
    "accepted_answer_username": "janekfleper",
    "tags": [
      "layout"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 647
  },
  "posts": [
    {
      "id": 8923,
      "post_number": 1,
      "username": "Antoine_CHUPIN",
      "name": "Antoine CHUPIN",
      "created_at": "2025-02-23T16:42:27.044Z",
      "updated_at": "2025-03-07T20:47:38.083Z",
      "cooked": "<p>Hello,</p>\n<p>I try to format my document as consistently as possible. So I use a template file defining most of my layout.<br>\nI would like to use on single template for the main file even if all functions are not used.<br>\nFor example I would like to create in my template an “appendix” style used to style the appendix titles differently than the main titles if some appendix titles are used.</p>\n<p>i tried to create a specific styling in my template without success. The only thing I have been able to do is to create a different numbering using:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let appendix(body) = {\n  set heading(numbering: \"A.1 :\", supplement: [Annexe])\n  counter(heading).update(0)\n  body\n}\n\n #show: appendix\n</code></pre>\n<p>But directly in my main file whcih is not what I want to do.</p>\n<p>I also tried t do something like that in my template</p>\n<pre data-code-wrap=\"typc\"><code class=\"lang-typc\">// Appendix Pages\nlet appendix(title) = {\n  align(center)[    *#title*  ]\n  line(length: 100%, stroke: 1pt)\n  v(1em)\n} \n</code></pre>\n<p>With no success either.</p>\n<p>I refered to the doc but I guess I am misunderstooding something.</p>\n<p>Thanks</p>",
      "raw": "Hello,\n\nI try to format my document as consistently as possible. So I use a template file defining most of my layout.\nI would like to use on single template for the main file even if all functions are not used.\nFor example I would like to create in my template an \"appendix\" style used to style the appendix titles differently than the main titles if some appendix titles are used. \n\ni tried to create a specific styling in my template without success. The only thing I have been able to do is to create a different numbering using: \n\n```typ \n#let appendix(body) = {\n  set heading(numbering: \"A.1 :\", supplement: [Annexe])\n  counter(heading).update(0)\n  body\n}\n\n #show: appendix\n ```\n\nBut directly in my main file whcih is not what I want to do.\n\nI also tried t do something like that in my template \n\n```typc\n// Appendix Pages\nlet appendix(title) = {\n  align(center)[    *#title*  ]\n  line(length: 100%, stroke: 1pt)\n  v(1em)\n} \n```\n\nWith no success either. \n\nI refered to the doc but I guess I am misunderstooding something.\n\nThanks",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 41,
      "score": 1153.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1231
    },
    {
      "id": 8926,
      "post_number": 2,
      "username": "janekfleper",
      "name": "Janek Fleper",
      "created_at": "2025-02-23T17:43:01.816Z",
      "updated_at": "2025-02-23T17:43:01.816Z",
      "cooked": "<p>You can use a show rule inside your appendix template to change the heading style. The code snippet below will center the heading title and add a line + the vertical space below the title.</p>\n<p>You can move the two functions to your template file, only the actual show rule to “activate” the appendix needs to be in your main file.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let appendix-heading(it) = {\n  set align(center)\n  it\n  line(length: 100%, stroke: 1pt)\n  v(1em)\n}\n\n#let appendix(body) = {\n  set heading(numbering: \"A.1 :\", supplement: [Annexe])\n  show heading: appendix-heading\n  counter(heading).update(0)\n  body\n}\n</code></pre>",
      "raw": "You can use a show rule inside your appendix template to change the heading style. The code snippet below will center the heading title and add a line + the vertical space below the title.\n\nYou can move the two functions to your template file, only the actual show rule to \"activate\" the appendix needs to be in your main file.\n\n```typ\n#let appendix-heading(it) = {\n  set align(center)\n  it\n  line(length: 100%, stroke: 1pt)\n  v(1em)\n}\n\n#let appendix(body) = {\n  set heading(numbering: \"A.1 :\", supplement: [Annexe])\n  show heading: appendix-heading\n  counter(heading).update(0)\n  body\n}\n```",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 37,
      "score": 32.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 69
    },
    {
      "id": 8932,
      "post_number": 3,
      "username": "Antoine_CHUPIN",
      "name": "Antoine CHUPIN",
      "created_at": "2025-02-23T20:47:41.123Z",
      "updated_at": "2025-03-07T20:49:01.142Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"janekfleper\" data-post=\"2\" data-topic=\"2941\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/j/8F38B1/48.png\" class=\"avatar\"> janekfleper:</div>\n<blockquote>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let appendix-heading(it) = {\n  set align(center)\n  it\n  line(length: 100%, stroke: 1pt)\n  v(1em)\n}\n</code></pre>\n</blockquote>\n</aside>\n<p>Thanks for your answer : I tried to add in my template.py</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">\n// Appendix Pages\nlet appendix-heading(it) = {\n  set align(center)\n  it\n  line(length: 100%, stroke: 1pt)\n  v(1em)\n}\n\n</code></pre>\n<p>And in my main report file :</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">\n#show appendix-heading(\"test-appendix\")\n\n</code></pre>\n<p>But I have an error “expected column” just after the show</p>\n<p>When I type <span class=\"hashtag-raw\">#show</span> eit suggests éppendix-heading\" so I guess the template file is parsed corrctly but my calls must be wrong</p>",
      "raw": "[quote=\"janekfleper, post:2, topic:2941\"]\n```typ\n#let appendix-heading(it) = {\n  set align(center)\n  it\n  line(length: 100%, stroke: 1pt)\n  v(1em)\n}\n```\n[/quote]\n\nThanks for your answer : I tried to add in my template.py\n\n```typ\n\n// Appendix Pages\nlet appendix-heading(it) = {\n  set align(center)\n  it\n  line(length: 100%, stroke: 1pt)\n  v(1em)\n}\n\n```\n\n\nAnd in my main report file :\n\n```typ\n\n#show appendix-heading(\"test-appendix\")\n\n```\n\nBut I have an error \"expected column\" just after the show\n\nWhen I type #show eit suggests éppendix-heading\" so I guess the template file is parsed corrctly but my calls must be wrong",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 1,
      "like_count": 0,
      "reads": 33,
      "score": 31.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1231
    },
    {
      "id": 8933,
      "post_number": 4,
      "username": "janekfleper",
      "name": "Janek Fleper",
      "created_at": "2025-02-23T21:10:14.995Z",
      "updated_at": "2025-02-23T21:10:14.995Z",
      "cooked": "<p>The function <code>appendix-heading()</code> is the custom function to put inside your show rule for headings. You are not supposed to pass a string to the function to create a new heading. Just create your heading with the regular Typst syntax and the compiler will apply the show rule for you.</p>\n<p>Instead of</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show appendix-heading(\"test-appendix\")\n</code></pre>\n<p>try to write</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show heading: appendix-heading\n= Test appendix\n</code></pre>\n<p>and the show rule will be applied to the heading <code>\"Test appendix\"</code>.</p>",
      "raw": "The function `appendix-heading()` is the custom function to put inside your show rule for headings. You are not supposed to pass a string to the function to create a new heading. Just create your heading with the regular Typst syntax and the compiler will apply the show rule for you.\n\nInstead of\n\n```typ\n#show appendix-heading(\"test-appendix\")\n```\n\ntry to write\n\n```typ\n#show heading: appendix-heading\n= Test appendix\n```\n\nand the show rule will be applied to the heading `\"Test appendix\"`.",
      "reply_to_post_number": 3,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 30,
      "score": 26.0,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 69
    },
    {
      "id": 8934,
      "post_number": 5,
      "username": "Antoine_CHUPIN",
      "name": "Antoine CHUPIN",
      "created_at": "2025-02-23T21:46:50.031Z",
      "updated_at": "2025-02-23T21:46:50.031Z",
      "cooked": "<p>Thanks this syntax works if the <span class=\"hashtag-raw\">#let</span> function and the <span class=\"hashtag-raw\">#show</span> are in the same document.</p>\n<p>If I keep the <span class=\"hashtag-raw\">#let</span> in my template<br>\nAnd put only the <span class=\"hashtag-raw\">#show</span> in the main document I have an error :</p>\n<p>error: unknown variable: appendix-heading</p>",
      "raw": "Thanks this syntax works if the #let function and the #show are in the same document.\n\nIf I keep the #let in my template\nAnd put only the #show in the main document I have an error :\n\nerror: unknown variable: appendix-heading",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 27,
      "score": 65.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1231
    },
    {
      "id": 8935,
      "post_number": 6,
      "username": "janekfleper",
      "name": "Janek Fleper",
      "created_at": "2025-02-23T22:31:28.854Z",
      "updated_at": "2025-02-23T22:31:28.854Z",
      "cooked": "<p>That sounds like you are just not importing the function <code>appendix-heading()</code> from your <code>template.typ</code> file?</p>\n<p>I created a minimal working example <a href=\"https://typst.app/project/rrwKqfWQ4vTsFOM1VsGBXh\">here</a>. The file <code>template.typ</code> also has the <code>appendix()</code> function. You can use that in place of the lines 13 to 15 in <code>main.typ</code> after importing it from <code>template.typ</code>. In that case you do not need to import <code>appendix-heading()</code> anymore since this is already “included” in the function <code>appendix()</code>.</p>",
      "raw": "That sounds like you are just not importing the function `appendix-heading()` from your `template.typ` file?\n\nI created a minimal working example [here](https://typst.app/project/rrwKqfWQ4vTsFOM1VsGBXh). The file `template.typ` also has the `appendix()` function. You can use that in place of the lines 13 to 15 in `main.typ` after importing it from `template.typ`. In that case you do not need to import `appendix-heading()` anymore since this is already \"included\" in the function `appendix()`.",
      "reply_to_post_number": 5,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 24,
      "score": 69.8,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 69
    },
    {
      "id": 8950,
      "post_number": 7,
      "username": "Antoine_CHUPIN",
      "name": "Antoine CHUPIN",
      "created_at": "2025-02-24T08:46:05.354Z",
      "updated_at": "2025-03-07T20:49:58.036Z",
      "cooked": "<p>Thanks, It works great.</p>\n<p>I was inserting your template functions inside my project function.<br>\nSo without the # before the let.</p>\n<p>It did not work that way, if I put it outsie the project with the # it worked.</p>\n<p>I guess there is still something not clear to me as I do not understand how the function</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let appendix(body) = {\n</code></pre>\n<p>Is imported. I still do some more tests but you cleraly helped to solve the issue.</p>",
      "raw": "Thanks, It works great.\n\nI was inserting your template functions inside my project function.\nSo without the # before the let.\n\nIt did not work that way, if I put it outsie the project with the # it worked.\n\nI guess there is still something not clear to me as I do not understand how the function\n\n```typ\n#let appendix(body) = {\n````\nIs imported. I still do some more tests but you cleraly helped to solve the issue.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 20,
      "score": 9.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 1231
    }
  ],
  "scraped_at": "2025-06-10T09:51:19.719233"
}