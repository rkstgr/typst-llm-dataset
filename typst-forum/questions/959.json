{
  "topic_metadata": {
    "id": 959,
    "title": "How to show figure numbering prefix when referencing the figure?",
    "slug": "how-to-show-figure-numbering-prefix-when-referencing-the-figure",
    "posts_count": 4,
    "created_at": "2024-10-06T09:39:40.960Z",
    "last_posted_at": "2024-10-06T22:44:56.486Z",
    "views": 288,
    "like_count": 1,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "mkorje",
    "tags": [
      "numbering",
      "figures"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 201
  },
  "posts": [
    {
      "id": 3481,
      "post_number": 1,
      "username": "Peter",
      "name": "Peter",
      "created_at": "2024-10-06T09:39:41.263Z",
      "updated_at": "2024-10-10T15:43:58.038Z",
      "cooked": "<p>Hi!</p>\n<p>I want to have a prefix for the numbering of my figures and tables in the Supplementary Material (i.e. appendix) at the end of my manuscript. This seemed simple enough given the <code>numbering</code> parameter in figure supporting prefixes. However, the prefix only shows up in the figure label and not in the reference.</p>\n<p>Have I missed something or is this a bug?</p>\n<p>Minimal example:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set figure(numbering: \"S1\")\n\n@figure\n\n#figure(\n  box[Figure],\n  caption: [This is a figure.],\n) &lt;figure&gt;\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/1X/edf31b20d9c70a61b66000152ad88587f2e975c6.png\" data-download-href=\"https://forum.typst.app/uploads/default/edf31b20d9c70a61b66000152ad88587f2e975c6\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/1X/edf31b20d9c70a61b66000152ad88587f2e975c6_2_690x184.png\" alt=\"image\" data-base62-sha1=\"xX00Mzhtdky7kWdg8ZvMMCukjZQ\" width=\"690\" height=\"184\" srcset=\"https://forum.typst.app/uploads/default/optimized/1X/edf31b20d9c70a61b66000152ad88587f2e975c6_2_690x184.png, https://forum.typst.app/uploads/default/optimized/1X/edf31b20d9c70a61b66000152ad88587f2e975c6_2_1035x276.png 1.5x, https://forum.typst.app/uploads/default/original/1X/edf31b20d9c70a61b66000152ad88587f2e975c6.png 2x\" data-dominant-color=\"FCFCFC\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">1269×340 18.8 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>Expected output for the reference “Figure S1”.</p>",
      "raw": "Hi!\n\nI want to have a prefix for the numbering of my figures and tables in the Supplementary Material (i.e. appendix) at the end of my manuscript. This seemed simple enough given the `numbering` parameter in figure supporting prefixes. However, the prefix only shows up in the figure label and not in the reference.\n\nHave I missed something or is this a bug?\n\nMinimal example:\n\n```typ\n#set figure(numbering: \"S1\")\n\n@figure\n\n#figure(\n  box[Figure],\n  caption: [This is a figure.],\n) <figure>\n```\n\n![image|690x184](upload://xX00Mzhtdky7kWdg8ZvMMCukjZQ.png)\n\nExpected output for the reference \"Figure S1\".",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 46,
      "score": 1079.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 549
    },
    {
      "id": 3494,
      "post_number": 2,
      "username": "mkorje",
      "name": "Max",
      "created_at": "2024-10-06T09:51:20.241Z",
      "updated_at": "2024-10-06T09:52:20.571Z",
      "cooked": "<p>This is indeed a bug. You’ve ran into <a href=\"https://github.com/typst/typst/issues/3089\" class=\"inline-onebox\" rel=\"noopener nofollow ugc\">Reference does not render custom Figure numbering · Issue #3089 · typst/typst · GitHub</a>. Typst currently trims some of the numbering when you reference something.</p>",
      "raw": "This is indeed a bug. You've ran into https://github.com/typst/typst/issues/3089. Typst currently trims some of the numbering when you reference something.",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 43,
      "score": 33.6,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 76
    },
    {
      "id": 3498,
      "post_number": 3,
      "username": "Peter",
      "name": "Peter",
      "created_at": "2024-10-06T11:16:03.923Z",
      "updated_at": "2024-10-06T11:16:03.923Z",
      "cooked": "<p>Ah, I missed that somehow when looking through the issues. Thank you! For anyone else wondering, the fix is to replace:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set figure(numbering: \"S1\")\n</code></pre>\n<p>with:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set figure(numbering: n =&gt; [S#n])\n</code></pre>",
      "raw": "Ah, I missed that somehow when looking through the issues. Thank you! For anyone else wondering, the fix is to replace:\n\n```typ\n#set figure(numbering: \"S1\")\n```\nwith:\n\n```typ\n#set figure(numbering: n => [S#n])\n```",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 42,
      "score": 8.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 549
    },
    {
      "id": 3510,
      "post_number": 4,
      "username": "PgBiel",
      "name": "",
      "created_at": "2024-10-06T22:44:56.486Z",
      "updated_at": "2024-10-06T22:44:56.486Z",
      "cooked": "<p>Hey <a class=\"mention\" href=\"/u/peter\">@Peter</a>, welcome to the forum! I’ve updated your post’s title to better suit our guidelines: <a href=\"https://forum.typst.app/t/how-to-post-in-the-questions-category/11\" class=\"inline-onebox\">How to post in the Questions category</a></p>\n<p>Make sure the title is a question you’d ask to a friend about Typst. <img src=\"https://forum.typst.app/images/emoji/apple/wink.png?v=12\" title=\":wink:\" class=\"emoji\" alt=\":wink:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>",
      "raw": "Hey @Peter, welcome to the forum! I've updated your post's title to better suit our guidelines: https://forum.typst.app/t/how-to-post-in-the-questions-category/11\n\nMake sure the title is a question you'd ask to a friend about Typst. :wink:",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 32,
      "score": 56.4,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 3
    }
  ],
  "scraped_at": "2025-06-10T09:57:16.824098"
}