{
  "topic_metadata": {
    "id": 2954,
    "title": "What exactly are the colors of the default color scheme for syntax highlighting?",
    "slug": "what-exactly-are-the-colors-of-the-default-color-scheme-for-syntax-highlighting",
    "posts_count": 6,
    "created_at": "2025-02-24T11:54:18.891Z",
    "last_posted_at": "2025-03-09T13:56:13.200Z",
    "views": 160,
    "like_count": 4,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 4,
    "accepted_answer_username": "matj1",
    "tags": [],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 448
  },
  "posts": [
    {
      "id": 8964,
      "post_number": 1,
      "username": "matj1",
      "name": "",
      "created_at": "2025-02-24T11:54:19.019Z",
      "updated_at": "2025-02-24T11:54:19.019Z",
      "cooked": "<p>I use syntax highlighting for Rust in raw blocks. I would like to use the colors of the highlighting elsewhere, like in math pseudocode or refering to a specific point in the code. I use the default color scheme. Where can I find the exact colors of the color scheme?</p>\n<h2><a name=\"p-8964-example-1\" class=\"anchor\" href=\"#p-8964-example-1\"></a>Example</h2>\n<p>I would like to replicate syntax highlighting in math notation. The function call of <code>sqrt</code> is supposed to have the same color as the blue text in the code, and specifying just “blue” as the color of the operator results in a slightly different color, which is undesirable.</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">```rust\nfn sqrt(val: f32) -&gt; f32 {\n    val.sqrt() }\n```\n\nComputing the magnitude of the vector $v$ which is $[2, 3, 6]$:\n$\n  op(#{set text(color.blue); `sqrt`})(sum_(x in v) x^2) = 7\n$\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/c/c2b06272e96da64f448d8511f469ba5ccfffded9.png\" data-download-href=\"https://forum.typst.app/uploads/default/c2b06272e96da64f448d8511f469ba5ccfffded9\" title=\"rendering of the code above\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/c/c2b06272e96da64f448d8511f469ba5ccfffded9_2_662x500.png\" alt=\"rendering of the code above\" data-base62-sha1=\"rMiwWV17ozZFK63vuJHBJHJ2Ws9\" width=\"662\" height=\"500\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/c/c2b06272e96da64f448d8511f469ba5ccfffded9_2_662x500.png, https://forum.typst.app/uploads/default/original/2X/c/c2b06272e96da64f448d8511f469ba5ccfffded9.png 1.5x, https://forum.typst.app/uploads/default/original/2X/c/c2b06272e96da64f448d8511f469ba5ccfffded9.png 2x\" data-dominant-color=\"F5F4F5\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">rendering of the code above</span><span class=\"informations\">692×522 86.2 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>",
      "raw": "I use syntax highlighting for Rust in raw blocks. I would like to use the colors of the highlighting elsewhere, like in math pseudocode or refering to a specific point in the code. I use the default color scheme. Where can I find the exact colors of the color scheme?\n\n## Example\n\nI would like to replicate syntax highlighting in math notation. The function call of `sqrt` is supposed to have the same color as the blue text in the code, and specifying just “blue” as the color of the operator results in a slightly different color, which is undesirable.\n\n````typst\n```rust\nfn sqrt(val: f32) -> f32 {\n    val.sqrt() }\n```\n\nComputing the magnitude of the vector $v$ which is $[2, 3, 6]$:\n$\n  op(#{set text(color.blue); `sqrt`})(sum_(x in v) x^2) = 7\n$\n````\n\n![rendering of the code above|662x500](upload://rMiwWV17ozZFK63vuJHBJHJ2Ws9.png)",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 33,
      "score": 431.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 524
    },
    {
      "id": 8966,
      "post_number": 2,
      "username": "Electron_Wizard",
      "name": "Electron Wizard",
      "created_at": "2025-02-24T12:26:48.923Z",
      "updated_at": "2025-02-24T12:26:48.923Z",
      "cooked": "<p>The simplest and most unflexible way is to color-pick the raw block (from a screenshot) and then replace <code>color.blue</code> with <code>rgb(\"#XXXXXX\")</code> or create a variable with the color assigned.</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#let blueish = rgb(\"#4C6AC6\")\n\n```rust\nfn sqrt(val: f32) -&gt; f32 {\n    val.sqrt() }\n```\n\nComputing the magnitude of the vector $v$ which is $[2, 3, 6]$:\n$\n  op(#{set text(blueish); `sqrt`})(sum_(x in v) x^2) = 7\n$\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/d/dca5aae45ee4eb4decf136fd62502378f8e462ef.png\" data-download-href=\"https://forum.typst.app/uploads/default/dca5aae45ee4eb4decf136fd62502378f8e462ef\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/d/dca5aae45ee4eb4decf136fd62502378f8e462ef_2_690x224.png\" alt=\"image\" data-base62-sha1=\"vtVZ2JmHUh0C6pmrsgM6jpl6UhN\" width=\"690\" height=\"224\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/d/dca5aae45ee4eb4decf136fd62502378f8e462ef_2_690x224.png, https://forum.typst.app/uploads/default/original/2X/d/dca5aae45ee4eb4decf136fd62502378f8e462ef.png 1.5x, https://forum.typst.app/uploads/default/original/2X/d/dca5aae45ee4eb4decf136fd62502378f8e462ef.png 2x\" data-dominant-color=\"F7F7F7\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">1010×328 31.1 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>The issue with this solution is the lack of automatic updating when the raw block theme is changed. If you work with variables, this will make it easier, but might still require too much effort.</p>\n<p>I think, this is definitely not <strong>THE</strong> solution…</p>",
      "raw": "The simplest and most unflexible way is to color-pick the raw block (from a screenshot) and then replace `color.blue` with `rgb(\"#XXXXXX\")` or create a variable with the color assigned.\n\n````typst\n#let blueish = rgb(\"#4C6AC6\")\n\n```rust\nfn sqrt(val: f32) -> f32 {\n    val.sqrt() }\n```\n\nComputing the magnitude of the vector $v$ which is $[2, 3, 6]$:\n$\n  op(#{set text(blueish); `sqrt`})(sum_(x in v) x^2) = 7\n$\n```` \n\n![image|690x224](upload://vtVZ2JmHUh0C6pmrsgM6jpl6UhN.png)\n\n\nThe issue with this solution is the lack of automatic updating when the raw block theme is changed. If you work with variables, this will make it easier, but might still require too much effort. \n\nI think, this is definitely not **THE** solution...",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 32,
      "score": 6.4,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 997
    },
    {
      "id": 8967,
      "post_number": 3,
      "username": "matj1",
      "name": "",
      "created_at": "2025-02-24T12:35:13.810Z",
      "updated_at": "2025-02-24T12:35:13.810Z",
      "cooked": "<p>Thanks. That is a solution, and I imagined something like that, but I expected that someone would point me to a place in the source code where the color scheme is defined. Your solution would be probably indistinguishable, but having the same definitions would be better if the colors are not defined as RGB.</p>",
      "raw": "Thanks. That is a solution, and I imagined something like that, but I expected that someone would point me to a place in the source code where the color scheme is defined. Your solution would be probably indistinguishable, but having the same definitions would be better if the colors are not defined as RGB.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 32,
      "score": 6.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 524
    },
    {
      "id": 8969,
      "post_number": 4,
      "username": "matj1",
      "name": "",
      "created_at": "2025-02-24T12:45:24.365Z",
      "updated_at": "2025-02-24T12:45:24.365Z",
      "cooked": "<p>According to my discussion on Discord, the color scheme definition is here:</p><aside class=\"onebox githubblob\" data-onebox-src=\"https://github.com/typst/typst/blob/ebe25432641a729780578a2440eaf9fb07c80e38/crates/typst-library/src/text/raw.rs#L880\">\n  <header class=\"source\">\n\n      <a href=\"https://github.com/typst/typst/blob/ebe25432641a729780578a2440eaf9fb07c80e38/crates/typst-library/src/text/raw.rs#L880\" target=\"_blank\" rel=\"noopener nofollow ugc\">github.com</a>\n  </header>\n\n  <article class=\"onebox-body\">\n    <h4><a href=\"https://github.com/typst/typst/blob/ebe25432641a729780578a2440eaf9fb07c80e38/crates/typst-library/src/text/raw.rs#L880\" target=\"_blank\" rel=\"noopener nofollow ugc\">typst/typst/blob/ebe25432641a729780578a2440eaf9fb07c80e38/crates/typst-library/src/text/raw.rs#L880</a></h4>\n\n\n\n    <pre class=\"onebox\"><code class=\"lang-rs\">\n      <ol class=\"start lines\" start=\"870\" style=\"counter-reset: li-counter 869 ;\">\n          <li>}</li>\n          <li></li>\n          <li>/// The syntect syntax definitions.</li>\n          <li>///</li>\n          <li>/// Syntax set is generated from the syntaxes from the `bat` project</li>\n          <li>/// &lt;https://github.com/sharkdp/bat/tree/master/assets/syntaxes&gt;</li>\n          <li>pub static RAW_SYNTAXES: LazyLock&lt;syntect::parsing::SyntaxSet&gt; =</li>\n          <li>    LazyLock::new(two_face::syntax::extra_no_newlines);</li>\n          <li></li>\n          <li>/// The default theme used for syntax highlighting.</li>\n          <li class=\"selected\">pub static RAW_THEME: LazyLock&lt;synt::Theme&gt; = LazyLock::new(|| synt::Theme {</li>\n          <li>    name: Some(\"Typst Light\".into()),</li>\n          <li>    author: Some(\"The Typst Project Developers\".into()),</li>\n          <li>    settings: synt::ThemeSettings::default(),</li>\n          <li>    scopes: vec![</li>\n          <li>        item(\"comment\", Some(\"#8a8a8a\"), None),</li>\n          <li>        item(\"constant.character.escape\", Some(\"#1d6c76\"), None),</li>\n          <li>        item(\"markup.bold\", None, Some(synt::FontStyle::BOLD)),</li>\n          <li>        item(\"markup.italic\", None, Some(synt::FontStyle::ITALIC)),</li>\n          <li>        item(\"markup.underline\", None, Some(synt::FontStyle::UNDERLINE)),</li>\n          <li>        item(\"markup.raw\", Some(\"#818181\"), None),</li>\n      </ol>\n    </code></pre>\n\n\n\n  </article>\n\n  <div class=\"onebox-metadata\">\n    \n    \n  </div>\n\n  <div style=\"clear: both\"></div>\n</aside>\n\n<p>So, in the example above, the color is supposed to be <span class=\"hashtag-raw\">#4b69c6</span></p>",
      "raw": "According to my discussion on Discord, the color scheme definition is here:\nhttps://github.com/typst/typst/blob/ebe25432641a729780578a2440eaf9fb07c80e38/crates/typst-library/src/text/raw.rs#L880\n\nSo, in the example above, the color is supposed to be #4b69c6",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 3,
      "reads": 32,
      "score": 76.4,
      "accepted_answer": true,
      "trust_level": 1,
      "user_id": 524
    },
    {
      "id": 9378,
      "post_number": 5,
      "username": "Electron_Wizard",
      "name": "Electron Wizard",
      "created_at": "2025-03-04T14:56:09.370Z",
      "updated_at": "2025-03-04T14:56:09.370Z",
      "cooked": "<p>Ooh neat! Thank you for taking the time!</p>",
      "raw": "Ooh neat! Thank you for taking the time!",
      "reply_to_post_number": 4,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 25,
      "score": 5.0,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 997
    },
    {
      "id": 9518,
      "post_number": 6,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2025-03-09T13:56:13.200Z",
      "updated_at": "2025-03-09T13:56:13.200Z",
      "cooked": "<p>Another approach would be to use the built-in Syntax highlighting. First of all, inline code blocks also support syntax highlighting: <code>```rust x.sqrt()```</code></p>\n<p>Sadly, writing <code>```rust sqrt```</code> won’t work because it’s not detected as a function. We can fix that by adding <code>(</code> and then hiding it again:</p>\n<pre data-code-wrap=\"typc\"><code class=\"lang-typc\">show \"(\": none\n```rust sqrt(```\n</code></pre>\n<p>As a complete example, we could define a function <code>rawop</code> like this:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let rawop(name) = {\n  show \"(\": none\n  math.op(raw(lang: \"rust\", name + \"(\"))\n}\n\n$\n  rawop(\"sqrt\")(sum_(x in v) x^2) = 7\n$\n</code></pre>",
      "raw": "Another approach would be to use the built-in Syntax highlighting. First of all, inline code blocks also support syntax highlighting: ` ```rust x.sqrt()``` `\n\nSadly, writing ` ```rust sqrt``` ` won't work because it's not detected as a function. We can fix that by adding `(` and then hiding it again:\n```typc\nshow \"(\": none\n```rust sqrt(```\n```\nAs a complete example, we could define a function `rawop` like this:\n```typ\n#let rawop(name) = {\n  show \"(\": none\n  math.op(raw(lang: \"rust\", name + \"(\"))\n}\n\n$\n  rawop(\"sqrt\")(sum_(x in v) x^2) = 7\n$\n```",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 15,
      "score": 18.0,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 32
    }
  ],
  "scraped_at": "2025-06-10T09:51:16.818303"
}