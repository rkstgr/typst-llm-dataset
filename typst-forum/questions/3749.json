{
  "topic_metadata": {
    "id": 3749,
    "title": "How to get a footer with alternating alignment and custom text per page?",
    "slug": "how-to-get-a-footer-with-alternating-alignment-and-custom-text-per-page",
    "posts_count": 11,
    "created_at": "2025-04-21T18:56:39.831Z",
    "last_posted_at": "2025-04-22T21:50:48.441Z",
    "views": 112,
    "like_count": 6,
    "reply_count": 6,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 8,
    "accepted_answer_username": "vmartel08",
    "tags": [
      "layout"
    ],
    "category_id": 5,
    "participant_count": 4,
    "word_count": 1001
  },
  "posts": [
    {
      "id": 11408,
      "post_number": 1,
      "username": "Olaf",
      "name": "Olaf",
      "created_at": "2025-04-21T18:56:40.101Z",
      "updated_at": "2025-04-22T06:22:50.034Z",
      "cooked": "<p>I would like to have a footer in my document. The footer should consist of a text and the page number, separated by a pipe symbol. On odd-numbered pages, the page number should be on the right side, and the entire footer should be right-aligned. For example:</p>\n<pre><code class=\"lang-plaintext\">         lorem ipsum | 45\n</code></pre>\n<p>On even-numbered pages, the footer should be left-aligned, and the page number should be on the left:</p>\n<pre><code class=\"lang-plaintext\">46 | lorem ipsum\n</code></pre>\n<p>I would like to set the displayed text differently on each page.</p>",
      "raw": "I would like to have a footer in my document. The footer should consist of a text and the page number, separated by a pipe symbol. On odd-numbered pages, the page number should be on the right side, and the entire footer should be right-aligned. For example:\n\n```plain\n         lorem ipsum | 45\n```                  \n\nOn even-numbered pages, the footer should be left-aligned, and the page number should be on the left:\n\n```plain\n46 | lorem ipsum\n```\n\nI would like to set the displayed text differently on each page.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 25,
      "score": 140.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 418
    },
    {
      "id": 11412,
      "post_number": 2,
      "username": "aarnent",
      "name": "",
      "created_at": "2025-04-21T20:32:13.887Z",
      "updated_at": "2025-04-21T20:33:55.079Z",
      "cooked": "<p>You can set the <code>footer</code> to be a contextual expression and check for page parity manually, for example:</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#set page(\n  footer: context {\n    let val = counter(page).get().first()\n    if calc.even(val) [\n      #counter(page).display(\"1\") | #lorem(2)\n    ]\n    else [\n      #h(1fr) #lorem(4).slice(12, -1) | #counter(page).display(\"1\")\n    ]\n  },\n)\n</code></pre>",
      "raw": "You can set the `footer` to be a contextual expression and check for page parity manually, for example:\n\n```typst\n#set page(\n  footer: context {\n    let val = counter(page).get().first()\n    if calc.even(val) [\n      #counter(page).display(\"1\") | #lorem(2)\n    ]\n    else [\n      #h(1fr) #lorem(4).slice(12, -1) | #counter(page).display(\"1\")\n    ]\n  },\n)\n```",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 25,
      "score": 10.0,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 501
    },
    {
      "id": 11413,
      "post_number": 3,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-21T21:51:08.733Z",
      "updated_at": "2025-04-21T21:51:08.733Z",
      "cooked": "<p>Sounds like a duplicate of <a href=\"https://forum.typst.app/t/how-to-combine-the-title-of-the-document-with-the-page-counter-in-the-footer/3496/7\" class=\"inline-onebox\">How to combine the title of the document with the page counter in the footer - #7 by sijo</a>, even though the main topic and solution are different. The question uses the same problem.</p>",
      "raw": "Sounds like a duplicate of https://forum.typst.app/t/how-to-combine-the-title-of-the-document-with-the-page-counter-in-the-footer/3496/7?u=andrew, even though the main topic and solution are different. The question uses the same problem.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 24,
      "score": 19.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 11414,
      "post_number": 4,
      "username": "Olaf",
      "name": "Olaf",
      "created_at": "2025-04-21T22:22:40.333Z",
      "updated_at": "2025-04-21T22:22:40.333Z",
      "cooked": "<p>Thank you very much for your answer. It solves one half of my problem. The other part is that I want to place an additional text next to the page number. I would like to be able to redefine this text per page.</p>",
      "raw": "Thank you very much for your answer. It solves one half of my problem. The other part is that I want to place an additional text next to the page number. I would like to be able to redefine this text per page.",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 24,
      "score": 9.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 418
    },
    {
      "id": 11415,
      "post_number": 5,
      "username": "vmartel08",
      "name": "Vincent Martel",
      "created_at": "2025-04-21T22:40:50.113Z",
      "updated_at": "2025-04-21T22:53:06.158Z",
      "cooked": "<p><a class=\"mention\" href=\"/u/olaf\">@Olaf</a> , is the text to set next to the page number a heading? Where is it coming from? Do you have an example to work with?</p>\n<p>Perhaps have a look at the Typst documentation to give you some ideas? Some hints: <a href=\"https://forum.typst.app/t/how-to-use-a-double-sided-document-layout/3743/2\" class=\"inline-onebox\">How to use a double-sided document layout? - #2 by vmartel08</a></p>\n<p>Both <a href=\"https://typst.app/universe/package/hydra\">hydra</a> and <a href=\"https://typst.app/universe/package/chic-hdr\">chic-hdr</a> packages may be doing what you are looking for.</p>",
      "raw": "@Olaf , is the text to set next to the page number a heading? Where is it coming from? Do you have an example to work with?\n\nPerhaps have a look at the Typst documentation to give you some ideas? Some hints: https://forum.typst.app/t/how-to-use-a-double-sided-document-layout/3743/2?u=vmartel08\n\nBoth [hydra](https://typst.app/universe/package/hydra) and [chic-hdr](https://typst.app/universe/package/chic-hdr) packages may be doing what you are looking for.",
      "reply_to_post_number": 4,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 24,
      "score": 9.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 936
    },
    {
      "id": 11435,
      "post_number": 6,
      "username": "Olaf",
      "name": "Olaf",
      "created_at": "2025-04-22T14:23:26.711Z",
      "updated_at": "2025-04-22T14:23:26.711Z",
      "cooked": "<p>The footer text should be defined individually for each page. I don’t know the best way to do this. Do you set a variable for this? Do you call a function?</p>\n<p>I’ve come this far now. The pseudo code is only intended to give you an idea of what I have in mind:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#set page(\n  width: 10cm,\n  height: 5cm,\n  footer: context {\n    let footer-text = [footer-text]\n    let val = counter(page).get().first()\n    if calc.even(val) [\n      #counter(page).display(\"1\") | #footer-text\n    ]\n    else [\n      #h(1fr) #footer-text | #counter(page).display(\"1\")\n    ]\n  },\n)\n\n= Page 1\n\n// pseudo code:\n// footer-text = [footer text for page 1] \n\n#pagebreak()\n\n= Page 2\n\n// pseudo code:\n// footer-text = [footer text for page 2] \n</code></pre>",
      "raw": "The footer text should be defined individually for each page. I don't know the best way to do this. Do you set a variable for this? Do you call a function?\n\nI've come this far now. The pseudo code is only intended to give you an idea of what I have in mind:\n\n```typ\n#set page(\n  width: 10cm,\n  height: 5cm,\n  footer: context {\n    let footer-text = [footer-text]\n    let val = counter(page).get().first()\n    if calc.even(val) [\n      #counter(page).display(\"1\") | #footer-text\n    ]\n    else [\n      #h(1fr) #footer-text | #counter(page).display(\"1\")\n    ]\n  },\n)\n\n= Page 1\n\n// pseudo code:\n// footer-text = [footer text for page 1] \n\n#pagebreak()\n\n= Page 2\n\n// pseudo code:\n// footer-text = [footer text for page 2] \n```",
      "reply_to_post_number": 5,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 18,
      "score": 8.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 418
    },
    {
      "id": 11436,
      "post_number": 7,
      "username": "vmartel08",
      "name": "Vincent Martel",
      "created_at": "2025-04-22T14:39:18.344Z",
      "updated_at": "2025-04-22T14:42:28.956Z",
      "cooked": "<p><a class=\"mention\" href=\"/u/olaf\">@Olaf</a>, there seems to be a pattern here. Are you going to use headings for that purpose?</p>\n<p>Perhaps you could inspire yourself with <a href=\"https://forum.typst.app/t/how-to-add-an-invisible-heading-to-an-outline/685\" class=\"inline-onebox\">How to add an invisible Heading to an outline?</a>, which has 2 good solutions for that, using either:</p>\n<ul>\n<li>a heading…\n<ul>\n<li>do you want to use one?</li>\n<li>perhaps you could use a hidden one?<br>\nor</li>\n</ul>\n</li>\n<li>a state variable.</li>\n</ul>\n<p>In any case, although you have provided a bit more insight, it is still unclear what means you would like to use, which would help suggesting a more complete solution… and avoid duplication.</p>",
      "raw": "@Olaf, there seems to be a pattern here. Are you going to use headings for that purpose?\n\nPerhaps you could inspire yourself with https://forum.typst.app/t/how-to-add-an-invisible-heading-to-an-outline/685, which has 2 good solutions for that, using either:\n- a heading...\n  - do you want to use one?\n  - perhaps you could use a hidden one?\nor\n- a state variable.\n\nIn any case, although you have provided a bit more insight, it is still unclear what means you would like to use, which would help suggesting a more complete solution... and avoid duplication.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 19,
      "score": 18.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 936
    },
    {
      "id": 11437,
      "post_number": 8,
      "username": "vmartel08",
      "name": "Vincent Martel",
      "created_at": "2025-04-22T15:16:30.606Z",
      "updated_at": "2025-04-22T15:25:45.711Z",
      "cooked": "<p>A working solution, which involves <code>state</code> (avoids using a heading, which would have been showing in the outline by default).</p>\n<details>\n<summary>\nCode (solution with `state`)</summary>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">// Example using state\n#let footer-text = state(\"footer-text\", \"oops we forgot to set the text\")\n\n#set page(\n  width: 10cm,\n  height: 5cm,\n  footer: context {\n    let val = counter(page).get().first()\n    if calc.even(val) [\n      #counter(page).display(\"1\") | #footer-text.get()\n    ] else [\n      #h(1fr) #footer-text.get() | #counter(page).display(\"1\")\n    ]\n  },\n)\n\n= Page 1\nThis page shows the default footer as we didn't set it.\n//#footer-text.update([footer *text* for page 1])\n\n#pagebreak()\n\n= Page 2\n#footer-text.update([footer _text_ for page 2])\n\n#pagebreak()\n\n= Page 3\n#footer-text.update([footer _text_ for page 3])\n\n#pagebreak()\n\n= Page 4\nThis page still shows the footer from page 3 because we forgot to change it. \n//#footer-text.update([footer _text_ for page 4])\n</code></pre>\n</details>\n<details>\n<summary>\nOutput</summary>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/4/424cb59e50137a84f75562c6b7e0ac7dcaf2940a.png\" data-download-href=\"https://forum.typst.app/uploads/default/424cb59e50137a84f75562c6b7e0ac7dcaf2940a\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/4/424cb59e50137a84f75562c6b7e0ac7dcaf2940a_2_332x500.png\" alt=\"image\" data-base62-sha1=\"9svRsBRKV1WWOUbKoEXXSkBs34m\" width=\"332\" height=\"500\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/4/424cb59e50137a84f75562c6b7e0ac7dcaf2940a_2_332x500.png, https://forum.typst.app/uploads/default/optimized/2X/4/424cb59e50137a84f75562c6b7e0ac7dcaf2940a_2_498x750.png 1.5x, https://forum.typst.app/uploads/default/original/2X/4/424cb59e50137a84f75562c6b7e0ac7dcaf2940a.png 2x\" data-dominant-color=\"191919\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">556×836 27.9 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n</details>",
      "raw": "A working solution, which involves `state` (avoids using a heading, which would have been showing in the outline by default).\n\n[details=\"Code (solution with `state`)\"]\n\n```typ\n// Example using state\n#let footer-text = state(\"footer-text\", \"oops we forgot to set the text\")\n\n#set page(\n  width: 10cm,\n  height: 5cm,\n  footer: context {\n    let val = counter(page).get().first()\n    if calc.even(val) [\n      #counter(page).display(\"1\") | #footer-text.get()\n    ] else [\n      #h(1fr) #footer-text.get() | #counter(page).display(\"1\")\n    ]\n  },\n)\n\n= Page 1\nThis page shows the default footer as we didn't set it.\n//#footer-text.update([footer *text* for page 1])\n\n#pagebreak()\n\n= Page 2\n#footer-text.update([footer _text_ for page 2])\n\n#pagebreak()\n\n= Page 3\n#footer-text.update([footer _text_ for page 3])\n\n#pagebreak()\n\n= Page 4\nThis page still shows the footer from page 3 because we forgot to change it. \n//#footer-text.update([footer _text_ for page 4])\n```\n[/details]\n\n[details=\"Output\"]\n![image|332x500](upload://9svRsBRKV1WWOUbKoEXXSkBs34m.png)\n\n[/details]",
      "reply_to_post_number": 6,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 2,
      "reads": 18,
      "score": 38.6,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 936
    },
    {
      "id": 11451,
      "post_number": 9,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-22T20:20:25.046Z",
      "updated_at": "2025-04-22T20:21:37.705Z",
      "cooked": "<p>For <code>page</code> specifically, if no custom numbering is needed, it can be skipped in the <a href=\"https://typst.app/docs/reference/introspection/counter/#definitions-display-numbering\"><code>.display()</code></a>. For heading, you probably want something other than <code>\"1.1\"</code>, but the same thing applies.</p>",
      "raw": "For `page` specifically, if no custom numbering is needed, it can be skipped in the [`.display()`](https://typst.app/docs/reference/introspection/counter/#definitions-display-numbering). For heading, you probably want something other than `\"1.1\"`, but the same thing applies.",
      "reply_to_post_number": 8,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 18,
      "score": 18.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 11456,
      "post_number": 10,
      "username": "Olaf",
      "name": "Olaf",
      "created_at": "2025-04-22T21:08:09.980Z",
      "updated_at": "2025-04-22T21:08:09.980Z",
      "cooked": "<p>Many thanks for your support. I have tweaked the solution a little more:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">\n#let footer-text = state(\"footer-text\", none)\n\n#let set-footer-text(content) = footer-text.update(content)\n\n#set page(\n  width: 10cm,\n  height: 4cm,\n  footer: context {\n    let text = footer-text.get()\n    footer-text.update(none)\n    let (page-num,) = counter(page).get()\n    let val = counter(page).get().first()\n\n    if calc.even(page-num) {\n      if text == none [\n        #counter(page).display(\"1\")\n      ] else [\n        #counter(page).display(\"1\") | #text\n      ]\n    } else {\n      if text == none [\n        #h(1fr) #counter(page).display(\"1\")\n      ] else [\n        #h(1fr) #text | #counter(page).display(\"1\")\n      ]\n    }\n  },\n)\n\n= Page 1\n\n#set-footer-text([footer text for page 1])\n\n#pagebreak()\n\n= Page 2\n\n#set-footer-text([footer text for page 2])\n\n#pagebreak()\n\n= Page 3\n\n#pagebreak()\n\n= Page 4\n\n#pagebreak()\n\n= Page 5\n\n#set-footer-text([footer text for page 5])\n</code></pre>",
      "raw": "Many thanks for your support. I have tweaked the solution a little more:\n\n```typ\n\n#let footer-text = state(\"footer-text\", none)\n\n#let set-footer-text(content) = footer-text.update(content)\n\n#set page(\n  width: 10cm,\n  height: 4cm,\n  footer: context {\n    let text = footer-text.get()\n    footer-text.update(none)\n    let (page-num,) = counter(page).get()\n    let val = counter(page).get().first()\n\n    if calc.even(page-num) {\n      if text == none [\n        #counter(page).display(\"1\")\n      ] else [\n        #counter(page).display(\"1\") | #text\n      ]\n    } else {\n      if text == none [\n        #h(1fr) #counter(page).display(\"1\")\n      ] else [\n        #h(1fr) #text | #counter(page).display(\"1\")\n      ]\n    }\n  },\n)\n\n= Page 1\n\n#set-footer-text([footer text for page 1])\n\n#pagebreak()\n\n= Page 2\n\n#set-footer-text([footer text for page 2])\n\n#pagebreak()\n\n= Page 3\n\n#pagebreak()\n\n= Page 4\n\n#pagebreak()\n\n= Page 5\n\n#set-footer-text([footer text for page 5])\n```",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 19,
      "score": 23.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 418
    },
    {
      "id": 11462,
      "post_number": 11,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-22T21:50:48.441Z",
      "updated_at": "2025-04-22T21:50:48.441Z",
      "cooked": "<p>You can make it much simpler. There are also some variations that depend on the document structure.</p>\n<details><summary>code</summary>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let footer-text = state(\"footer-text\")\n\n#let set-footer-text(content) = footer-text.update(content)\n\n#set page(\n  width: 10cm,\n  height: 4cm,\n  footer: context {\n    let text = footer-text.get()\n    footer-text.update(none)\n    // let page-num = here().page() // Physical page\n    let page-num = counter(page).get().first() // Logical page\n    // let num = counter(page).display(\"I\") // If custom numbering is needed.\n    if calc.even(page-num) {\n      text = if text != none [ | #text]\n      [#page-num#text]\n    } else {\n      text = if text != none [#text | ]\n      [#h(1fr)#text#page-num]\n    }\n  },\n)\n\n= Page 1\n\n#set-footer-text[footer text for page 1]\n\n#pagebreak()\n\n= Page 2\n\n#set-footer-text[footer text for page 2]\n\n#pagebreak()\n\n= Page 3\n\n#pagebreak()\n\n= Page 4\n\n#pagebreak()\n\n= Page 5\n\n#set-footer-text[footer text for page 5]\n</code></pre>\n</details>",
      "raw": "You can make it much simpler. There are also some variations that depend on the document structure.\n\n<details><summary>code</summary>\n\n```typ\n#let footer-text = state(\"footer-text\")\n\n#let set-footer-text(content) = footer-text.update(content)\n\n#set page(\n  width: 10cm,\n  height: 4cm,\n  footer: context {\n    let text = footer-text.get()\n    footer-text.update(none)\n    // let page-num = here().page() // Physical page\n    let page-num = counter(page).get().first() // Logical page\n    // let num = counter(page).display(\"I\") // If custom numbering is needed.\n    if calc.even(page-num) {\n      text = if text != none [ | #text]\n      [#page-num#text]\n    } else {\n      text = if text != none [#text | ]\n      [#h(1fr)#text#page-num]\n    }\n  },\n)\n\n= Page 1\n\n#set-footer-text[footer text for page 1]\n\n#pagebreak()\n\n= Page 2\n\n#set-footer-text[footer text for page 2]\n\n#pagebreak()\n\n= Page 3\n\n#pagebreak()\n\n= Page 4\n\n#pagebreak()\n\n= Page 5\n\n#set-footer-text[footer text for page 5]\n```\n\n</details>",
      "reply_to_post_number": 10,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 19,
      "score": 18.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    }
  ],
  "scraped_at": "2025-06-10T09:48:52.496903"
}