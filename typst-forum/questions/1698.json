{
  "topic_metadata": {
    "id": 1698,
    "title": "How to define a new highest header while keeping the others the same?",
    "slug": "how-to-define-a-new-highest-header-while-keeping-the-others-the-same",
    "posts_count": 4,
    "created_at": "2024-11-12T21:05:40.903Z",
    "last_posted_at": "2024-11-12T21:31:13.380Z",
    "views": 209,
    "like_count": 3,
    "reply_count": 1,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 3,
    "accepted_answer_username": "PgBiel",
    "tags": [
      "model"
    ],
    "category_id": 5,
    "participant_count": 2,
    "word_count": 507
  },
  "posts": [
    {
      "id": 5561,
      "post_number": 1,
      "username": "Alberto",
      "name": "Alberto",
      "created_at": "2024-11-12T21:05:41.027Z",
      "updated_at": "2024-11-12T21:42:05.670Z",
      "cooked": "<p>I asked the same question 17 days ago, unfortunately I got sick and totally forgot about it by the time a user noticed me that my explanation wasn’t that clear. I decided to open a new post before rewriting entirely the question.</p>\n<p>So, what I’m trying to do is to create a new header for chapters, which I want to place the highest on the header’s hierarchy but without getting rid of any of the default ones.</p>\n<p>Right now my workaround is a function that draws the title of the chapter and somehow manages to place it on the index.</p>\n<div class=\"spoiler\">\n<pre data-code-wrap=\"typc\"><code class=\"lang-typc\">let chapter(title: \"No title\", body) = {\n  counter(heading).update(0)\n  show figure: set place(center+horizon)\n  show figure.caption: strong\n  show figure.caption: set text(40pt)\n  set figure.caption(position: top)\n  pagebreak(weak: true)\n  place(center+horizon)[#figure(\n    kind: \"chapter\",\n    numbering: \"I\",\n    supplement: \"Chapter\",\n    outlined: true,\n    placement: bottom,\n    gap: 150pt,\n    caption: [\\ #title],\n    [#body]\n  )]\n  pagebreak(weak: true)\n}\n</code></pre>\n</div>\n<p>My problem with it is that the webapp UI doesn’t detect it as a proper header, hence it doesn’t show it on the outline (left panel).</p>\n<p>I had the idea that if I could somehow move every header one spot down in the hierarchy, I could redefine the first one (<code>=</code>) as my personalized chapter header.</p>\n<p>Does anyone know a better way to do it than manually reformatting every header?</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">// What I've got\n= Header 1\n== Header 2\n=== Header 3\n==== Header 4\n...\n\n// What I'd like\n= Chapter Header\n== Header 1\n=== Header 2\n==== Header 3\n===== Header 4\n...\n</code></pre>\n<p>PS: Is it me or preformatted text isn’t Typst?</p>",
      "raw": "I asked the same question 17 days ago, unfortunately I got sick and totally forgot about it by the time a user noticed me that my explanation wasn't that clear. I decided to open a new post before rewriting entirely the question.\n\nSo, what I'm trying to do is to create a new header for chapters, which I want to place the highest on the header's hierarchy but without getting rid of any of the default ones.\n\nRight now my workaround is a function that draws the title of the chapter and somehow manages to place it on the index. \n\n[spoiler]\n```typc\nlet chapter(title: \"No title\", body) = {\n  counter(heading).update(0)\n  show figure: set place(center+horizon)\n  show figure.caption: strong\n  show figure.caption: set text(40pt)\n  set figure.caption(position: top)\n  pagebreak(weak: true)\n  place(center+horizon)[#figure(\n    kind: \"chapter\",\n    numbering: \"I\",\n    supplement: \"Chapter\",\n    outlined: true,\n    placement: bottom,\n    gap: 150pt,\n    caption: [\\ #title],\n    [#body]\n  )]\n  pagebreak(weak: true)\n}\n```\n[/spoiler]\n\nMy problem with it is that the webapp UI doesn't detect it as a proper header, hence it doesn't show it on the outline (left panel).\n\nI had the idea that if I could somehow move every header one spot down in the hierarchy, I could redefine the first one (`=`) as my personalized chapter header.\n\nDoes anyone know a better way to do it than manually reformatting every header?\n\n```typ\n// What I've got\n= Header 1\n== Header 2\n=== Header 3\n==== Header 4\n...\n\n// What I'd like\n= Chapter Header\n== Header 1\n=== Header 2\n==== Header 3\n===== Header 4\n...\n```\n\nPS: Is it me or preformatted text isn't Typst?",
      "reply_to_post_number": null,
      "reply_count": 2,
      "quote_count": 0,
      "like_count": 0,
      "reads": 35,
      "score": 487.0,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 673
    },
    {
      "id": 5564,
      "post_number": 2,
      "username": "PgBiel",
      "name": "",
      "created_at": "2024-11-12T21:14:34.493Z",
      "updated_at": "2024-11-12T21:14:58.205Z",
      "cooked": "<p>Hey <a class=\"mention\" href=\"/u/alberto\">@Alberto</a> , as in the previous post, I’ll ask you to ensure your title complies with our question post guidelines: <a href=\"https://forum.typst.app/t/how-to-post-in-the-questions-category/11\">How to post in the Questions category</a></p>\n<p>I’ve updated your post title for you; next time, please make sure your title is a question you’d ask to a friend about Typst. <img src=\"https://forum.typst.app/images/emoji/apple/wink.png?v=12\" title=\":wink:\" class=\"emoji\" alt=\":wink:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>\n<aside class=\"quote no-group\" data-username=\"Alberto\" data-post=\"1\" data-topic=\"1698\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/a/B7441C/48.png\" class=\"avatar\"> Alberto:</div>\n<blockquote>\n<p>PS: Is it me or preformatted text isn’t Typst?</p>\n</blockquote>\n</aside>\n<p>You can use ```typ instead of ``` for code blocks to ensure proper syntax highlighting in the forum.</p>",
      "raw": "Hey @Alberto , as in the previous post, I'll ask you to ensure your title complies with our question post guidelines: [How to post in the Questions category](https://forum.typst.app/t/how-to-post-in-the-questions-category/11)\n\nI've updated your post title for you; next time, please make sure your title is a question you’d ask to a friend about Typst. :wink:\n[quote=\"Alberto, post:1, topic:1698\"]\nPS: Is it me or preformatted text isn’t Typst?\n[/quote]\n\nYou can use \\`\\`\\`typ instead of \\`\\`\\` for code blocks to ensure proper syntax highlighting in the forum.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 1,
      "like_count": 1,
      "reads": 32,
      "score": 26.4,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 3
    },
    {
      "id": 5565,
      "post_number": 3,
      "username": "PgBiel",
      "name": "",
      "created_at": "2024-11-12T21:20:05.404Z",
      "updated_at": "2024-11-12T21:20:05.404Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"Alberto\" data-post=\"1\" data-topic=\"1698\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/a/B7441C/48.png\" class=\"avatar\"> Alberto:</div>\n<blockquote>\n<p>I had the idea that if I could somehow move every header one spot down in the hierarchy, I could redefine the first one (<code>=</code>) as my personalized chapter header.</p>\n</blockquote>\n</aside>\n<p>You can use <code>#set heading(offset: 1)</code> to “bump” all headings by one level, as follows:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let chapter = heading.with(level: 1, numbering: n =&gt; [Chapter #n.])  // &lt;--- override level calculation\n#set heading(offset: 1)  // &lt;--- heading level by default is depth (amount of '=') + offset (default zero)\n#set heading(numbering: (chapter, ..n) =&gt; numbering(\"1.\", ..n))  // &lt;--- omit chapter number from heading number\n\n#outline()\n\n#chapter[Origins]\n\n= Title\n\n== Subtitle\n\n=== Subsubtitle\n\n#chapter[Epilogue]\n\n= Title\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/d/d3b6329184e4d69fc1683898a19262e38d2e5527.png\" data-download-href=\"https://forum.typst.app/uploads/default/d3b6329184e4d69fc1683898a19262e38d2e5527\" title=\"output: chapter and bumped heading levels\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/d/d3b6329184e4d69fc1683898a19262e38d2e5527_2_555x500.png\" alt=\"output: chapter and bumped heading levels\" data-base62-sha1=\"ucT6mHeaPqB4X3lUwkPLvFNJVaf\" width=\"555\" height=\"500\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/d/d3b6329184e4d69fc1683898a19262e38d2e5527_2_555x500.png, https://forum.typst.app/uploads/default/optimized/2X/d/d3b6329184e4d69fc1683898a19262e38d2e5527_2_832x750.png 1.5x, https://forum.typst.app/uploads/default/original/2X/d/d3b6329184e4d69fc1683898a19262e38d2e5527.png 2x\" data-dominant-color=\"F7F7F7\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">output: chapter and bumped heading levels</span><span class=\"informations\">1054×949 104 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>",
      "raw": "[quote=\"Alberto, post:1, topic:1698\"]\nI had the idea that if I could somehow move every header one spot down in the hierarchy, I could redefine the first one (`=`) as my personalized chapter header.\n[/quote]\n\nYou can use `#set heading(offset: 1)` to \"bump\" all headings by one level, as follows:\n\n```typ\n#let chapter = heading.with(level: 1, numbering: n => [Chapter #n.])  // <--- override level calculation\n#set heading(offset: 1)  // <--- heading level by default is depth (amount of '=') + offset (default zero)\n#set heading(numbering: (chapter, ..n) => numbering(\"1.\", ..n))  // <--- omit chapter number from heading number\n\n#outline()\n\n#chapter[Origins]\n\n= Title\n\n== Subtitle\n\n=== Subsubtitle\n\n#chapter[Epilogue]\n\n= Title\n```\n![output: chapter and bumped heading levels|555x500](upload://ucT6mHeaPqB4X3lUwkPLvFNJVaf.png)",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 1,
      "like_count": 1,
      "reads": 33,
      "score": 71.6,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 3
    },
    {
      "id": 5567,
      "post_number": 4,
      "username": "Alberto",
      "name": "Alberto",
      "created_at": "2024-11-12T21:31:13.380Z",
      "updated_at": "2024-11-12T21:31:13.380Z",
      "cooked": "<p>Thank you for the information. Next time I’ll write a proper title.</p>\n<p>Your answer works, it shows in the outline</p>",
      "raw": "Thank you for the information. Next time I'll write a proper title.\n\nYour answer works, it shows in the outline",
      "reply_to_post_number": 3,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 29,
      "score": 50.8,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 673
    }
  ],
  "scraped_at": "2025-06-10T09:55:01.131660"
}