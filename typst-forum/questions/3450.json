{
  "topic_metadata": {
    "id": 3450,
    "title": "How to conditionally modify one field (column) in a table?",
    "slug": "how-to-conditionally-modify-one-field-column-in-a-table",
    "posts_count": 7,
    "created_at": "2025-03-29T18:06:23.649Z",
    "last_posted_at": "2025-03-30T14:57:53.653Z",
    "views": 99,
    "like_count": 2,
    "reply_count": 3,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 2,
    "accepted_answer_username": "Andrew",
    "tags": [
      "tables"
    ],
    "category_id": 5,
    "participant_count": 3,
    "word_count": 378
  },
  "posts": [
    {
      "id": 10396,
      "post_number": 1,
      "username": "ondohotola",
      "name": "Eberhard W Lisse",
      "created_at": "2025-03-29T18:06:23.758Z",
      "updated_at": "2025-03-30T12:11:19.945Z",
      "cooked": "<p>Given a table <code>passwords.yaml</code>  with the content of</p>\n<pre data-code-wrap=\"yaml\"><code class=\"lang-yaml\">--- # User, Password, Shell\n-\n    - \"u1\"\n    -  \"p1\"\n    -  \"/bin/sh\"\n-   \n    - \"u2\"\n    -  \"p2\"\n    -  \"/bin/sh\"\n-\n    - \"u3\"\n    -  \"p3\"\n    - \"/opt/homebrew/bin/bash\"\n</code></pre>\n<p>I use the following typst fragment</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#let data = yaml(\"passwords.yaml\")\n#figure(\n  kind: table,\n  align(center)[\n    #table(\n      columns: 3,\n      align: (left, left, left),\n      [*#align(center)[User]*], \n        [*#align(center)[Password]*], \n        [*#align(center)[Shell]*],\n      ..data.flatten()\n    )\n  ],\n  caption: [passwords.yaml],\n) &lt;passwords.yaml&gt;\n</code></pre>\n<p>which produces the expected table.</p>\n<p>I would like to obfuscate the passwords (column 1 (starting with 0)) depending on the value of <code>OBF</code> using something like</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#let OBF = \"TRUE\"\n#let HASH = \"###########\"\n</code></pre>\n<p>Is that possible without conditionalizing the whole figure?</p>",
      "raw": "Given a table `passwords.yaml`  with the content of\n\n```yaml\n--- # User, Password, Shell\n-\n    - \"u1\"\n    -  \"p1\"\n    -  \"/bin/sh\"\n-   \n    - \"u2\"\n    -  \"p2\"\n    -  \"/bin/sh\"\n-\n    - \"u3\"\n    -  \"p3\"\n    - \"/opt/homebrew/bin/bash\"\n```\nI use the following typst fragment\n\n```typst\n#let data = yaml(\"passwords.yaml\")\n#figure(\n  kind: table,\n  align(center)[\n    #table(\n      columns: 3,\n      align: (left, left, left),\n      [*#align(center)[User]*], \n        [*#align(center)[Password]*], \n        [*#align(center)[Shell]*],\n      ..data.flatten()\n    )\n  ],\n  caption: [passwords.yaml],\n) <passwords.yaml>\n```\nwhich produces the expected table.\n\n\nI would like to obfuscate the passwords (column 1 (starting with 0)) depending on the value of `OBF` using something like\n\n```typst\n#let OBF = \"TRUE\"\n#let HASH = \"###########\"\n```\n\n\nIs that possible without conditionalizing the whole figure?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 28,
      "score": 140.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 644
    },
    {
      "id": 10397,
      "post_number": 2,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-03-29T18:35:08.671Z",
      "updated_at": "2025-03-29T19:41:05.374Z",
      "cooked": "<p>Hello, this topic is a question, so please use <a class=\"hashtag-cooked\" href=\"/c/questions/5\" data-type=\"category\" data-slug=\"questions\" data-id=\"5\"><span class=\"hashtag-icon-placeholder\"><svg class=\"fa d-icon d-icon-square-full svg-icon svg-node\"><use href=\"#square-full\"></use></svg></span><span>Questions</span></a> category for such topics.</p>\n<p>First of all, passwords are a very sensitive topic, so I hope you know what you are doing.</p>\n<p>There can be various solutions, but here is a very simple one + I simplified your code:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let passwords = ```yaml\n--- # User, Password, Shell\n-\n    - \"u1\"\n    -  \"p1\"\n    -  \"/bin/sh\"\n-\n    - \"u2\"\n    -  \"p2\"\n    -  \"/bin/sh\"\n-\n    - \"u3\"\n    -  \"p3\"\n    - \"/opt/homebrew/bin/bash\"\n```.text\n\n#let OBF = false\n#let OBF = true // Comment this to toggle.\n#let HASH = \"###########\"\n\n#let data = yaml(bytes(passwords))\n#if OBF {\n  data = data.map(row =&gt; {\n    row.at(1) = HASH\n    row\n  })\n}\n#show table.cell.where(y: 0): strong\n#figure(\n  table(\n    columns: 3,\n    align: (x, y) =&gt; if y == 0 { center } else { left },\n    table.header[User][Password][Shell],\n    ..data.flatten(),\n  ),\n  caption: [passwords.yaml],\n) &lt;passwords.yaml&gt;\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/6/6b2ae44356d2f0075415bd6d0d4fcdb87dbbd2a6.png\" alt=\"image\" data-base62-sha1=\"fi2Z1zqecOmeZq0tuEqW6a9oQ3c\" width=\"407\" height=\"171\"></p>",
      "raw": "Hello, this topic is a question, so please use #questions category for such topics.\n\nFirst of all, passwords are a very sensitive topic, so I hope you know what you are doing.\n\nThere can be various solutions, but here is a very simple one + I simplified your code:\n\n```typ\n#let passwords = ```yaml\n--- # User, Password, Shell\n-\n    - \"u1\"\n    -  \"p1\"\n    -  \"/bin/sh\"\n-\n    - \"u2\"\n    -  \"p2\"\n    -  \"/bin/sh\"\n-\n    - \"u3\"\n    -  \"p3\"\n    - \"/opt/homebrew/bin/bash\"\n```.text\n\n#let OBF = false\n#let OBF = true // Comment this to toggle.\n#let HASH = \"###########\"\n\n#let data = yaml(bytes(passwords))\n#if OBF {\n  data = data.map(row => {\n    row.at(1) = HASH\n    row\n  })\n}\n#show table.cell.where(y: 0): strong\n#figure(\n  table(\n    columns: 3,\n    align: (x, y) => if y == 0 { center } else { left },\n    table.header[User][Password][Shell],\n    ..data.flatten(),\n  ),\n  caption: [passwords.yaml],\n) <passwords.yaml>\n```\n\n![image|407x171](upload://fi2Z1zqecOmeZq0tuEqW6a9oQ3c.png)",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 26,
      "score": 20.2,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 10400,
      "post_number": 3,
      "username": "ondohotola",
      "name": "Eberhard W Lisse",
      "created_at": "2025-03-29T18:42:44.838Z",
      "updated_at": "2025-03-29T18:44:08.637Z",
      "cooked": "<p>Thank you.</p>\n<p>I am fully aware of the password sensitivity.</p>\n<p>Is there a way of moving it over to Questions?</p>",
      "raw": "Thank you.\n\nI am fully aware of the password sensitivity.\n\nIs there a way of moving it over to Questions?",
      "reply_to_post_number": 2,
      "reply_count": 2,
      "quote_count": 0,
      "like_count": 1,
      "reads": 26,
      "score": 30.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 644
    },
    {
      "id": 10401,
      "post_number": 4,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-03-29T19:39:41.137Z",
      "updated_at": "2025-03-29T19:39:41.137Z",
      "cooked": "<p>Edit your original post and select <a class=\"hashtag-cooked\" href=\"/c/questions/5\" data-type=\"category\" data-slug=\"questions\" data-id=\"5\"><span class=\"hashtag-icon-placeholder\"><svg class=\"fa d-icon d-icon-square-full svg-icon svg-node\"><use href=\"#square-full\"></use></svg></span><span>Questions</span></a> category under the title name in the edit window.</p>",
      "raw": "Edit your original post and select #questions category under the title name in the edit window.",
      "reply_to_post_number": 3,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 26,
      "score": 5.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 10411,
      "post_number": 5,
      "username": "ondohotola",
      "name": "Eberhard W Lisse",
      "created_at": "2025-03-30T11:21:09.248Z",
      "updated_at": "2025-03-30T11:21:09.248Z",
      "cooked": "<p>Done, thanks you very much</p>",
      "raw": "Done, thanks you very much",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 23,
      "score": 19.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 644
    },
    {
      "id": 10420,
      "post_number": 6,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2025-03-30T12:12:21.254Z",
      "updated_at": "2025-03-30T12:12:21.254Z",
      "cooked": "<p>Hi <a class=\"mention\" href=\"/u/ondohotola\">@ondohotola</a>, thank you for your question! I have changed your post’s title to bring it in line with the <a href=\"https://forum.typst.app/t/how-to-post-in-the-questions-category/11\">question guidelines</a> and thus make it easier to understand from the title:</p>\n<blockquote>\n<p><strong>Good titles are questions you would ask your friend about Typst.</strong></p>\n</blockquote>\n<p>I also added the <a class=\"hashtag-cooked\" href=\"/tag/tables\" data-type=\"tag\" data-slug=\"tables\" data-id=\"53\" data-ref=\"tables::tag\"><span class=\"hashtag-icon-placeholder\"><svg class=\"fa d-icon d-icon-square-full svg-icon svg-node\"><use href=\"#square-full\"></use></svg></span><span>tables</span></a> tag, as it makes your question easier to find. Thank you for already moving your topic as Andrew described <img src=\"https://forum.typst.app/images/emoji/apple/slight_smile.png?v=12\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>",
      "raw": "Hi @ondohotola, thank you for your question! I have changed your post’s title to bring it in line with the [question guidelines](https://forum.typst.app/t/how-to-post-in-the-questions-category/11) and thus make it easier to understand from the title:\n\n> **Good titles are questions you would ask your friend about Typst.**\n\nI also added the #tables::tag tag, as it makes your question easier to find. Thank you for already moving your topic as Andrew described :slight_smile:",
      "reply_to_post_number": 3,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 22,
      "score": 29.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 32
    },
    {
      "id": 10436,
      "post_number": 7,
      "username": "ondohotola",
      "name": "Eberhard W Lisse",
      "created_at": "2025-03-30T14:57:53.653Z",
      "updated_at": "2025-03-30T14:57:53.653Z",
      "cooked": "<p>Ah, ok. Did not know that one either.</p>\n<p>Thank you as well.</p>",
      "raw": "Ah, ok. Did not know that one either.\n\nThank you as well.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 20,
      "score": 4.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 644
    }
  ],
  "scraped_at": "2025-06-10T09:49:52.746855"
}