{
  "topic_metadata": {
    "id": 1307,
    "title": "Is it possible to have multiple outlines?",
    "slug": "is-it-possible-to-have-multiple-outlines",
    "posts_count": 23,
    "created_at": "2024-10-23T11:13:46.180Z",
    "last_posted_at": "2024-10-28T13:21:56.631Z",
    "views": 498,
    "like_count": 13,
    "reply_count": 20,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 22,
    "accepted_answer_username": "quachpas",
    "tags": [
      "layout",
      "outline"
    ],
    "category_id": 5,
    "participant_count": 4,
    "word_count": 1627
  },
  "posts": [
    {
      "id": 4525,
      "post_number": 1,
      "username": "jsx97",
      "name": "jsx97",
      "created_at": "2024-10-23T11:13:46.257Z",
      "updated_at": "2024-10-25T10:48:44.588Z",
      "cooked": "<p>I try to create a document with multiple tables of contents. For this, I tried to utilize the <code>figure</code> function.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#outline(title: [Lorem &amp; Ipsum], target: figure.where(kind: group1))\n#outline(title: [Dolor &amp; Sit],   target: figure.where(kind: group2))\n#outline(title: [Misc.],         target: figure.where(kind: group3))\n\n#figure(kind: \"group1\", supplement: [], [#heading(level: 1)[Lorem]])\n#figure(kind: \"group1\", supplement: [], [#heading(level: 1)[Ipsum]])\n#figure(kind: \"group2\", supplement: [], [#heading(level: 1)[Dolor]])\n#figure(kind: \"group2\", supplement: [], [#heading(level: 1)[Sit]])\n#figure(kind: \"group3\", supplement: [], [#heading(level: 1)[Amet]])\n</code></pre>\n<p>Currently it doesn’t work: there is <code>unknown variable: group1</code> error. How to fix it?</p>\n<p>And also, maybe there is a better way to get multiple tables of contents, without using <code>figure</code>?</p>",
      "raw": "I try to create a document with multiple tables of contents. For this, I tried to utilize the `figure` function.\n\n```typ\n#outline(title: [Lorem & Ipsum], target: figure.where(kind: group1))\n#outline(title: [Dolor & Sit],   target: figure.where(kind: group2))\n#outline(title: [Misc.],         target: figure.where(kind: group3))\n\n#figure(kind: \"group1\", supplement: [], [#heading(level: 1)[Lorem]])\n#figure(kind: \"group1\", supplement: [], [#heading(level: 1)[Ipsum]])\n#figure(kind: \"group2\", supplement: [], [#heading(level: 1)[Dolor]])\n#figure(kind: \"group2\", supplement: [], [#heading(level: 1)[Sit]])\n#figure(kind: \"group3\", supplement: [], [#heading(level: 1)[Amet]])\n```\n\nCurrently it doesn't work: there is `unknown variable: group1` error. How to fix it?\n\nAnd also, maybe there is a better way to get multiple tables of contents, without using `figure`?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 59,
      "score": 1821.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 477
    },
    {
      "id": 4535,
      "post_number": 2,
      "username": "sijo",
      "name": "",
      "created_at": "2024-10-23T12:15:18.163Z",
      "updated_at": "2024-10-23T12:15:18.163Z",
      "cooked": "<p>You need to put <code>group1</code>, etc. in <code>\"</code> quotes in the first three lines. To have the figures show up in the outlines, you’ll also need to add captions.</p>\n<p>But figures are probably not what you want to use here. What’s the concrete use case? What are these different outlines? For headings you probably just need to find a clever <code>target: ...</code> for the outlines. You can use a selector to target headings that come before or after some point in your document, or headings with different supplements, or headings with particular labels…</p>",
      "raw": "You need to put `group1`, etc. in `\"` quotes in the first three lines. To have the figures show up in the outlines, you'll also need to add captions.\n\nBut figures are probably not what you want to use here. What's the concrete use case? What are these different outlines? For headings you probably just need to find a clever `target: ...` for the outlines. You can use a selector to target headings that come before or after some point in your document, or headings with different supplements, or headings with particular labels...",
      "reply_to_post_number": null,
      "reply_count": 2,
      "quote_count": 0,
      "like_count": 1,
      "reads": 58,
      "score": 36.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 332
    },
    {
      "id": 4574,
      "post_number": 3,
      "username": "jsx97",
      "name": "jsx97",
      "created_at": "2024-10-23T16:12:59.427Z",
      "updated_at": "2024-10-23T16:13:34.025Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"sijo\" data-post=\"2\" data-topic=\"1307\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/s/0A3649/48.png\" class=\"avatar\"> sijo:</div>\n<blockquote>\n<p>What’s the concrete use case? What are these different outlines?</p>\n</blockquote>\n</aside>\n<p>Here is a real-life example. A book is very thick and deeply structured. There are two outlines: a brief one and a detailed one. The brief is located in the beginning and the detailed in the end.</p>\n<p>Brief outline:</p>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/b/b5aba911e1a5694b37465f2ede579578bac7f67c.jpeg\" data-download-href=\"https://forum.typst.app/uploads/default/b5aba911e1a5694b37465f2ede579578bac7f67c\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/b/b5aba911e1a5694b37465f2ede579578bac7f67c_2_690x494.jpeg\" alt=\"image\" data-base62-sha1=\"pV8cA2zEAPW5m63inwiVSSnzNla\" width=\"690\" height=\"494\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/b/b5aba911e1a5694b37465f2ede579578bac7f67c_2_690x494.jpeg, https://forum.typst.app/uploads/default/optimized/2X/b/b5aba911e1a5694b37465f2ede579578bac7f67c_2_1035x741.jpeg 1.5x, https://forum.typst.app/uploads/default/optimized/2X/b/b5aba911e1a5694b37465f2ede579578bac7f67c_2_1380x988.jpeg 2x\" data-dominant-color=\"EDEDED\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">1514×1084 185 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>Detailed outline:</p>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/a/a971351e49ab296fdfd8e6e386c6a3d5195a6c0a.jpeg\" data-download-href=\"https://forum.typst.app/uploads/default/a971351e49ab296fdfd8e6e386c6a3d5195a6c0a\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/a/a971351e49ab296fdfd8e6e386c6a3d5195a6c0a_2_690x478.jpeg\" alt=\"image\" data-base62-sha1=\"oaXeMznCIIUXdj0UTHcNsYC6z5o\" width=\"690\" height=\"478\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/a/a971351e49ab296fdfd8e6e386c6a3d5195a6c0a_2_690x478.jpeg, https://forum.typst.app/uploads/default/optimized/2X/a/a971351e49ab296fdfd8e6e386c6a3d5195a6c0a_2_1035x717.jpeg 1.5x, https://forum.typst.app/uploads/default/optimized/2X/a/a971351e49ab296fdfd8e6e386c6a3d5195a6c0a_2_1380x956.jpeg 2x\" data-dominant-color=\"EFEFEF\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">1794×1244 217 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>",
      "raw": "[quote=\"sijo, post:2, topic:1307\"]\nWhat’s the concrete use case? What are these different outlines?\n[/quote]\n\nHere is a real-life example. A book is very thick and deeply structured. There are two outlines: a brief one and a detailed one. The brief is located in the beginning and the detailed in the end.\n\nBrief outline:\n\n![image|690x494](upload://pV8cA2zEAPW5m63inwiVSSnzNla.jpeg)\n\nDetailed outline:\n\n![image|690x478](upload://oaXeMznCIIUXdj0UTHcNsYC6z5o.jpeg)",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 1,
      "like_count": 0,
      "reads": 57,
      "score": 16.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 477
    },
    {
      "id": 4602,
      "post_number": 4,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2024-10-24T06:48:49.749Z",
      "updated_at": "2024-10-24T06:48:49.749Z",
      "cooked": "<p>Like <a class=\"mention\" href=\"/u/sijo\">@sijo</a> said, it’d be better to specify the <a href=\"https://typst.app/docs/reference/model/outline/#parameters-target\"><code>target</code></a> parameter of <code>outline</code>. But if you are only looking to filter based on the heading level, then you might as well use <code>depth</code></p>\n<p>Summary:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#outline(depth: 2, indent: 1em)\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/f/f50b19a12e3e6c53e41cabb0f7634e00a0c06282.png\" data-download-href=\"https://forum.typst.app/uploads/default/f50b19a12e3e6c53e41cabb0f7634e00a0c06282\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/original/2X/f/f50b19a12e3e6c53e41cabb0f7634e00a0c06282.png\" alt=\"image\" data-base62-sha1=\"yXKLfHfkYDHl7vmAfkeTqGjA7n4\" width=\"690\" height=\"239\" data-dominant-color=\"F9F9F9\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">842×292 9.79 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>Table of contents:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#outline(indent: 1em)\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/6/61633da3bab994a8e92353acb8fe2da8aa70dfb1.png\" data-download-href=\"https://forum.typst.app/uploads/default/61633da3bab994a8e92353acb8fe2da8aa70dfb1\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/original/2X/6/61633da3bab994a8e92353acb8fe2da8aa70dfb1.png\" alt=\"image\" data-base62-sha1=\"dTwW5UR94Z6zKdUnuwPCVP70jp7\" width=\"690\" height=\"301\" data-dominant-color=\"F8F8F8\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">840×367 12.1 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>",
      "raw": "Like @sijo said, it'd be better to specify the [`target`](https://typst.app/docs/reference/model/outline/#parameters-target) parameter of `outline`. But if you are only looking to filter based on the heading level, then you might as well use `depth`\n\nSummary:\n```typ\n#outline(depth: 2, indent: 1em)\n```\n![image|690x239](upload://yXKLfHfkYDHl7vmAfkeTqGjA7n4.png)\n\nTable of contents:\n```typ\n#outline(indent: 1em)\n```\n![image|690x301](upload://dTwW5UR94Z6zKdUnuwPCVP70jp7.png)",
      "reply_to_post_number": 3,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 2,
      "reads": 45,
      "score": 44.0,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 4636,
      "post_number": 5,
      "username": "jsx97",
      "name": "jsx97",
      "created_at": "2024-10-25T02:37:23.317Z",
      "updated_at": "2024-10-25T02:37:23.317Z",
      "cooked": "<p>Hello. Sorry for my delay. I tried to use labels. Could you explain, why the outlines are empty?</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#outline(title: [First outline],  target: heading.where(label: \"group1\"))\n#outline(title: [Second outline], target: heading.where(label: \"group2\"))\n#outline(title: [Third outline],  target: heading.where(label: \"group3\"))\n\n= Lorem &lt;group1&gt;\n\n== A\n\n== B\n\n= Ipsum &lt;group1&gt;\n\n= X\n\n= Y\n\n= Dolor &lt;group2&gt;\n\n= Sit &lt;group2&gt;\n\n= Amet &lt;group3&gt;\n</code></pre>",
      "raw": "Hello. Sorry for my delay. I tried to use labels. Could you explain, why the outlines are empty?\n\n```typ\n#outline(title: [First outline],  target: heading.where(label: \"group1\"))\n#outline(title: [Second outline], target: heading.where(label: \"group2\"))\n#outline(title: [Third outline],  target: heading.where(label: \"group3\"))\n\n= Lorem <group1>\n\n== A\n\n== B\n\n= Ipsum <group1>\n\n= X\n\n= Y\n\n= Dolor <group2>\n\n= Sit <group2>\n\n= Amet <group3>\n```",
      "reply_to_post_number": 2,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 38,
      "score": 12.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 477
    },
    {
      "id": 4638,
      "post_number": 6,
      "username": "sijo",
      "name": "",
      "created_at": "2024-10-25T05:41:30.547Z",
      "updated_at": "2024-10-25T05:41:39.867Z",
      "cooked": "<p>You have to give actual labels, not string, so write <code>where(label: &lt;group1&gt;)</code>.</p>\n<p>By the way if you use these labels only for headings you can simply do <code>target: &lt;group1&gt;</code> <img src=\"https://forum.typst.app/images/emoji/apple/slight_smile.png?v=12\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>",
      "raw": "You have to give actual labels, not string, so write `where(label: <group1>)`.\n\nBy the way if you use these labels only for headings you can simply do `target: <group1>` :slight_smile:",
      "reply_to_post_number": 5,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 37,
      "score": 27.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 332
    },
    {
      "id": 4666,
      "post_number": 7,
      "username": "jsx97",
      "name": "jsx97",
      "created_at": "2024-10-25T11:14:25.412Z",
      "updated_at": "2024-10-25T11:48:29.560Z",
      "cooked": "<p>Amazing, thanks! But it turns out there is another issue now. What if I need to create a link to a heading? In such a case, I should use an individual label, like <code>#link(&lt;lorem&gt;)[Link to Lorem]</code>, right?</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#outline(title: [First outline],  target: heading.where(label: &lt;group1&gt;))\n#outline(title: [Second outline], target: heading.where(label: &lt;group2&gt;))\n#outline(title: [Third outline],  target: heading.where(label: &lt;group3&gt;))\n\n#pagebreak()\n#link(&lt;lorem&gt;)[Link to Lorem]\n\n#lorem(50)\n\n= Lorem\n&lt;group1&gt;&lt;lorem&gt;\n\n#lorem(500)\n\n= Ipsum\n&lt;group1&gt;\n\n#lorem(500)\n\n= Dolor\n&lt;group2&gt;\n\n#lorem(500)\n\n= Sit\n&lt;group2&gt;\n\n#lorem(500)\n\n= Amet\n&lt;group3&gt;\n\n#lorem(500)\n</code></pre>\n<p>And in such a case, though it works, the compiler complains:</p>\n<pre data-code-wrap=\"none\"><code class=\"lang-none\">warning: content labelled multiple times.\nhint: only the last label is used, the rest are ignored\n</code></pre>\n<p>I also tried this:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">= Lorem&lt;group1&gt;\n~#label(\"lorem\")\n</code></pre>\n<p>And though it works as well, if I click the “Link to Lorem” link, the document is scrolled to somewhat lower than it should be.</p>\n<p>I then tried to change it to</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">= Lorem&lt;lorem&gt;\n~#label(\"group1\")\n</code></pre>\n<p>but then the outline is blank again, and I didn’t figured out how to fix it.</p>",
      "raw": "Amazing, thanks! But it turns out there is another issue now. What if I need to create a link to a heading? In such a case, I should use an individual label, like `#link(<lorem>)[Link to Lorem]`, right?\n\n```typ\n#outline(title: [First outline],  target: heading.where(label: <group1>))\n#outline(title: [Second outline], target: heading.where(label: <group2>))\n#outline(title: [Third outline],  target: heading.where(label: <group3>))\n\n#pagebreak()\n#link(<lorem>)[Link to Lorem]\n\n#lorem(50)\n\n= Lorem\n<group1><lorem>\n\n#lorem(500)\n\n= Ipsum\n<group1>\n\n#lorem(500)\n\n= Dolor\n<group2>\n\n#lorem(500)\n\n= Sit\n<group2>\n\n#lorem(500)\n\n= Amet\n<group3>\n\n#lorem(500)\n```\n\nAnd in such a case, though it works, the compiler complains:\n\n```none\nwarning: content labelled multiple times.\nhint: only the last label is used, the rest are ignored\n```\n\nI also tried this:\n\n```typ\n= Lorem<group1>\n~#label(\"lorem\")\n```\n\nAnd though it works as well, if I click the \"Link to Lorem\" link, the document is scrolled to somewhat lower than it should be.\n\nI then tried to change it to\n\n```typ\n= Lorem<lorem>\n~#label(\"group1\")\n```\n\nbut then the outline is blank again, and I didn't figured out how to fix it.",
      "reply_to_post_number": 6,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 35,
      "score": 27.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 477
    },
    {
      "id": 4667,
      "post_number": 8,
      "username": "sijo",
      "name": "",
      "created_at": "2024-10-25T12:08:44.188Z",
      "updated_at": "2024-10-25T12:08:44.188Z",
      "cooked": "<p>Yep you cannot have several labels for the same thing…</p>\n<p>One solution would be to remove the <code>&lt;group1&gt;</code> label for this heading and to make the outline with <code>target: selector(&lt;group1&gt;).or(&lt;lorem&gt;)</code>. But that’s annoying to keep up to date.</p>\n<p>Another solution maybe is to put the extra label just before the heading:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#metadata(none)&lt;lorem&gt;\n= Lorem &lt;group1&gt;\n</code></pre>\n<p>I think that way the link might go to the right location, at least if the heading is not placed in a fancy unusual way.</p>",
      "raw": "Yep you cannot have several labels for the same thing...\n\nOne solution would be to remove the `<group1>` label for this heading and to make the outline with `target: selector(<group1>).or(<lorem>)`. But that's annoying to keep up to date.\n\nAnother solution maybe is to put the extra label just before the heading:\n\n```typ\n#metadata(none)<lorem>\n= Lorem <group1>\n```\n\nI think that way the link might go to the right location, at least if the heading is not placed in a fancy unusual way.",
      "reply_to_post_number": 7,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 33,
      "score": 31.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 332
    },
    {
      "id": 4669,
      "post_number": 9,
      "username": "jsx97",
      "name": "jsx97",
      "created_at": "2024-10-25T12:24:41.058Z",
      "updated_at": "2024-10-25T12:24:41.058Z",
      "cooked": "<p>And what you think about using <code>#[ ... ]</code>?</p>\n<pre><code class=\"lang-auto\">#[\n= Lorem&lt;group1&gt;\n]&lt;lorem&gt;\n</code></pre>",
      "raw": "And what you think about using `#[ ... ]`?\n\n```\n#[\n= Lorem<group1>\n]<lorem>\n```",
      "reply_to_post_number": 8,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 33,
      "score": 16.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 477
    },
    {
      "id": 4670,
      "post_number": 10,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2024-10-25T12:40:47.190Z",
      "updated_at": "2024-10-25T12:40:47.190Z",
      "cooked": "<p>Instead of labelling every single heading of each group individually, you should probably define a better target in the outline.<br>\nIs there a structured rule as to how you label headings by group?</p>",
      "raw": "Instead of labelling every single heading of each group individually, you should probably define a better target in the outline.\nIs there a structured rule as to how you label headings by group?",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 31,
      "score": 31.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 4674,
      "post_number": 11,
      "username": "sijo",
      "name": "",
      "created_at": "2024-10-25T13:08:04.744Z",
      "updated_at": "2024-10-25T13:08:09.657Z",
      "cooked": "<p>I don’t know if this can interfere with other things, like the sticky property of headings… The metadata before the heading seemed less intrusive. But if it works it’s a nice solution.</p>",
      "raw": "I don't know if this can interfere with other things, like the sticky property of headings... The metadata before the heading seemed less intrusive. But if it works it's a nice solution.",
      "reply_to_post_number": 9,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 31,
      "score": 21.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 332
    },
    {
      "id": 4675,
      "post_number": 12,
      "username": "jsx97",
      "name": "jsx97",
      "created_at": "2024-10-25T13:21:56.142Z",
      "updated_at": "2024-10-25T13:21:56.142Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"quachpas\" data-post=\"10\" data-topic=\"1307\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/q/662200/48.png\" class=\"avatar\"> quachpas:</div>\n<blockquote>\n<p>Is there a structured rule as to how you label headings by group?</p>\n</blockquote>\n</aside>\n<p>Not sure I understand. If you could provide a simple example of this idea, it would be easier for me to answer <img src=\"https://forum.typst.app/images/emoji/apple/slight_smile.png?v=12\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>",
      "raw": "[quote=\"quachpas, post:10, topic:1307\"]\nIs there a structured rule as to how you label headings by group?\n[/quote]\n\nNot sure I understand. If you could provide a simple example of this idea, it would be easier for me to answer :slight_smile:",
      "reply_to_post_number": 10,
      "reply_count": 1,
      "quote_count": 1,
      "like_count": 0,
      "reads": 29,
      "score": 10.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 477
    },
    {
      "id": 4676,
      "post_number": 13,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2024-10-25T13:27:38.206Z",
      "updated_at": "2024-10-25T13:27:38.206Z",
      "cooked": "<p>I was probably confusing. How do you decide which heading belongs in which group, was my question.</p>",
      "raw": "I was probably confusing. How do you decide which heading belongs in which group, was my question.",
      "reply_to_post_number": 12,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 27,
      "score": 10.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 4677,
      "post_number": 14,
      "username": "jsx97",
      "name": "jsx97",
      "created_at": "2024-10-25T13:46:34.798Z",
      "updated_at": "2024-10-25T13:49:37.638Z",
      "cooked": "<p>[@<a href=\"/u/quachpas\">quachpas</a>] For me, there are two use cases to have multiple outlines.</p>\n<p>The first use case is already illustrated by the screenshots above. This is when you need a brief outline and a detailed outline.</p>\n<p>The second use case is when you need to combine headings arbitrary. E.g., you have a document with headings A, B, C, and so on, to Z. And your main outline includes all of them. But some sections may have special interest, and you may want to have a second outline specifically for them. In such a case, this can look like:</p>\n<pre data-code-wrap=\"none\"><code class=\"lang-none\">Main outline (26 elements):\n\nA .....\nB .....\nC .....\nD .....\nE .....\n.\n.\n.\nZ .....\n\nAdditional outline (3 elements):\n\nE .....\nM .....\nX .....\n</code></pre>",
      "raw": "[@[quachpas](/u/quachpas)] For me, there are two use cases to have multiple outlines.\n\nThe first use case is already illustrated by the screenshots above. This is when you need a brief outline and a detailed outline.\n\nThe second use case is when you need to combine headings arbitrary. E.g., you have a document with headings A, B, C, and so on, to Z. And your main outline includes all of them. But some sections may have special interest, and you may want to have a second outline specifically for them. In such a case, this can look like:\n\n```none\nMain outline (26 elements):\n\nA .....\nB .....\nC .....\nD .....\nE .....\n.\n.\n.\nZ .....\n\nAdditional outline (3 elements):\n\nE .....\nM .....\nX .....\n```",
      "reply_to_post_number": 13,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 28,
      "score": 15.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 477
    },
    {
      "id": 4678,
      "post_number": 15,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2024-10-25T13:52:09.597Z",
      "updated_at": "2024-10-25T13:52:09.597Z",
      "cooked": "<p>Hmmm I understand the use case well! My question was more about the labels you use for headings.<br>\nWhen you write</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#outline(title: [First outline],  target: heading.where(label: &lt;group1&gt;))\n#outline(title: [Second outline], target: heading.where(label: &lt;group2&gt;))\n#outline(title: [Third outline],  target: heading.where(label: &lt;group3&gt;))\n</code></pre>\n<p>what exactly is “group1”, “group2”, and “group3”? We will be able to help you better if you tell us that I think</p>",
      "raw": "Hmmm I understand the use case well! My question was more about the labels you use for headings.\nWhen you write\n\n\n```typ\n#outline(title: [First outline],  target: heading.where(label: <group1>))\n#outline(title: [Second outline], target: heading.where(label: <group2>))\n#outline(title: [Third outline],  target: heading.where(label: <group3>))\n```\nwhat exactly is \"group1\", \"group2\", and \"group3\"? We will be able to help you better if you tell us that I think",
      "reply_to_post_number": 14,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 24,
      "score": 9.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 4679,
      "post_number": 16,
      "username": "SillyFreak",
      "name": "SillyFreak",
      "created_at": "2024-10-25T15:23:54.835Z",
      "updated_at": "2024-10-25T15:23:54.835Z",
      "cooked": "<p>To put the request for more information in another way: what is your rationale for labelling something <code>&lt;group1&gt;</code>? Do all these headings have something in common that we could use in <code>target</code>?</p>",
      "raw": "To put the request for more information in another way: what is your rationale for labelling something `<group1>`? Do all these headings have something in common that we could use in `target`?",
      "reply_to_post_number": 15,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 24,
      "score": 9.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 32
    },
    {
      "id": 4681,
      "post_number": 17,
      "username": "jsx97",
      "name": "jsx97",
      "created_at": "2024-10-25T15:50:12.801Z",
      "updated_at": "2024-10-25T15:51:32.300Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"SillyFreak\" data-post=\"16\" data-topic=\"1307\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/sillyfreak/48/1483_2.png\" class=\"avatar\"> SillyFreak:</div>\n<blockquote>\n<p>Do all these headings have something in common that we could use in <code>target</code>?</p>\n</blockquote>\n</aside>\n<p>If you mean something in common in their appearance, as if they are red or italic or have specific prefix, the answer is no. The appearance of group1-headings, group2-headings, and group3-headings is the same. The headings are separated into three groups soleley on which things they talk about.</p>",
      "raw": "[quote=\"SillyFreak, post:16, topic:1307\"]\nDo all these headings have something in common that we could use in `target`?\n[/quote]\n\nIf you mean something in common in their appearance, as if they are red or italic or have specific prefix, the answer is no. The appearance of group1-headings, group2-headings, and group3-headings is the same. The headings are separated into three groups soleley on which things they talk about.",
      "reply_to_post_number": 16,
      "reply_count": 1,
      "quote_count": 1,
      "like_count": 0,
      "reads": 26,
      "score": 25.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 477
    },
    {
      "id": 4683,
      "post_number": 18,
      "username": "jsx97",
      "name": "jsx97",
      "created_at": "2024-10-25T16:39:11.131Z",
      "updated_at": "2024-10-25T16:40:12.509Z",
      "cooked": "<p>Recently I asked a different question: How to create a link to a section in such a way that link text will be the same as the heading itself, and if the heading will be changed, link text will be updated automatically, i.e. instead of writing <code>#link&lt;lorem&gt;)[Lorem]</code>, we could write just <code>#link&lt;lorem&gt;)[]</code> (<a href=\"https://forum.typst.app/t/1221\">https://forum.typst.app/t/1221</a>). It was answered by <a class=\"mention\" href=\"/u/xkevio\">@xkevio</a>.</p>\n<p>It seems that though <code>#metadata</code> and <code>#[ ... ]</code> solutions can work with xkevio’s solution in theory, it would be quite fragile. So currently I decided to use the <code>target: selector(&lt;...&gt;).or(&lt;...&gt;)</code> solution, mentioned by <a class=\"mention\" href=\"/u/sijo\">@sijo</a> above.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#show link: underline\n\n// https://forum.typst.app/t/1221\n#show link.where(body: []): l =&gt; {\n  let heading-elem = query(l.dest).first()\n  link(l.dest, heading-elem.body.text)\n}\n\n// --\n\n// https://forum.typst.app/t/1307\n#outline(title: [First outline],  target: selector(&lt;group1&gt;).or(&lt;lorem&gt;).or(&lt;ipsum&gt;))\n#outline(title: [Second outline], target: selector(&lt;group2&gt;).or(&lt;dolor&gt;))\n#outline(title: [Third outline],  target: selector(&lt;group3&gt;))\n\n#pagebreak()\n#link(&lt;lorem&gt;)[] \\\n#link(&lt;ipsum&gt;)[] \\\n#link(&lt;dolor&gt;)[]\n\n#lorem(50)\n\n= Lorem\n&lt;lorem&gt;\n\n#lorem(325)\n\n= Ipsum\n&lt;ipsum&gt;\n\n#lorem(325)\n\n= Dolor\n&lt;dolor&gt;\n\n#lorem(325)\n\n= Sit\n&lt;group2&gt;\n\n#lorem(325)\n\n= Amet\n&lt;group3&gt;\n\n#lorem(325)\n</code></pre>",
      "raw": "Recently I asked a different question: How to create a link to a section in such a way that link text will be the same as the heading itself, and if the heading will be changed, link text will be updated automatically, i.e. instead of writing `#link<lorem>)[Lorem]`, we could write just `#link<lorem>)[]` (<https://forum.typst.app/t/1221>). It was answered by @xkevio.\n\nIt seems that though `#metadata` and `#[ ... ]` solutions can work with xkevio's solution in theory, it would be quite fragile. So currently I decided to use the `target: selector(<...>).or(<...>)` solution, mentioned by @sijo above.\n\n```typ\n#show link: underline\n\n// https://forum.typst.app/t/1221\n#show link.where(body: []): l => {\n  let heading-elem = query(l.dest).first()\n  link(l.dest, heading-elem.body.text)\n}\n\n// --\n\n// https://forum.typst.app/t/1307\n#outline(title: [First outline],  target: selector(<group1>).or(<lorem>).or(<ipsum>))\n#outline(title: [Second outline], target: selector(<group2>).or(<dolor>))\n#outline(title: [Third outline],  target: selector(<group3>))\n\n#pagebreak()\n#link(<lorem>)[] \\\n#link(<ipsum>)[] \\\n#link(<dolor>)[]\n\n#lorem(50)\n\n= Lorem\n<lorem>\n\n#lorem(325)\n\n= Ipsum\n<ipsum>\n\n#lorem(325)\n\n= Dolor\n<dolor>\n\n#lorem(325)\n\n= Sit\n<group2>\n\n#lorem(325)\n\n= Amet\n<group3>\n\n#lorem(325)\n```",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 28,
      "score": 15.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 477
    },
    {
      "id": 4748,
      "post_number": 19,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2024-10-28T07:31:29.449Z",
      "updated_at": "2024-10-28T07:31:29.449Z",
      "cooked": "<p>Glad you got a solution!</p>\n<aside class=\"quote no-group\" data-username=\"jsx97\" data-post=\"17\" data-topic=\"1307\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/letter_avatar_proxy/v4/letter/j/3DA8FF/48.png\" class=\"avatar\"> jsx97:</div>\n<blockquote>\n<p>The headings are separated into three groups soleley on which things they talk about.</p>\n</blockquote>\n</aside>\n<p>If the headings are labelled based on their contents, I think you might as well have a super-heading grouping them. If you don’t like having a “chapter” heading, then you can reserve level 1 for invisible headings, and just use it for selection purposes, i.e. all select all headings after chapter, before next chapter.</p>",
      "raw": "Glad you got a solution!\n\n[quote=\"jsx97, post:17, topic:1307\"]\nThe headings are separated into three groups soleley on which things they talk about.\n[/quote]\n\nIf the headings are labelled based on their contents, I think you might as well have a super-heading grouping them. If you don't like having a \"chapter\" heading, then you can reserve level 1 for invisible headings, and just use it for selection purposes, i.e. all select all headings after chapter, before next chapter.",
      "reply_to_post_number": 17,
      "reply_count": 1,
      "quote_count": 1,
      "like_count": 1,
      "reads": 28,
      "score": 25.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 4763,
      "post_number": 21,
      "username": "jsx97",
      "name": "jsx97",
      "created_at": "2024-10-28T11:43:56.705Z",
      "updated_at": "2024-10-28T11:43:56.705Z",
      "cooked": "<blockquote>\n<p>You can reserve level 1 for invisible headings, and just use it for selection purposes, i.e. all select all headings after chapter, before next chapter.</p>\n</blockquote>\n<p>This seems to be an interesting idea, but could you show how to do it? It seems it is not something built-in into the <code>#outline</code> function, and we need hand-script it, right?</p>",
      "raw": "> You can reserve level 1 for invisible headings, and just use it for selection purposes, i.e. all select all headings after chapter, before next chapter.\n\nThis seems to be an interesting idea, but could you show how to do it? It seems it is not something built-in into the `#outline` function, and we need hand-script it, right?",
      "reply_to_post_number": 19,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 25,
      "score": 60.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 477
    },
    {
      "id": 4765,
      "post_number": 22,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2024-10-28T12:45:33.367Z",
      "updated_at": "2024-10-28T12:45:33.367Z",
      "cooked": "<p>No problem. Actually, you don’t need an invisible heading per say, just metadata.</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#outline(target: selector(heading).after(&lt;g1s&gt;).before(&lt;g1e&gt;))\n#outline(target: selector(heading).after(&lt;g2s&gt;).before(&lt;g2e&gt;))\n\n#metadata(\"group 1 start\") &lt;g1s&gt;\n\n= My Chapter Group 1\n\n== My Section Group 1\n\n#metadata(\"group 1 end\") &lt;g1e&gt;\n\n#metadata(\"group 2 start\") &lt;g2s&gt;\n= My Chapter Group 2\n\n== My Section Group 2\n\n#metadata(\"group 2 start\") &lt;g2e&gt;\n</code></pre>\n<p>As long as your groups are contiguous, it should be ok to write it like this.<br>\n<div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/1/136398af31933c12aea724cb51c4cffbdff7439f.png\" data-download-href=\"https://forum.typst.app/uploads/default/136398af31933c12aea724cb51c4cffbdff7439f\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/1/136398af31933c12aea724cb51c4cffbdff7439f_2_690x327.png\" alt=\"image\" data-base62-sha1=\"2LwshYYgj8KCFf2ACoJPNolUMY7\" width=\"690\" height=\"327\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/1/136398af31933c12aea724cb51c4cffbdff7439f_2_690x327.png, https://forum.typst.app/uploads/default/original/2X/1/136398af31933c12aea724cb51c4cffbdff7439f.png 1.5x, https://forum.typst.app/uploads/default/original/2X/1/136398af31933c12aea724cb51c4cffbdff7439f.png 2x\" data-dominant-color=\"F8F8F8\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">844×400 39.2 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>",
      "raw": "No problem. Actually, you don't need an invisible heading per say, just metadata.\n\n```typ\n#outline(target: selector(heading).after(<g1s>).before(<g1e>))\n#outline(target: selector(heading).after(<g2s>).before(<g2e>))\n\n#metadata(\"group 1 start\") <g1s>\n\n= My Chapter Group 1\n\n== My Section Group 1\n\n#metadata(\"group 1 end\") <g1e>\n\n#metadata(\"group 2 start\") <g2s>\n= My Chapter Group 2\n\n== My Section Group 2\n\n#metadata(\"group 2 start\") <g2e>\n```\n\nAs long as your groups are contiguous, it should be ok to write it like this.\n![image|690x327](upload://2LwshYYgj8KCFf2ACoJPNolUMY7.png)",
      "reply_to_post_number": 21,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 3,
      "reads": 25,
      "score": 70.0,
      "accepted_answer": true,
      "trust_level": 3,
      "user_id": 258
    },
    {
      "id": 4768,
      "post_number": 23,
      "username": "jsx97",
      "name": "jsx97",
      "created_at": "2024-10-28T13:19:29.184Z",
      "updated_at": "2024-10-28T13:19:29.184Z",
      "cooked": "<p>Amazing, thanks!</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#outline(target: selector(heading).after(&lt;group1start&gt;).before(&lt;group1end&gt;))\n#outline(target: selector(heading).after(&lt;group2start&gt;).before(&lt;group2end&gt;), title: none)\n\n#metadata(\"group 1 start\") &lt;group1start&gt;\n\n= Lorem\n\n= Ipsum\n\n#metadata(\"group 1 end\") &lt;group1end&gt;\n\n#metadata(\"group 2 start\") &lt;group2start&gt;\n\n= Dolor\n\n= Sit\n\n#metadata(\"group 2 start\") &lt;group2end&gt;\n</code></pre>",
      "raw": "Amazing, thanks!\n\n```typ\n#outline(target: selector(heading).after(<group1start>).before(<group1end>))\n#outline(target: selector(heading).after(<group2start>).before(<group2end>), title: none)\n\n#metadata(\"group 1 start\") <group1start>\n\n= Lorem\n\n= Ipsum\n\n#metadata(\"group 1 end\") <group1end>\n\n#metadata(\"group 2 start\") <group2start>\n\n= Dolor\n\n= Sit\n\n#metadata(\"group 2 start\") <group2end>\n```",
      "reply_to_post_number": 22,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 24,
      "score": 39.8,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 477
    },
    {
      "id": 4769,
      "post_number": 24,
      "username": "quachpas",
      "name": "Pascal Quach",
      "created_at": "2024-10-28T13:21:56.631Z",
      "updated_at": "2024-10-28T13:21:56.631Z",
      "cooked": "<p>Looks like that was what you wanted! I’m glad we finally got it down haha</p>",
      "raw": "Looks like that was what you wanted! I'm glad we finally got it down haha",
      "reply_to_post_number": 23,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 23,
      "score": 9.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 258
    }
  ],
  "scraped_at": "2025-06-10T09:56:04.835817"
}