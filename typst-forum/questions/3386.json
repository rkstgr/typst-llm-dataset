{
  "topic_metadata": {
    "id": 3386,
    "title": "How can I customize the font size of first and second order sub/superscripts?",
    "slug": "how-can-i-customize-the-font-size-of-first-and-second-order-sub-superscripts",
    "posts_count": 11,
    "created_at": "2025-03-24T20:42:28.586Z",
    "last_posted_at": "2025-03-25T15:19:22.307Z",
    "views": 104,
    "like_count": 11,
    "reply_count": 7,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 11,
    "accepted_answer_username": "Ullrich_Kothe",
    "tags": [
      "math"
    ],
    "category_id": 5,
    "participant_count": 4,
    "word_count": 580
  },
  "posts": [
    {
      "id": 10193,
      "post_number": 1,
      "username": "Ullrich_Kothe",
      "name": "Ullrich Köthe",
      "created_at": "2025-03-24T20:42:28.689Z",
      "updated_at": "2025-03-25T15:23:24.485Z",
      "cooked": "<p>Consider</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">$\nX_\"first\"_\"second\"\n$\n</code></pre>\n<p>I’d like to implement a rule that changes the font size of “first” and “second” separately. How?</p>\n<p>EDIT: See below for a possible answer.</p>",
      "raw": "Consider \n```typ\n$\nX_\"first\"_\"second\"\n$\n```\nI'd like to implement a rule that changes the font size of \"first\" and \"second\" separately. How?\n\nEDIT: See below for a possible answer.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 30,
      "score": 91.0,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 1382
    },
    {
      "id": 10195,
      "post_number": 2,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-03-24T21:08:59.493Z",
      "updated_at": "2025-03-24T21:11:36.118Z",
      "cooked": "<p>It looks like it’s not possible. You can open an issue requesting this feature. Here are related places in the code:</p>\n<aside class=\"onebox githubblob\" data-onebox-src=\"https://github.com/typst/typst/blob/1b2714e1a758d6ee0f9471fd1e49cb02f6d8cde4/crates/typst-library/src/math/style.rs?plain=1#L216-L227\">\n  <header class=\"source\">\n\n      <a href=\"https://github.com/typst/typst/blob/1b2714e1a758d6ee0f9471fd1e49cb02f6d8cde4/crates/typst-library/src/math/style.rs?plain=1#L216-L227\" target=\"_blank\" rel=\"noopener nofollow ugc\">github.com</a>\n  </header>\n\n  <article class=\"onebox-body\">\n    <h4><a href=\"https://github.com/typst/typst/blob/1b2714e1a758d6ee0f9471fd1e49cb02f6d8cde4/crates/typst-library/src/math/style.rs?plain=1#L216-L227\" target=\"_blank\" rel=\"noopener nofollow ugc\">typst/typst/blob/1b2714e1a758d6ee0f9471fd1e49cb02f6d8cde4/crates/typst-library/src/math/style.rs?plain=1#L216-L227</a></h4>\n\n\n\n    <pre class=\"onebox\"><code class=\"lang-rs?plain=1\">\n      <ol class=\"start lines\" start=\"216\" style=\"counter-reset: li-counter 215 ;\">\n          <li>pub fn sscript(</li>\n          <li>    /// The content to size.</li>\n          <li>    body: Content,</li>\n          <li>    /// Whether to impose a height restriction for exponents, like regular sub-</li>\n          <li>    /// and superscripts do.</li>\n          <li>    #[named]</li>\n          <li>    #[default(true)]</li>\n          <li>    cramped: bool,</li>\n          <li>) -&gt; Content {</li>\n          <li>    body.styled(EquationElem::set_size(MathSize::ScriptScript))</li>\n          <li>        .styled(EquationElem::set_cramped(cramped))</li>\n          <li>}</li>\n      </ol>\n    </code></pre>\n\n\n\n  </article>\n\n  <div class=\"onebox-metadata\">\n    \n    \n  </div>\n\n  <div style=\"clear: both\"></div>\n</aside>\n\n<aside class=\"onebox githubblob\" data-onebox-src=\"https://github.com/typst/typst/blob/1b2714e1a758d6ee0f9471fd1e49cb02f6d8cde4/crates/typst-library/src/text/mod.rs?plain=1#L977-L986\">\n  <header class=\"source\">\n\n      <a href=\"https://github.com/typst/typst/blob/1b2714e1a758d6ee0f9471fd1e49cb02f6d8cde4/crates/typst-library/src/text/mod.rs?plain=1#L977-L986\" target=\"_blank\" rel=\"noopener nofollow ugc\">github.com</a>\n  </header>\n\n  <article class=\"onebox-body\">\n    <h4><a href=\"https://github.com/typst/typst/blob/1b2714e1a758d6ee0f9471fd1e49cb02f6d8cde4/crates/typst-library/src/text/mod.rs?plain=1#L977-L986\" target=\"_blank\" rel=\"noopener nofollow ugc\">typst/typst/blob/1b2714e1a758d6ee0f9471fd1e49cb02f6d8cde4/crates/typst-library/src/text/mod.rs?plain=1#L977-L986</a></h4>\n\n\n\n    <pre class=\"onebox\"><code class=\"lang-rs?plain=1\">\n      <ol class=\"start lines\" start=\"977\" style=\"counter-reset: li-counter 976 ;\">\n          <li>fn resolve(self, styles: StyleChain) -&gt; Self::Output {</li>\n          <li>    let factor = match EquationElem::size_in(styles) {</li>\n          <li>        MathSize::Display | MathSize::Text =&gt; 1.0,</li>\n          <li>        MathSize::Script =&gt; EquationElem::script_scale_in(styles).0 as f64 / 100.0,</li>\n          <li>        MathSize::ScriptScript =&gt; {</li>\n          <li>            EquationElem::script_scale_in(styles).1 as f64 / 100.0</li>\n          <li>        }</li>\n          <li>    };</li>\n          <li>    factor * self.0.resolve(styles)</li>\n          <li>}</li>\n      </ol>\n    </code></pre>\n\n\n\n  </article>\n\n  <div class=\"onebox-metadata\">\n    \n    \n  </div>\n\n  <div style=\"clear: both\"></div>\n</aside>\n\n<aside class=\"onebox githubblob\" data-onebox-src=\"https://github.com/typst/typst/blob/1b2714e1a758d6ee0f9471fd1e49cb02f6d8cde4/crates/typst-library/src/math/equation.rs?plain=1#L141-L146\">\n  <header class=\"source\">\n\n      <a href=\"https://github.com/typst/typst/blob/1b2714e1a758d6ee0f9471fd1e49cb02f6d8cde4/crates/typst-library/src/math/equation.rs?plain=1#L141-L146\" target=\"_blank\" rel=\"noopener nofollow ugc\">github.com</a>\n  </header>\n\n  <article class=\"onebox-body\">\n    <h4><a href=\"https://github.com/typst/typst/blob/1b2714e1a758d6ee0f9471fd1e49cb02f6d8cde4/crates/typst-library/src/math/equation.rs?plain=1#L141-L146\" target=\"_blank\" rel=\"noopener nofollow ugc\">typst/typst/blob/1b2714e1a758d6ee0f9471fd1e49cb02f6d8cde4/crates/typst-library/src/math/equation.rs?plain=1#L141-L146</a></h4>\n\n\n\n    <pre class=\"onebox\"><code class=\"lang-rs?plain=1\">\n      <ol class=\"start lines\" start=\"141\" style=\"counter-reset: li-counter 140 ;\">\n          <li>/// Values of `scriptPercentScaleDown` and `scriptScriptPercentScaleDown`</li>\n          <li>/// respectively in the current font's MathConstants table.</li>\n          <li>#[internal]</li>\n          <li>#[default((70, 50))]</li>\n          <li>#[ghost]</li>\n          <li>pub script_scale: (i16, i16),</li>\n      </ol>\n    </code></pre>\n\n\n\n  </article>\n\n  <div class=\"onebox-metadata\">\n    \n    \n  </div>\n\n  <div style=\"clear: both\"></div>\n</aside>\n\n<p>So the script size is 70% of the display size (I assume) and sscript is 50%.</p>\n<aside class=\"onebox allowlistedgeneric\" data-onebox-src=\"https://typst.app/docs/reference/math/sizes#functions-script\">\n  <header class=\"source\">\n      <img src=\"https://forum.typst.app/uploads/default/original/1X/098187a593d51c4db99324614e2baeeb1bb355cc.png\" class=\"site-icon\" data-dominant-color=\"3CA8B6\" width=\"32\" height=\"32\">\n\n      <a href=\"https://typst.app/docs/reference/math/sizes#functions-script\" target=\"_blank\" rel=\"noopener\">Typst</a>\n  </header>\n\n  <article class=\"onebox-body\">\n    <div class=\"aspect-image\" style=\"--aspect-ratio:690/361;\"><img src=\"https://forum.typst.app/uploads/default/optimized/1X/db1c18ed802fe6841bee62606931f352da10ed09_2_690x362.png\" class=\"thumbnail\" data-dominant-color=\"7CC2C5\" width=\"690\" height=\"362\"></div>\n\n<h3><a href=\"https://typst.app/docs/reference/math/sizes#functions-script\" target=\"_blank\" rel=\"noopener\">Sizes Functions – Typst Documentation</a></h3>\n\n  <p>Documentation for the sizes functions.</p>\n\n\n  </article>\n\n  <div class=\"onebox-metadata\">\n    \n    \n  </div>\n\n  <div style=\"clear: both\"></div>\n</aside>\n",
      "raw": "It looks like it's not possible. You can open an issue requesting this feature. Here are related places in the code:\n\nhttps://github.com/typst/typst/blob/1b2714e1a758d6ee0f9471fd1e49cb02f6d8cde4/crates/typst-library/src/math/style.rs?plain=1#L216-L227\n\nhttps://github.com/typst/typst/blob/1b2714e1a758d6ee0f9471fd1e49cb02f6d8cde4/crates/typst-library/src/text/mod.rs?plain=1#L977-L986\n\nhttps://github.com/typst/typst/blob/1b2714e1a758d6ee0f9471fd1e49cb02f6d8cde4/crates/typst-library/src/math/equation.rs?plain=1#L141-L146\n\nSo the script size is 70% of the display size (I assume) and sscript is 50%.\n\nhttps://typst.app/docs/reference/math/sizes#functions-script",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 29,
      "score": 10.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 10196,
      "post_number": 3,
      "username": "Ullrich_Kothe",
      "name": "Ullrich Köthe",
      "created_at": "2025-03-24T21:32:27.962Z",
      "updated_at": "2025-03-24T21:32:27.962Z",
      "cooked": "<p>That’s bad news. Absolutely everything should be customizable!</p>",
      "raw": "That's bad news. Absolutely everything should be customizable!",
      "reply_to_post_number": null,
      "reply_count": 2,
      "quote_count": 0,
      "like_count": 0,
      "reads": 26,
      "score": 15.2,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 1382
    },
    {
      "id": 10197,
      "post_number": 4,
      "username": "vmartel08",
      "name": "Vincent Martel",
      "created_at": "2025-03-24T21:48:04.557Z",
      "updated_at": "2025-03-24T21:49:43.156Z",
      "cooked": "<p>Good thing it’s open source! How customizable is that?</p>\n<aside class=\"onebox githubrepo\" data-onebox-src=\"https://github.com/typst/typst\">\n  <header class=\"source\">\n\n      <a href=\"https://github.com/typst/typst\" target=\"_blank\" rel=\"noopener nofollow ugc\">github.com</a>\n  </header>\n\n  <article class=\"onebox-body\">\n    <div class=\"github-row\" data-github-private-repo=\"false\">\n  <img width=\"690\" height=\"344\" src=\"https://forum.typst.app/uploads/default/optimized/2X/2/2bf5ee9881d20e30a3069ce1efe624561e4500ba_2_690x344.png\" class=\"thumbnail\" data-dominant-color=\"EDF2F2\">\n\n  <h3><a href=\"https://github.com/typst/typst\" target=\"_blank\" rel=\"noopener nofollow ugc\">GitHub - typst/typst: A new markup-based typesetting system that is...</a></h3>\n\n    <p><span class=\"github-repo-description\">A new markup-based typesetting system that is powerful and easy to learn.</span></p>\n</div>\n\n  </article>\n\n  <div class=\"onebox-metadata\">\n    \n    \n  </div>\n\n  <div style=\"clear: both\"></div>\n</aside>\n",
      "raw": "Good thing it’s open source! How customizable is that?\n\nhttps://github.com/typst/typst",
      "reply_to_post_number": 3,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 3,
      "reads": 26,
      "score": 55.2,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 936
    },
    {
      "id": 10198,
      "post_number": 5,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-03-24T21:49:25.787Z",
      "updated_at": "2025-03-24T21:49:25.787Z",
      "cooked": "<p>Typst is still in active development and is missing a lot of small things (hence 700+ opened issues). And also there is a thing as too much customizability. Again, if you want it, feel free to open an issue.</p>",
      "raw": "Typst is still in active development and is missing a lot of small things (hence 700+ opened issues). And also there is a thing as too much customizability. Again, if you want it, feel free to open an issue.",
      "reply_to_post_number": 3,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 24,
      "score": 49.8,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 10199,
      "post_number": 6,
      "username": "Ullrich_Kothe",
      "name": "Ullrich Köthe",
      "created_at": "2025-03-24T21:56:29.419Z",
      "updated_at": "2025-03-24T21:58:01.180Z",
      "cooked": "<p>I can’t even convince the devs to accept my documentation improvements, see <a href=\"https://github.com/typst/typst/pull/6008\" rel=\"noopener nofollow ugc\">Revision of the Context documentation</a> and <a href=\"https://github.com/typst/typst/pull/6016\" rel=\"noopener nofollow ugc\">Revised Styling documentation</a>. So I consider this hopeless for now.</p>",
      "raw": "I can't even convince the devs to accept my documentation improvements, see [Revision of the Context documentation](https://github.com/typst/typst/pull/6008) and [Revised Styling documentation](https://github.com/typst/typst/pull/6016). So I consider this hopeless for now.",
      "reply_to_post_number": 4,
      "reply_count": 2,
      "quote_count": 0,
      "like_count": 0,
      "reads": 24,
      "score": 19.8,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 1382
    },
    {
      "id": 10205,
      "post_number": 7,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-03-25T06:13:16.143Z",
      "updated_at": "2025-03-25T06:13:16.143Z",
      "cooked": "<p>If you’re new to open-source, the key is patience. I looked at them and they are still open. For the first one it means that it’s still “work in progress”, for the second it means it wasn’t reviewed yet. I have a pull request stale for almost 2 months now: <a href=\"https://github.com/typst/typst/pull/5750\" class=\"inline-onebox\" rel=\"noopener nofollow ugc\">Improved ratio and relative length docs by Andrew15-5 · Pull Request #5750 · typst/typst · GitHub</a>. Moreover, feature request and proposed changes are two completely different things, so relating one to another isn’t really helpful.</p>",
      "raw": "If you're new to open-source, the key is patience. I looked at them and they are still open. For the first one it means that it's still \"work in progress\", for the second it means it wasn't reviewed yet. I have a pull request stale for almost 2 months now: https://github.com/typst/typst/pull/5750. Moreover, feature request and proposed changes are two completely different things, so relating one to another isn't really helpful.",
      "reply_to_post_number": 6,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 2,
      "reads": 23,
      "score": 64.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 10206,
      "post_number": 8,
      "username": "laurmaedje",
      "name": "Laurenz Mädje",
      "created_at": "2025-03-25T06:24:46.304Z",
      "updated_at": "2025-03-25T06:24:46.304Z",
      "cooked": "<p>I don’t think that’s entirely fair. I have spent a non-trivial amount of time already reviewing your context documentation changes and it’s on a path to be merged. But especially for docs I can’t just merge it in good faith if I still see issues with it.</p>\n<p>A lot of PRs are currently waiting for review because my time is limited. I could spend all my time on code review but then I wouldn’t get to work on the roadmap at all. It’s a balance and sometimes it goes more into one and sometimes more into the other direction.</p>",
      "raw": "I don't think that's entirely fair. I have spent a non-trivial amount of time already reviewing your context documentation changes and it's on a path to be merged. But especially for docs I can't just merge it in good faith if I still see issues with it.\n\nA lot of PRs are currently waiting for review because my time is limited. I could spend all my time on code review but then I wouldn't get to work on the roadmap at all. It's a balance and sometimes it goes more into one and sometimes more into the other direction.",
      "reply_to_post_number": 6,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 5,
      "reads": 23,
      "score": 89.6,
      "accepted_answer": false,
      "trust_level": 4,
      "user_id": 2
    },
    {
      "id": 10207,
      "post_number": 9,
      "username": "laurmaedje",
      "name": "Laurenz Mädje",
      "created_at": "2025-03-25T06:26:01.482Z",
      "updated_at": "2025-03-25T06:26:01.482Z",
      "cooked": "<p>As for this issue: One (extremely complicated) solution is patching the math font as that’s where the numbers come from.</p>",
      "raw": "As for this issue: One (extremely complicated) solution is patching the math font as that's where the numbers come from.",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 22,
      "score": 9.4,
      "accepted_answer": false,
      "trust_level": 4,
      "user_id": 2
    },
    {
      "id": 10223,
      "post_number": 10,
      "username": "Ullrich_Kothe",
      "name": "Ullrich Köthe",
      "created_at": "2025-03-25T09:58:46.215Z",
      "updated_at": "2025-03-25T10:03:45.286Z",
      "cooked": "<p>I highly appreciate your responsiveness, it is really great. However, yesterday I was really frustrated because we didn’t make progress on the important questions (e.g. an improved introductory example). And a colleague told me that he has given up on Typst and returned to LaTeX. Unfortunately, I read your encouraging comment “I think we’re on a good path and nearing consensus on how this should look!” last.</p>",
      "raw": "I highly appreciate your responsiveness, it is really great. However, yesterday I was really frustrated because we didn't make progress on the important questions (e.g. an improved introductory example). And a colleague told me that he has given up on Typst and returned to LaTeX. Unfortunately, I read your encouraging comment \"I think we're on a good path and nearing consensus on how this should look!\" last.",
      "reply_to_post_number": 8,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 22,
      "score": 4.4,
      "accepted_answer": false,
      "trust_level": 0,
      "user_id": 1382
    },
    {
      "id": 10227,
      "post_number": 11,
      "username": "Ullrich_Kothe",
      "name": "Ullrich Köthe",
      "created_at": "2025-03-25T15:19:22.307Z",
      "updated_at": "2025-03-25T15:34:10.908Z",
      "cooked": "<p>I figured out that enclosing the subscript within a box gives sufficient control for my needs, for example via the following function:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let SUB(body, size: 100%) = context box[\n  #set text(size: size*0.8em)\n  #set par(leading: par.leading*50%)\n  $body$\n]\n\n// Usage:\n$ X_SUB(bold(y)\\ bold(z)) $\n</code></pre>\n<p>Of course, the specific formatting instructions are varied according to purpose. Thanks for your help!</p>",
      "raw": "I figured out that enclosing the subscript within a box gives sufficient control for my needs, for example via the following function:\n```typ\n#let SUB(body, size: 100%) = context box[\n  #set text(size: size*0.8em)\n  #set par(leading: par.leading*50%)\n  $body$\n]\n\n// Usage:\n$ X_SUB(bold(y)\\ bold(z)) $\n```\nOf course, the specific formatting instructions are varied according to purpose. Thanks for your help!",
      "reply_to_post_number": 9,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 20,
      "score": 9.0,
      "accepted_answer": true,
      "trust_level": 0,
      "user_id": 1382
    }
  ],
  "scraped_at": "2025-06-10T09:50:05.397878"
}