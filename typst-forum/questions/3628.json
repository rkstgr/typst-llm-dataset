{
  "topic_metadata": {
    "id": 3628,
    "title": "How to create colored pills that span multiple lines? (multiline boxes)",
    "slug": "how-to-create-colored-pills-that-span-multiple-lines-multiline-boxes",
    "posts_count": 16,
    "created_at": "2025-04-12T20:55:05.160Z",
    "last_posted_at": "2025-05-01T10:14:20.003Z",
    "views": 290,
    "like_count": 18,
    "reply_count": 8,
    "has_accepted_answer": true,
    "accepted_answer_post_number": 5,
    "accepted_answer_username": "Mc-Zen",
    "tags": [
      "layout",
      "layout-containers"
    ],
    "category_id": 5,
    "participant_count": 4,
    "word_count": 1030
  },
  "posts": [
    {
      "id": 10974,
      "post_number": 1,
      "username": "adriano",
      "name": "Adriano Fantini",
      "created_at": "2025-04-12T20:55:05.417Z",
      "updated_at": "2025-04-13T07:39:26.671Z",
      "cooked": "<p>I want to create bi-colored pills like those used by e.g. gitlab <a href=\"https://docs.gitlab.com/user/project/labels/#scoped-labels\" rel=\"noopener nofollow ugc\">scoped labels</a>.</p>\n<p>This can be done in the following way (heavily based on <a href=\"https://typst.app/universe/package/tidy/\">tidy</a> implementation) from <a class=\"mention\" href=\"/u/mc-zen\">@Mc-Zen</a> : <a href=\"https://typst.app/project/rl81JICnSUJPIhDv5Pe3Hf\" class=\"inline-onebox\">Typst</a></p>\n<p>However, as shown in the document, such pills do not like to be very long, and they mess up line breaks if they are.</p>\n<p>Basically, I need a way to split a horizontal <code>box</code> over multiple lines.<br>\nI tried to find a simple solution that would not require complex context calculations, but I failed.<br>\nAny idea?</p>",
      "raw": "I want to create bi-colored pills like those used by e.g. gitlab [scoped labels](https://docs.gitlab.com/user/project/labels/#scoped-labels).\n\nThis can be done in the following way (heavily based on [tidy](https://typst.app/universe/package/tidy/) implementation) from @Mc-Zen : https://typst.app/project/rl81JICnSUJPIhDv5Pe3Hf\n\nHowever, as shown in the document, such pills do not like to be very long, and they mess up line breaks if they are.\n\nBasically, I need a way to split a horizontal `box` over multiple lines.\nI tried to find a simple solution that would not require complex context calculations, but I failed.\nAny idea?",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 60,
      "score": 142.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 669
    },
    {
      "id": 11059,
      "post_number": 2,
      "username": "Mc-Zen",
      "name": "Mc-Zen",
      "created_at": "2025-04-14T08:00:02.986Z",
      "updated_at": "2025-04-14T08:00:02.986Z",
      "cooked": "<p>Maybe you could achieve what you want with <code>highlight</code>. A nice solution would be</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let pill(a, b, fill: red) = {\n  highlight(\n    fill: fill, \n    stroke: fill, \n    radius: (left: 100pt),\n    text(white, [~#a~])\n  )\n  highlight(\n    fill: white, \n    stroke: fill, \n    radius: (right: 100%),\n    text(fill, [~#b~])\n  )\n}\n</code></pre>\n<p>Unfortunately, after a linebreak, the rounded corners are repeated<br>\n<img src=\"https://forum.typst.app/uploads/default/original/2X/f/fbf028cb1f1b147f8a0031eb3c296536e161c3d0.png\" alt=\"image\" data-base62-sha1=\"zWKnOxxm1BDup25gHRV9N8xBLyM\" width=\"360\" height=\"178\"></p>\n<p>At least it’s already much better than using boxes. You could trick around a bit by adding the rounded beginning (and also end but here I did only the beginning) separately:</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let pill(a, b, fill: red) = {\n  highlight(\n    fill: fill, \n    stroke: fill, \n    radius: (left: 100pt),\n    [~~~~~]\n  )\n  h(-.7em)\n  highlight(\n    fill: fill, \n    stroke: fill, \n    text(white, [#a~])\n  )\n  highlight(\n    fill: white, \n    stroke: fill, \n    radius: (right: 100%),\n    text(fill, [~#b~])\n  )\n}\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/4/462edd9033967cce3d27f7eca0e80a7e2467c51c.png\" alt=\"image\" data-base62-sha1=\"a0RPzikxYE8roFxmFjdjs3thhms\" width=\"345\" height=\"148\"><br>\nThis is something you might be able to tune until it looks good.</p>",
      "raw": "Maybe you could achieve what you want with `highlight`. A nice solution would be \n```typ\n#let pill(a, b, fill: red) = {\n  highlight(\n    fill: fill, \n    stroke: fill, \n    radius: (left: 100pt),\n    text(white, [~#a~])\n  )\n  highlight(\n    fill: white, \n    stroke: fill, \n    radius: (right: 100%),\n    text(fill, [~#b~])\n  )\n}\n```\nUnfortunately, after a linebreak, the rounded corners are repeated\n![image|360x178](upload://zWKnOxxm1BDup25gHRV9N8xBLyM.png)\n\nAt least it's already much better than using boxes. You could trick around a bit by adding the rounded beginning (and also end but here I did only the beginning) separately:\n```typ\n#let pill(a, b, fill: red) = {\n  highlight(\n    fill: fill, \n    stroke: fill, \n    radius: (left: 100pt),\n    [~~~~~]\n  )\n  h(-.7em)\n  highlight(\n    fill: fill, \n    stroke: fill, \n    text(white, [#a~])\n  )\n  highlight(\n    fill: white, \n    stroke: fill, \n    radius: (right: 100%),\n    text(fill, [~#b~])\n  )\n}\n```\n![image|345x148](upload://a0RPzikxYE8roFxmFjdjs3thhms.png)\nThis is something you might be able to tune until it looks good.",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 4,
      "reads": 56,
      "score": 76.2,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 9
    },
    {
      "id": 11082,
      "post_number": 3,
      "username": "adriano",
      "name": "Adriano Fantini",
      "created_at": "2025-04-14T20:07:20.439Z",
      "updated_at": "2025-04-14T20:07:20.439Z",
      "cooked": "<aside class=\"quote no-group\" data-username=\"Mc-Zen\" data-post=\"2\" data-topic=\"3628\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://forum.typst.app/user_avatar/forum.typst.app/mc-zen/48/234_2.png\" class=\"avatar\"> Mc-Zen:</div>\n<blockquote>\n<pre><code class=\"lang-auto\">#let pill(a, b, fill: red) = {\n  highlight(\n    fill: fill, \n    stroke: fill, \n    radius: (left: 100pt),\n    [~~~~~]\n  )\n  h(-.7em)\n  highlight(\n    fill: fill, \n    stroke: fill, \n    text(white, [#a~])\n  )\n  highlight(\n    fill: white, \n    stroke: fill, \n    radius: (right: 100%),\n    text(fill, [~#b~])\n  )\n}\n</code></pre>\n</blockquote>\n</aside>\n<p>Thanks for that!<br>\nHowever it still breaks if it’s the rightmost part to go to a new line:<br>\n<img src=\"https://forum.typst.app/uploads/default/original/2X/0/0838f41997732360bb540c516c3981d62d7c9c4b.png\" alt=\"image\" data-base62-sha1=\"1aJQd3RyraKgzsIBfiS8iMscDQT\" width=\"347\" height=\"136\"></p>\n<p>But I’ll surely find some more time to play around it and see if I can find a possible solution based on <code>highlight</code> instead of <code>box</code></p>",
      "raw": "[quote=\"Mc-Zen, post:2, topic:3628\"]\n```\n#let pill(a, b, fill: red) = {\n  highlight(\n    fill: fill, \n    stroke: fill, \n    radius: (left: 100pt),\n    [~~~~~]\n  )\n  h(-.7em)\n  highlight(\n    fill: fill, \n    stroke: fill, \n    text(white, [#a~])\n  )\n  highlight(\n    fill: white, \n    stroke: fill, \n    radius: (right: 100%),\n    text(fill, [~#b~])\n  )\n}\n```\n[/quote]\n\nThanks for that!\nHowever it still breaks if it's the rightmost part to go to a new line:\n![image|347x136](upload://1aJQd3RyraKgzsIBfiS8iMscDQT.png)\n\nBut I'll surely find some more time to play around it and see if I can find a possible solution based on `highlight` instead of `box`",
      "reply_to_post_number": 2,
      "reply_count": 0,
      "quote_count": 1,
      "like_count": 0,
      "reads": 50,
      "score": 15.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 669
    },
    {
      "id": 11084,
      "post_number": 4,
      "username": "Mc-Zen",
      "name": "Mc-Zen",
      "created_at": "2025-04-14T20:54:05.191Z",
      "updated_at": "2025-04-14T20:54:05.191Z",
      "cooked": "<p>I know, I was just giving the idea based on the left part but you can do the same with the right one, I think.</p>",
      "raw": "I know, I was just giving the idea based on the left part but you can do the same with the right one, I think.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 46,
      "score": 9.2,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 9
    },
    {
      "id": 11092,
      "post_number": 5,
      "username": "Mc-Zen",
      "name": "Mc-Zen",
      "created_at": "2025-04-14T22:13:30.045Z",
      "updated_at": "2025-04-14T22:13:30.045Z",
      "cooked": "<p>Note that <code>highlight.stroke</code> accepts a dictionary which you can use like this</p>\n<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#let pill(a, b, fill: red) = {\n  highlight(\n    fill: fill, \n    stroke: fill, \n    radius: (left: 100%),\n    [~~~~~]\n  )\n  h(-.7em)\n  highlight(\n    fill: fill, \n    stroke: fill, \n    text(white, [#a~])\n  )\n  highlight(\n    fill: none, \n    stroke: (y: fill), \n    text(fill, [~#b])\n  )\n  h(-.7em)\n  highlight(\n    fill: none, \n    stroke: (y: fill, right: fill), \n    radius: (right: 100%),\n    text(fill, [~~~~~])\n  )\n}\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/d/d0e4e3d3a6f4b57af8955df36ffa69541cd6dad3.png\" alt=\"image\" data-base62-sha1=\"tNXHUJ93fDJQrCMJP8TBy7s2I9B\" width=\"548\" height=\"229\"></p>\n<p>Still not perfect maybe but betterer.</p>",
      "raw": "Note that `highlight.stroke` accepts a dictionary which you can use like this\n```typ\n#let pill(a, b, fill: red) = {\n  highlight(\n    fill: fill, \n    stroke: fill, \n    radius: (left: 100%),\n    [~~~~~]\n  )\n  h(-.7em)\n  highlight(\n    fill: fill, \n    stroke: fill, \n    text(white, [#a~])\n  )\n  highlight(\n    fill: none, \n    stroke: (y: fill), \n    text(fill, [~#b])\n  )\n  h(-.7em)\n  highlight(\n    fill: none, \n    stroke: (y: fill, right: fill), \n    radius: (right: 100%),\n    text(fill, [~~~~~])\n  )\n}\n```\n\n![image|548x229](upload://tNXHUJ93fDJQrCMJP8TBy7s2I9B.png)\n\nStill not perfect maybe but betterer.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 5,
      "reads": 47,
      "score": 94.4,
      "accepted_answer": true,
      "trust_level": 2,
      "user_id": 9
    },
    {
      "id": 11129,
      "post_number": 6,
      "username": "adriano",
      "name": "Adriano Fantini",
      "created_at": "2025-04-15T19:07:22.111Z",
      "updated_at": "2025-04-15T19:07:22.111Z",
      "cooked": "<p>Getting there!</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#let pill(a, b, fill: gray, radius: 100%) = {\n  highlight(\n    fill: fill, \n    stroke: fill, \n    radius: (left: radius),\n    [~~~~~#sym.zws]\n  )\n  h(-.7em)\n  highlight(\n    fill: fill, \n    stroke: fill, \n    text(white, hyphenate: true, [#a~#sym.zws])\n  )\n  highlight(\n    fill: none, \n    stroke: (y: fill), \n    text(hyphenate: true)[#sym.zws~#b]\n  )\n  h(-.7em)\n  highlight(\n    fill: none, \n    stroke: (y: fill, right: fill), \n    radius: (right: radius),\n    text(fill, [~~~~~])\n  )\n}\n\n#box(width: 9em)[\n  #pill(\"definitely good even when\")[it goes to new line!]\n]\n\n#box(width: 9em)[\n  #pill(\"first\")[line!]\\\n  #pill(\"second\")[line! All good!]\n  \n  #pill(\"thirddddddddddddd\")[line! All good!]\n  #pill(\"fourth\")[line! Less good!]\n]\n</code></pre>\n<p>I had to also add a few <code>sym.zws</code> to force it to go to new lines and not mess it up trying to connect different highlights.</p>\n<p>It produces:<br>\n<div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/5/5ee64bf90151af91bb881b9f7af5a401b5c0d138.png\" data-download-href=\"https://forum.typst.app/uploads/default/5ee64bf90151af91bb881b9f7af5a401b5c0d138\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/5/5ee64bf90151af91bb881b9f7af5a401b5c0d138_2_371x500.png\" alt=\"image\" data-base62-sha1=\"dxwi1JgkWGzJO03zjqP8P48rt7G\" width=\"371\" height=\"500\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/5/5ee64bf90151af91bb881b9f7af5a401b5c0d138_2_371x500.png, https://forum.typst.app/uploads/default/original/2X/5/5ee64bf90151af91bb881b9f7af5a401b5c0d138.png 1.5x, https://forum.typst.app/uploads/default/original/2X/5/5ee64bf90151af91bb881b9f7af5a401b5c0d138.png 2x\" data-dominant-color=\"E3E3E3\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">484×652 57.9 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>As you can see the last <code>pill</code> is not great, but it is <em>almost</em> there. Any brilliant idea on that one?</p>",
      "raw": "Getting there!\n```typst\n#let pill(a, b, fill: gray, radius: 100%) = {\n  highlight(\n    fill: fill, \n    stroke: fill, \n    radius: (left: radius),\n    [~~~~~#sym.zws]\n  )\n  h(-.7em)\n  highlight(\n    fill: fill, \n    stroke: fill, \n    text(white, hyphenate: true, [#a~#sym.zws])\n  )\n  highlight(\n    fill: none, \n    stroke: (y: fill), \n    text(hyphenate: true)[#sym.zws~#b]\n  )\n  h(-.7em)\n  highlight(\n    fill: none, \n    stroke: (y: fill, right: fill), \n    radius: (right: radius),\n    text(fill, [~~~~~])\n  )\n}\n\n#box(width: 9em)[\n  #pill(\"definitely good even when\")[it goes to new line!]\n]\n\n#box(width: 9em)[\n  #pill(\"first\")[line!]\\\n  #pill(\"second\")[line! All good!]\n  \n  #pill(\"thirddddddddddddd\")[line! All good!]\n  #pill(\"fourth\")[line! Less good!]\n]\n```\nI had to also add a few `sym.zws` to force it to go to new lines and not mess it up trying to connect different highlights.\n\nIt produces:\n![image|371x500](upload://dxwi1JgkWGzJO03zjqP8P48rt7G.png)\n\nAs you can see the last `pill` is not great, but it is *almost* there. Any brilliant idea on that one?",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 45,
      "score": 14.0,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 669
    },
    {
      "id": 11130,
      "post_number": 7,
      "username": "flokl",
      "name": "",
      "created_at": "2025-04-15T19:28:38.948Z",
      "updated_at": "2025-04-15T19:28:38.948Z",
      "cooked": "<p>For the last one you could add a word joiner <code>sym.wj</code> between the <code>h</code> and the last <code>highlight</code> to force the last word to stick to the rounded ending.</p>",
      "raw": "For the last one you could add a word joiner `sym.wj` between the `h` and the last `highlight` to force the last word to stick to the rounded ending.",
      "reply_to_post_number": 6,
      "reply_count": 2,
      "quote_count": 0,
      "like_count": 3,
      "reads": 40,
      "score": 63.0,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 8
    },
    {
      "id": 11135,
      "post_number": 8,
      "username": "adriano",
      "name": "Adriano Fantini",
      "created_at": "2025-04-15T21:08:29.132Z",
      "updated_at": "2025-04-15T21:08:29.132Z",
      "cooked": "<p>Indeed that works well!</p>\n<pre data-code-wrap=\"typst\"><code class=\"lang-typst\">#let pill(a, b, fill: gray, radius: 100%) = {\n  highlight(\n    fill: fill, \n    stroke: fill, \n    radius: (left: radius),\n    [#sym.zws~~~~~#sym.wj]\n  )\n  h(-.7em)\n  highlight(\n    fill: fill, \n    stroke: fill, \n    text(white, hyphenate: true, [#sym.wj#a~#sym.zws])\n  )\n  highlight(\n    fill: none, \n    stroke: (y: fill), \n    text(hyphenate: true)[#sym.zws~#b#sym.wj]\n  )\n  h(-.7em)\n  highlight(\n    fill: none, \n    stroke: (y: fill, right: fill), \n    radius: (right: radius),\n    text(fill, [#sym.wj~~~~~#sym.zws])\n  )\n}\n\n#box(width: 9em)[\n  #pill(\"definitely good even when\")[it goes to new line!]\n]\n\n#box(width: 9em)[\n  #pill(\"first\")[line!]\\\n  #pill(\"second\")[line! All good!]\n  \n  #pill(\"thirddddddddddddd\")[line! All good!]\n  #pill(\"fourth\")[line! Also good!]\n  #pill(\"fifthhhhhhhhhhhhhhh\")[line! Indeed also good!]\n]\n</code></pre>\n<p>Results in:<br>\n<div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://forum.typst.app/uploads/default/original/2X/7/778eebe9290b6c45721391da55132247b12ec87a.png\" data-download-href=\"https://forum.typst.app/uploads/default/778eebe9290b6c45721391da55132247b12ec87a\" title=\"image\"><img src=\"https://forum.typst.app/uploads/default/optimized/2X/7/778eebe9290b6c45721391da55132247b12ec87a_2_281x500.png\" alt=\"image\" data-base62-sha1=\"h3F1FyY8kOXXhJqfPvbow8p8kZk\" width=\"281\" height=\"500\" srcset=\"https://forum.typst.app/uploads/default/optimized/2X/7/778eebe9290b6c45721391da55132247b12ec87a_2_281x500.png, https://forum.typst.app/uploads/default/optimized/2X/7/778eebe9290b6c45721391da55132247b12ec87a_2_421x750.png 1.5x, https://forum.typst.app/uploads/default/original/2X/7/778eebe9290b6c45721391da55132247b12ec87a.png 2x\" data-dominant-color=\"DDDDDD\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">431×766 73.8 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>\n<p>To me this is <em>almost</em> perfect!</p>",
      "raw": "Indeed that works well!\n\n```typst\n#let pill(a, b, fill: gray, radius: 100%) = {\n  highlight(\n    fill: fill, \n    stroke: fill, \n    radius: (left: radius),\n    [#sym.zws~~~~~#sym.wj]\n  )\n  h(-.7em)\n  highlight(\n    fill: fill, \n    stroke: fill, \n    text(white, hyphenate: true, [#sym.wj#a~#sym.zws])\n  )\n  highlight(\n    fill: none, \n    stroke: (y: fill), \n    text(hyphenate: true)[#sym.zws~#b#sym.wj]\n  )\n  h(-.7em)\n  highlight(\n    fill: none, \n    stroke: (y: fill, right: fill), \n    radius: (right: radius),\n    text(fill, [#sym.wj~~~~~#sym.zws])\n  )\n}\n\n#box(width: 9em)[\n  #pill(\"definitely good even when\")[it goes to new line!]\n]\n\n#box(width: 9em)[\n  #pill(\"first\")[line!]\\\n  #pill(\"second\")[line! All good!]\n  \n  #pill(\"thirddddddddddddd\")[line! All good!]\n  #pill(\"fourth\")[line! Also good!]\n  #pill(\"fifthhhhhhhhhhhhhhh\")[line! Indeed also good!]\n]\n```\n\nResults in:\n![image|281x500](upload://h3F1FyY8kOXXhJqfPvbow8p8kZk.png)\n\nTo me this is *almost* perfect!",
      "reply_to_post_number": 7,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 3,
      "reads": 41,
      "score": 63.2,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 669
    },
    {
      "id": 11155,
      "post_number": 9,
      "username": "Mc-Zen",
      "name": "Mc-Zen",
      "created_at": "2025-04-16T12:40:46.238Z",
      "updated_at": "2025-04-16T12:40:46.238Z",
      "cooked": "<p>Good one! The word-joiner was what I was looking for but I didn’t find it because I had forgotten the name.</p>",
      "raw": "Good one! The word-joiner was what I was looking for but I didn't find it because I had forgotten the name.",
      "reply_to_post_number": 7,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 32,
      "score": 6.4,
      "accepted_answer": false,
      "trust_level": 2,
      "user_id": 9
    },
    {
      "id": 11173,
      "post_number": 10,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-16T15:58:48.510Z",
      "updated_at": "2025-04-16T21:52:32.992Z",
      "cooked": "<p>This sounds related: <a href=\"https://github.com/typst/typst/issues/5624\" class=\"inline-onebox\" rel=\"noopener nofollow ugc\">Add documentation about ways to customize breaking of words · Issue #5624 · typst/typst · GitHub</a>.</p>",
      "raw": "This sounds related: https://github.com/typst/typst/issues/5624.",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 33,
      "score": 21.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 11183,
      "post_number": 11,
      "username": "adriano",
      "name": "Adriano Fantini",
      "created_at": "2025-04-16T20:00:23.934Z",
      "updated_at": "2025-04-16T20:00:23.934Z",
      "cooked": "<p>I’m still playing around with this to improve the final look and make it more generic. I’ll post here when I have a final version.</p>\n<p>But, a question to the wise… this seems hackish at best.<br>\nIs there no other way to do this?<br>\nI mean, if someone were to write a package to do this, which route would one take?</p>",
      "raw": "I'm still playing around with this to improve the final look and make it more generic. I'll post here when I have a final version.\n\nBut, a question to the wise... this seems hackish at best.\nIs there no other way to do this?\nI mean, if someone were to write a package to do this, which route would one take?",
      "reply_to_post_number": null,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 33,
      "score": 11.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 669
    },
    {
      "id": 11195,
      "post_number": 12,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-16T21:51:49.432Z",
      "updated_at": "2025-04-17T15:22:47.762Z",
      "cooked": "<p>I don’t understand what is missing in <a href=\"https://forum.typst.app/t/how-to-create-colored-pills-that-span-multiple-lines-multiline-boxes/3628/8\" class=\"inline-onebox\">How to create colored pills that span multiple lines? (multiline boxes) - #8 by adriano</a>. Is it too complex? You can open a new <a class=\"hashtag-cooked\" href=\"/c/questions/5\" data-type=\"category\" data-slug=\"questions\" data-id=\"5\"><span class=\"hashtag-icon-placeholder\"><svg class=\"fa d-icon d-icon-square-full svg-icon svg-node\"><use href=\"#square-full\"></use></svg></span><span>Questions</span></a> topic for a different question.</p>\n<p>This also sounds something like <a href=\"https://github.com/typst/typst/issues/735\" class=\"inline-onebox\" rel=\"noopener nofollow ugc\">Allow adding content / configuring breakpoints of broken blocks · Issue #735 · typst/typst · GitHub</a>, but horizontally.</p>",
      "raw": "I don't understand what is missing in https://forum.typst.app/t/how-to-create-colored-pills-that-span-multiple-lines-multiline-boxes/3628/8?u=andrew. Is it too complex? You can open a new #questions topic for a different question.\n\nThis also sounds something like https://github.com/typst/typst/issues/735, but horizontally.",
      "reply_to_post_number": 11,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 32,
      "score": 11.4,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 11345,
      "post_number": 13,
      "username": "adriano",
      "name": "Adriano Fantini",
      "created_at": "2025-04-19T18:41:52.803Z",
      "updated_at": "2025-04-19T18:49:22.725Z",
      "cooked": "<p>It is… hackish.<br>\nIn fact if you start applying it it shows several limitations:</p>\n<ul>\n<li>different radiuses, fonts and font sizes require manual tuning of the spacing to look decent</li>\n<li>there are weird artifacts. Look at what happens if I use modified text for the left side of a pill:</li>\n</ul>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/1/129cdfa80340c2bb312ea0ac8d5a61cd8d734241.png\" alt=\"image\" data-base62-sha1=\"2EEH4xnymfX45CpVAAv8mox8u1X\" width=\"374\" height=\"301\"></p>\n<p>Even modifying the highlight’s edges did not seem to fix this.</p>",
      "raw": "It is... hackish.\nIn fact if you start applying it it shows several limitations:\n- different radiuses, fonts and font sizes require manual tuning of the spacing to look decent\n- there are weird artifacts. Look at what happens if I use modified text for the left side of a pill:\n\n![image|374x301](upload://2EEH4xnymfX45CpVAAv8mox8u1X.png)\n\nEven modifying the highlight's edges did not seem to fix this.",
      "reply_to_post_number": 12,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 0,
      "reads": 28,
      "score": 10.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 669
    },
    {
      "id": 11348,
      "post_number": 14,
      "username": "Andrew",
      "name": "",
      "created_at": "2025-04-19T20:32:44.640Z",
      "updated_at": "2025-04-19T20:32:44.640Z",
      "cooked": "<pre data-code-wrap=\"typ\"><code class=\"lang-typ\">#pill[text текст テキスト][next]\n\n#highlight(stroke: 1pt)[text текст テキスト]\n</code></pre>\n<p><img src=\"https://forum.typst.app/uploads/default/original/2X/7/700147f541e59a2b206bfeeafd194528721732b6.png\" alt=\"image\" data-base62-sha1=\"fYQdJ4Uen3aJsD15LY40MwxpX26\" width=\"324\" height=\"110\"></p>\n<p>Looks like</p>\n<aside class=\"onebox githubissue\" data-onebox-src=\"https://github.com/typst/typst/issues/5324\">\n  <header class=\"source\">\n\n      <a href=\"https://github.com/typst/typst/issues/5324\" target=\"_blank\" rel=\"noopener nofollow ugc\">github.com/typst/typst</a>\n  </header>\n\n  <article class=\"onebox-body\">\n    <div class=\"github-row\">\n  <div class=\"github-icon-container\" title=\"Issue\" data-github-private-repo=\"false\">\n\t  <svg width=\"60\" height=\"60\" class=\"github-icon\" viewBox=\"0 0 14 16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z\"></path></svg>\n  </div>\n\n  <div class=\"github-info-container\">\n    <h4>\n      <a href=\"https://github.com/typst/typst/issues/5324\" target=\"_blank\" rel=\"noopener nofollow ugc\">`highlight.stroke` is split into parts if different scripts/languages are used</a>\n    </h4>\n\n    <div class=\"github-info\">\n      <div class=\"date\">\n        opened <span class=\"discourse-local-date\" data-format=\"ll\" data-date=\"2024-10-30\" data-time=\"00:36:17\" data-timezone=\"UTC\">12:36AM - 30 Oct 24 UTC</span>\n      </div>\n\n\n      <div class=\"user\">\n        <a href=\"https://github.com/Andrew15-5\" target=\"_blank\" rel=\"noopener nofollow ugc\">\n          <img alt=\"Andrew15-5\" src=\"https://forum.typst.app/uploads/default/original/1X/8c66fc8b1c207ba90488266df18b206a61b1fc49.png\" class=\"onebox-avatar-inline\" width=\"20\" height=\"20\" data-dominant-color=\"707C3A\">\n          Andrew15-5\n        </a>\n      </div>\n    </div>\n\n    <div class=\"labels\">\n        <span style=\"display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;\">\n          bug\n        </span>\n        <span style=\"display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;\">\n          text\n        </span>\n    </div>\n  </div>\n</div>\n\n  <div class=\"github-row\">\n    <p class=\"github-body-container\">### Description\n\nI used the highlighting for some stuff, but when I thought of a<span class=\"show-more-container\"><a href=\"\" rel=\"noopener\" class=\"show-more\">…</a></span><span class=\"excerpt hidden\">dding a stroke, this happened:\n\n```typ\n#let hl = highlight.with(stroke: red)\n- #hl[package manager/some other text/here]\n- #hl[package manager/менеджер пакетов/包管理器]\n```\n\n![image](https://github.com/user-attachments/assets/5f4a050b-cb60-4f2d-baa3-05031b5e0ef0)\n\nI guess it's hard with glyphs which background fill is different in size, but for glyphs with the monotone background size I think it's definitely not the desired effect.\n\nInstead of 3 stroked boxes, there should be 1, or at least 2 instead.\n\n### Reproduction URL\n\n_No response_\n\n### Operating system\n\nLinux\n\n### Typst version\n\n- [X] I am using the latest version of Typst</span></p>\n  </div>\n\n  </article>\n\n  <div class=\"onebox-metadata\">\n    \n    \n  </div>\n\n  <div style=\"clear: both\"></div>\n</aside>\n",
      "raw": "```typ\n#pill[text текст テキスト][next]\n\n#highlight(stroke: 1pt)[text текст テキスト]\n```\n\n![image|433x147, 75%](upload://fYQdJ4Uen3aJsD15LY40MwxpX26.png)\n\nLooks like\n\nhttps://github.com/typst/typst/issues/5324",
      "reply_to_post_number": 13,
      "reply_count": 1,
      "quote_count": 0,
      "like_count": 1,
      "reads": 28,
      "score": 25.6,
      "accepted_answer": false,
      "trust_level": 3,
      "user_id": 51
    },
    {
      "id": 11359,
      "post_number": 15,
      "username": "adriano",
      "name": "Adriano Fantini",
      "created_at": "2025-04-20T08:27:33.921Z",
      "updated_at": "2025-04-20T08:27:49.044Z",
      "cooked": "<p>indeed, that’s probably what it is! Watching the issue, thanks!</p>",
      "raw": "indeed, that's probably what it is! Watching the issue, thanks!",
      "reply_to_post_number": 14,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 1,
      "reads": 27,
      "score": 20.4,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 669
    },
    {
      "id": 11853,
      "post_number": 16,
      "username": "adriano",
      "name": "Adriano Fantini",
      "created_at": "2025-05-01T10:14:20.003Z",
      "updated_at": "2025-05-01T10:14:20.003Z",
      "cooked": "<p>Unfortunately I did not find any better way to do this in Typst, so I am still looking for an alternative <img src=\"https://forum.typst.app/images/emoji/apple/frowning.png?v=12\" title=\":frowning:\" class=\"emoji\" alt=\":frowning:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>",
      "raw": "Unfortunately I did not find any better way to do this in Typst, so I am still looking for an alternative :frowning:",
      "reply_to_post_number": null,
      "reply_count": 0,
      "quote_count": 0,
      "like_count": 0,
      "reads": 23,
      "score": 4.6,
      "accepted_answer": false,
      "trust_level": 1,
      "user_id": 669
    }
  ],
  "scraped_at": "2025-06-10T09:49:16.927919"
}